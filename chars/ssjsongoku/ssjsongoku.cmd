; コマンド
;
[Command]
name = "AI0"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI1"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI2"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI3"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI4"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI5"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI6"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI7"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI8"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI9"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI10"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI11"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI12"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI13"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI14"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI15"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI16"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI17"
command = a,B,c,x,y,z,s,B,D,F,U,a,b,c,x,y,z,s,s
time = 0
[Command]
name = "AI18"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI19"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI20"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI21"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI22"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI23"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI24"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI25"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI26"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI27"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI28"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI29"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI30"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI31"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI32"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI33"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI34"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI35"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI36"
command = z,z,z,z,z,z,a,a,a,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI37"
command = z,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,z,z,z
time = 0
[Command]
name = "AI38"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z
time = 0
[Command]
name = "AI39"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI40"
command = z,z,z,z,a,a,a,z,z,z,z,a,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI41"
command = z,z,z,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z,z
time = 0
[Command]
name = "AI42"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI43"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,a,a,z
time = 0
[Command]
name = "AI44"
command = z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,a,a,a,z
time = 0
[Command]
name = "AI45"
command = z,z,z,z,z,z,a,a,z,z,z,z,z,a,a,a,a,z,z
time = 0
[Command]
name = "AI46"
command = z,z,z,z,z,z,z,z,a,a,a,a,a,a,z,z,z,z,z
time = 0
[Command]
name = "AI47"
command = z,z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI48"
command = z,z,z,z,z,a,a,a,z,z,z,a,a,a,z,z,a,z,a
time = 0
[Command]
name = "AI49"
command = z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z,z
time = 0
[Command]
name = "AI50"
command = z,z,z,a,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z
time = 0

;-| Super Motions |--------------------------------------------------------

[Command]
name = "Ryuken"
command = ~D, F, D, F, b
time = 25

[Command]
name = "dragonrush"
command = ~D, B, F, b
time = 30

[Command]
name = "Kamehameha"
command = ~D, F, D, F, y
time = 25

[Command]
name = "Kaiohken"
command = ~D, B, F, y
time = 30

[Command]
name = "meteosmash"
command = ~D, DB, B, y
time = 20


;-| Special Motions |------------------------------------------------------

[Command]
name = "shoryuken"
command = ~F, D, DF, x
time = 15

[Command]
name = "shoryuken2"
command = ~F, D, DF, y
time = 15

[Command]
name = "hadouken"
command = ~D, DF, F, x
time = 15

[Command]
name = "hadouken2"
command = ~D, DF, F, y
time = 15

[Command]
name = "tatsumaki"
command = ~D, DB, B, a
time = 20

[Command]
name = "tatsumaki2"
command = ~D, DB, B, b
time = 20

[command]
name = "slashdown"
command = ~F, D, a
time = 20

[command]
name = "slashdown2"
command = ~F, D, b
time = 20

[command]
name = "teleport"
command = ~D, D, a
time = 20

[command]
name = "teleport2"
command = ~D, D, b
time = 20

[Command]
name = "dash_x"
command = ~F, F, x

[Command]
name = "dash_y"
command = ~F, F, y

[Command]
name = "dash_a"
command = ~F, F, a

[Command]
name = "dash_b"
command = ~F, F, b

;-| Double Tap |-----------------------------------------------------------
[Command]
name = "FF"
command = F, F
time = 10

[Command]
name = "BB"
command = B, B
time = 10

;-| 2/3 Button Combination |-----------------------------------------------
[Command]
name = "recovery"
command = x+a
time = 1

[Command]
name = "recovery"
command = c
time = 1

[Command]
name = "charge"
command = y+b
time = 1

;-| Dir + Button |---------------------------------------------------------
[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

;-| Single Button |---------------------------------------------------------
[command]
name="fwd"
command=F
time=1

[command]
name="back"
command=B
time=1

[command]
name="up"
command=U
time=1

[command]
name="down"
command=D
time=1

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "hold_a"
command = /$a
time = 1

[Command]
name = "hold_b"
command = /$b
time = 1

[Command]
name = "hold_c"
command = /$c
time = 1

[Command]
name = "hold_x"
command = /$x
time = 1

[Command]
name = "hold_y"
command = /$y
time = 1

[Command]
name = "hold_z"
command = /$z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------
[Command]
name = "holdfwd";Required (do not remove)
command = /$F
time = 1

[Command]
name = "holdback";Required (do not remove)
command = /$B
time = 1

[Command]
name = "holdup" ;Required (do not remove)
command = /$U
time = 1

[Command]
name = "holddown";Required (do not remove)
command = /$D
time = 1

[Command]
name = "holddownfwd";Required (do not remove)
command = /$DF
time = 1

[Command]
name = "longjump"
command = ~D, $U
time = 11


;=====================================================================================================================================================================================================================================================================
;AI
;=====================================================================================================================================================================================================================================================================

[Statedef -1]


[State -3, AI起動用ヘルパー]
type=helper
TriggerAll=RoundState<2||(RoundState=2&&ctrl)
Trigger1=!NumHelper(96600)
Trigger1=alive
Trigger1=var(59)<=0
helpertype=normal
name="AI"
stateno=96600
ID=96600
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0


[State -3, ↑が余計なことしないように]
type=changestate
Trigger1= ishelper
trigger1= ishelper(96600)
Trigger1= stateno!=96600
value=96600


[State -3, AI判定]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll= RoundState<2 || (RoundState=2&&ctrl)
Trigger1 = Command = "AI0"
Trigger2 = Command = "AI1"
Trigger3 = Command = "AI2"
Trigger4 = Command = "AI3"
Trigger5 = Command = "AI4"
Trigger6 = Command = "AI5"
Trigger7 = Command = "AI6"
Trigger8 = Command = "AI7"
Trigger9 = Command = "AI8"
Trigger10 = Command = "AI9"
Trigger11 = Command = "AI10"
Trigger12 = Command = "AI11"
Trigger13 = Command = "AI12"
Trigger14 = Command = "AI13"
Trigger15 = Command = "AI14"
Trigger16 = Command = "AI15"
Trigger17 = Command = "AI16"
Trigger18 = Command = "AI17"
Trigger19 = Command = "AI18"
Trigger20 = Command = "AI19"
Trigger21 = Command = "AI20"
Trigger22 = Command = "AI21"
Trigger23 = Command = "AI22"
Trigger24 = Command = "AI23"
Trigger25 = Command = "AI24"
Trigger26 = Command = "AI25"
Trigger27 = Command = "AI26"
Trigger28 = Command = "AI27"
Trigger29 = Command = "AI28"
Trigger30 = Command = "AI29"
Trigger31 = Command = "AI30"
Trigger32 = Command = "AI31"
Trigger33 = Command = "AI32"
Trigger34 = Command = "AI33"
Trigger35 = Command = "AI34"
Trigger36 = Command = "AI35"
Trigger37 = Command = "AI36"
Trigger38 = Command = "AI37"
Trigger39 = Command = "AI38"
Trigger40 = Command = "AI39"
Trigger41 = Command = "AI40"
Trigger42 = Command = "AI41"
Trigger43 = Command = "AI42"
Trigger44 = Command = "AI43"
Trigger45 = Command = "AI44"
Trigger46 = Command = "AI45"
Trigger47 = Command = "AI46"
Trigger48 = Command = "AI47"
Trigger49 = Command = "AI48"
Trigger50 = Command = "AI49"
Trigger51 = Command = "AI50"
Trigger52 = var(59)=0
Trigger52 = numhelper(96600)
Trigger52 = helper(96600),var(59)>0
var(59) = 6
ignorehitpause = 1

;　　　　 var(59) = 6←の数字を1〜11までの数字に変える事でAIのレベル調整ができます
;　　　　 1〜10までは技の頻度やガードの硬さなど、11レベルは超反応の切り替えしをしてきます


;カウンター用反応速度設定
[State -3,]
type = VarSet
triggerall = var(59) > 0
trigger1 = 1
var(55) = 60-var(59)*5


;================================================================================================
;重力加速度計算
[state -3, yaccel]
type = varset
trigger1 = fvar(30) != EnemyNear(floor(fvar(31))),const(movement.yaccel)
trigger1 = EnemyNear(floor(fvar(31))),stateno != [5000,5210]
trigger1 = EnemyNear(floor(fvar(31))),Vel Y != 0
FV = 30
value = EnemyNear(floor(fvar(31))),const(movement.yaccel)
ignorehitpause = 1


[state -3, yaccel]
type = varset
trigger1 = fvar(30) != EnemyNear(floor(fvar(31))),GetHitVar(yaccel)
trigger1 = EnemyNear(floor(fvar(31))),stateno = [5000,5210]
;trigger1 = EnemyNear(floor(fvar(31))),Vel Y != 0
FV = 30
value = EnemyNear(floor(fvar(31))),GetHitVar(yaccel);(打撃当てた時のyaccel値)
ignorehitpause = 1


[state -3, yaccel]
type = varset
trigger1 = fvar(30) != 0
trigger1 = EnemyNear(floor(fvar(31))),Vel Y = 0
FV = 30
value = 0
ignorehitpause = 1


;================================================================================================
;タッグ用生存確認
[State -3]
Type = varset
Trigger1 = numenemy=1
fvar(31) = 0


[State -3]
Type = varset
Trigger1 = numenemy=2
fvar(31) = ifelse(EnemyNear(0),alive,0,1)


;================================================================================================
[State -1];追い討ちダッシュ弱K用
type = VarSet
triggerall = var(59) > 0
triggerall = fvar(39) = 0
trigger1 = stateno = 252 && Movehit
trigger2 = stateno = 525 && Movehit
fvar(39) = 1

[State -1]
type = VarSet
triggerall = var(59) > 0
triggerall = fvar(39) = 1
trigger1 = p2movetype != H
trigger2 = stateno = 1650 && Movehit
trigger3 = stateno = 550 && Movehit
fvar(39) = 0


;================================================================================================
;コンボ用
[State -1]
type = VarSet
triggerall = var(59) > 0
triggerall = fvar(38) = 0
trigger1 = stateno = 400 && Movehit
trigger2 = stateno = 410 && Movehit
trigger3 = stateno = 420 && Movehit
fvar(38) = 1

[State -1]
type = VarSet
triggerall = var(59) > 0
triggerall = fvar(38) = 1
trigger1 = p2movetype != H
fvar(38) = 0


;==========================================================================================================================================================================================
;リバーサル
;==========================================================================================================================================================================================
; 龍激拳（弱）
[State -1,]
type = ChangeState
value = 1600
triggerall = var(59) >= 7
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = ctrl && prevstateno = 5120 && time <= 1
TriggerAll = Random<= var(59)*100
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -5 
triggerall = EnemyNear(floor(fvar(31))),Time >=50 || Time <= 2 || var(59) >= 11
trigger1 = P2StateType = A
Trigger1 = P2bodydist X = [-5+floor(5*(EnemyNear(floor(fvar(31))),vel X)),25+floor(5*(EnemyNear(floor(fvar(31))),vel X))]
Trigger1 = P2bodydist y = [-35-floor(5*(EnemyNear(floor(fvar(31))),vel Y)+(5*(5+1)/2)*fvar(30)),0-floor(5*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30))]
trigger1 = EnemyNear(floor(fvar(31))),vel X >= 0
trigger1 = EnemyNear(floor(fvar(31))),vel Y >= 0
trigger2 = P2bodydist X = [-5+floor(5*(EnemyNear(floor(fvar(31))),vel X)),25+floor(5*(EnemyNear(floor(fvar(31))),vel X))]
trigger2 = P2StateType != A
trigger2 = P2MoveType = A


;前方 瞬間移動（強）
[State -1,]
type = ChangeState
value = 3650
triggerall = power >= 50
triggerall = var(59) > 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = ctrl && prevstateno = 5120 && time <= 1
Triggerall = P2Movetype = A
Triggerall = p2bodydist x = [-5,120]
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -34
triggerall = EnemyNear(floor(fvar(31))),Time >=50 || Time <= 2 || var(59) >= 11
Trigger1 = Random<=var(59)*100


;==========================================================================================================================================================================================
;ガード、回り込み後の反撃
;==========================================================================================================================================================================================
; 龍拳
[State -1,]
type = ChangeState
value = 3100
triggerall = var(59) > 0
triggerall = power >= 3000
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2BodyDist X = [-5,60]
TriggerAll = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -13
TriggerAll = prevstateno = 361 || prevstateno = 3650
TriggerAll = EnemyNear(floor(fvar(31))),ctrl = 0
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


; ドラゴンラッシュ
[State -1,]
type = ChangeState
value = 3000
triggerall = var(59) > 0
triggerall = power >= 2000
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2BodyDist X = [-5,40]
TriggerAll = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -4 
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 361 || prevstateno = 3650
TriggerAll = EnemyNear(floor(fvar(31))),ctrl = 0
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


; 弱パンチ (近距離)
[State -1,]
type = ChangeState
value = 201
triggerall = var(59) > 0
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2BodyDist X = [-14,14]
TriggerAll = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -8 
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 361 || prevstateno = 3650
TriggerAll = EnemyNear(floor(fvar(31))),ctrl = 0
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


; 弱パンチ (遠距離)
[State -1,]
type = ChangeState
value = 203
triggerall = var(59) > 0
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2BodyDist X >= 15
triggerall = P2BodyDist X = [15,41]
triggerall = P2BodyDist Y = [-42,0]
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -5 
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 361 || prevstateno = 3650
TriggerAll = EnemyNear(floor(fvar(31))),ctrl = 0
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


;投げ
[State -1,nage]
type = ChangeState
value = 1300
triggerall = var(59) > 0
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2BodyDist X = [-7,7] 
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21
TriggerAll = stateno != 100
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -1 
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 361 || prevstateno = 3650
TriggerAll = EnemyNear(floor(fvar(31))),ctrl = 0
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


;==========================================================================================================================================================================================
;切り替えし
;==========================================================================================================================================================================================
; 瞬間移動超かめはめ波(空中)
[State -1,]
type = ChangeState
value = 2401
triggerall = power >= 1000
triggerall = var(59) >= 7
triggerall = RoundState = 2
triggerall = StateType = A
Triggerall = P2Movetype != H
TriggerAll = P2StateType != L
triggerall = Ctrl
triggerall = p2bodydist X >= 100
triggerall = p2bodydist Y >= -40
Triggerall = P2Movetype = A
Triggerall = EnemyNear(floor(fvar(31))),AnimTime <= -53
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


; 瞬間移動超かめはめ波
[State -1,]
type = ChangeState
value = 2400
triggerall = power >= 1000
triggerall = var(59) > 0
triggerall = RoundState = 2
triggerall = StateType != A
Triggerall = P2Movetype != H
TriggerAll = P2StateType != L
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21||  (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
triggerall = p2bodydist X >= 100
triggerall = p2bodydist Y >= -40
Triggerall = !(EnemyNear(floor(fvar(31))),ctrl)
Triggerall = P2Movetype = A
Triggerall = EnemyNear(floor(fvar(31))),AnimTime <= -53
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


;投げ
[State -1,投げ]
Type = ChangeState
value = 1300
triggerall = var(59) > 0
Triggerall = RoundState = 2
TriggerAll = StateType != A
triggerall = P2StateType != A
triggerAll = p2bodydist X = [-7,7]
triggerall = ctrl
triggerall = stateno != 100
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*100
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -1
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*5
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*15
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11

; 龍激拳（弱）
[State -1,];近距離カウンター
type = ChangeState
value = 1600
triggerall = var(59) > 0
Triggerall = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2bodydist X = [-5+floor(5*(EnemyNear(floor(fvar(31))),vel X)),25+floor(5*(EnemyNear(floor(fvar(31))),vel X))]
TriggerAll = P2bodydist y = [-35-floor(5*(EnemyNear(floor(fvar(31))),vel Y)+(5*(5+1)/2)*fvar(30)),0-floor(5*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30))]
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 100 && animelem = 1, >= 1 )
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*100
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -5
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


;高速移動前方
[State -1,kiz]
type = ChangeState
value = 361
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = random <= (var(59))*30
triggerall = statetype != A
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| stateno = 100|| stateno = 101|| stateno = 102
triggerall = p2bodydist x = [0,120]
triggerall = inguarddist
triggerall = P2StateType != L
triggerall = P2MoveType != H
TriggerAll = !(EnemyNear(floor(fvar(31))),HitDefAttr = ,AT)
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -30
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


;前方 瞬間移動（強）
[State -1,]
type = ChangeState
value = 3650
triggerall = power >= 50
triggerall = var(59) > 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
TriggerAll = P2MoveType = A
Triggerall = P2Movetype = A
Triggerall = p2bodydist x >= 121
Triggerall = Random<=var(59)*100
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -34
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
Trigger1 = EnemyNear(floor(fvar(31))),Time >= var(55)
trigger2 = Var(59) = [6,10]
Trigger2 = Random<= var(59)*30
Trigger2 = EnemyNear(floor(fvar(31))),Time >= var(55)
Trigger3 = var(59) >= 11


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3]
Type = ChangeState
Value = 120
triggerall = var(59) > 0
TriggerAll = StateType = A
TriggerAll = Ctrl
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = ((var(59) <=3)&& random <= var(59)*25) || ((var(59) = [4,6]) && random <= var(59)*50) || ((var(59) = [7,9]) && random <= var(59)*70) || var(59) >= 10
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(31))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(31))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(31))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(31))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(31))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(31))),HitDefAttr = A,NA,SA,HA,NP,SP,HP


[State -3]
Type = ChangeState
Value = 120
triggerall = var(59) > 0
TriggerAll = StateType != A
triggerall = Ctrl || stateno = 19|| stateno = 20|| stateno = 21
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = ((var(59) <=3)&& random <= var(59)*25) || ((var(59) = [4,6]) && random <= var(59)*50) || ((var(59) = [7,9]) && random <= var(59)*70) || var(59) >= 10
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(31))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(31))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(31))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0 
Trigger3 = EnemyNear(floor(fvar(31))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(31))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(31))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(31))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(31))),HitDefAttr = A,NA,SA,HA,NP,SP,HP


[State -1, 空中受身]
type = changestate
value = ifelse((pos y >= -20), 5200, 5210)
triggerall = var(59) > 0
triggerall = roundstate = 2 && stateno = 5050
triggerall = alive
triggerall = canrecover
trigger1 = vel y > -1
trigger1 = random <= (var(59))*100


; 残像拳
[State -1]
type = ChangeState
value = 305
triggerall = var(59) > 0
triggerall = roundstate = 2
Triggerall = StateType != A
Triggerall = power >= 1000
Triggerall = power < 3000
triggerall = P2MoveType != H
triggerall = P2StateType != L
TriggerAll = !EnemyNear(floor(fvar(31))),ctrl
triggerall = (stateno = 150 || stateno = 151)
triggerall = (stateno = 152 || stateno = 153)
trigger1 = BackEdgeBodyDist <= 20
trigger1 = p2bodydist x = [-5,120]
Trigger1 = Random<= var(59)*10
trigger2 = Life <= 500
Trigger2 = Random<= var(59)*10
Trigger3 = var(59) >= 10


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;起き攻め 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ダッシュ弱キック (スライディングキック)
[State -1,]
type = ChangeState
value = 550
triggerall = var(59) > 0
triggerall = fvar(39) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2StateType = L
triggerall = p2bodydist x = [-5,80]
triggerall = ctrl || stateno = 101
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*5
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*25
Trigger3 = var(59) >= 10


[State -1, バックステップ]
type = ChangeState
value = 105
triggerall = var(59) > 0
triggerall = var(22) = 0
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21
triggerall = Random<=var(59)*100
trigger1 = p2bodydist X = [-5,30]
trigger1 = p2statetype = L


;屈強キック
[State -1]
type = ChangeState
value = 450
triggerall = var(59) >= 3
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2StateType = L
triggerall = P2StateType != A
triggerall = EnemyNear(floor(fvar(31))),stateno = 5120
Triggerall = EnemyNear(floor(fvar(31))),Vel X = 0
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| stateno = 101
triggerall = p2bodydist x = [-5,90]
triggerall = EnemyNear(floor(fvar(31))),animtime = -6
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*5
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*25
Trigger3 = var(59) >= 10


; ドラゴンラッシュ
[State -1,];追い討ちスライディングから
type = ChangeState
value = 3000
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = statetype != A
triggerall = p2bodydist x = [0,80]
triggerall = stateno = 550 && movehit
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*3
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*20
Trigger3 = var(59) >= 10


; 龍激拳（強）
[State -1,];追い討ちスライディングから
type = ChangeState
value = 1650
triggerall = var(59) >= 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x = [0,50]
triggerall = stateno = 550 && movehit
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*3
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*15
Trigger3 = var(59) >= 10


;=====================================================================================================================================================================================================================================================================
;目押し
;=====================================================================================================================================================================================================================================================================
; ４倍超かめはめ波
[State -1,]
type = ChangeState
value = 2300
triggerall = var(59) > 0
triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
triggerall = P2BodyDist X >= 60
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
trigger1 = Var(59) = [6,9]
Trigger1 = Random <= var(59)*20
trigger1 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 5
trigger2 = Var(59) = [6,9]
Trigger2 = Random <= var(59)*20
trigger2 = ProjHitTime(1210) != -1 && ProjHitTime(1210) < 5
trigger3 = Var(59) >= 10
trigger3 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 5
trigger4 = Var(59) >= 10
trigger4 = ProjHitTime(1210) != -1 && ProjHitTime(1210) < 5


;しゃがみ弱キック
[State -1,]
type = ChangeState
value = 420
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-5,55]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = !inguarddist
Triggerall = P2StateNo = [120,159]
triggerall = P2StateType != L
triggerall = P2StateType != A
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*30
Trigger3 = var(59) >= 10


; 近距離弱パンチ
[State -1]
type = ChangeState
value = 201
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-14,14]
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
triggerall = P2BodyDist X = [-14,14]
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2StateType != A
triggerall = !InGuardDist
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*30
Trigger3 = var(59) >= 10


; 遠距離弱パンチ
[State -1]
type = ChangeState
value = 203
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 15
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
triggerall = P2BodyDist X = [15,41]
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = !InGuardDist
triggerall = P2StateType != A
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*30
Trigger3 = var(59) >= 10


;ダッシュ弱パンチ
[State -1,]
type = ChangeState
value = 500
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-5,120]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 101
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = P2StateType != A
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*30
Trigger3 = var(59) >= 10


; 強キック (近距離)
[State -1,]
type = ChangeState
value = 252
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-14,14]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21
triggerall = P2BodyDist X = [-14+floor(6*(EnemyNear(floor(fvar(31))),vel X)),14+floor(6*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-120-floor(6*(EnemyNear(floor(fvar(31))),vel Y)+(6*(6+1)/2)*fvar(30)),0-floor(6*(EnemyNear(floor(fvar(31))),vel Y)+(6*(6+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2Statetype = A
triggerall = !InGuardDist
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*30
Trigger3 = var(59) >= 10


;ダッシュ
[State -1,]
type = ChangeState
value = 100
triggerall = var(59) > 0
triggerall = var(22) = 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 61
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 52 
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100


;=====================================================================================================================================================================================================================================================================
;地上コンボ
;=====================================================================================================================================================================================================================================================================
; しゃがみ弱キック
[State -1]
type = ChangeState
value = 420
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2StateType != L
triggerall = P2StateType != C
triggerall = ((var(59) <=5)&& random <= var(59)*25) || ((var(59) = [6,9]) && random <= var(59)*50) || var(59) >= 10
triggerall = p2bodydist x = [-1,40]
triggerall = p2bodydist y = [-30,0]
trigger1 = stateno = 201 && MoveGuarded
trigger2 = stateno = 500 && MoveGuarded
trigger3 = stateno = 203 && MoveGuarded


; 強パンチ (近距離)
[State -1,]
type = ChangeState
value = 202
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ((var(59) <=5)&& random <= var(59)*25) || ((var(59) = [6,9]) && random <= var(59)*50) || var(59) >= 10
triggerall = p2bodydist x = [-14,14]
triggerall = p2bodydist y >= -75
trigger1 = stateno = 201 && movecontact 
trigger2 = stateno = 203 && movecontact
trigger3 = stateno = 500 && movecontact


; 近距離強キック
[State -1]
type = ChangeState
value = 252
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = p2bodydist x = [-14,14]
triggerall = p2bodydist y = [-120,0]
triggerall = stateno = 202 && movehit
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*25
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*50
Trigger3 = var(59) >= 10


; 強パンチ
[State -1,]
type = ChangeState
value = 200
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ((var(59) <=5)&& random <= var(59)*25) || ((var(59) = [6,9]) && random <= var(59)*50) || var(59) >= 10
triggerall = p2bodydist x = [-5,70]
triggerall = p2bodydist y >= -45
trigger1 = stateno = 201 && movecontact 
trigger2 = stateno = 202 && MoveGuarded
trigger3 = stateno = 203 && movecontact
trigger4 = stateno = 251 && movecontact
trigger5 = stateno = 500 && movecontact


; 遠距離強キック
[State -1]
type = ChangeState
value = 250
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = random <= var(59)*100
triggerall = p2bodydist x = [-5,70]
triggerall = p2bodydist y >= -80
triggerall = stateno = 200 && movecontact
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*25
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*50
Trigger3 = var(59) >= 10



; しゃがみ強パンチ
[State -1];しゃがみ弱キックから
type = ChangeState
value = 400
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x = [-5,60]
triggerall = p2bodydist y >= -50
triggerall = stateno = 420 && movecontact
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*25
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*50
Trigger3 = var(59) >= 10



; しゃがみ強キック
[State -1]
type = ChangeState
value = 450
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ((var(59) <=5)&& random <= var(59)*25) || ((var(59) = [6,9]) && random <= var(59)*50) || var(59) >= 10
triggerall = p2bodydist x = [-5,90]
triggerall = p2bodydist y >= -60
trigger1 = stateno = 400 && movecontact
trigger2 = stateno = 200 && movecontact


; 超・龍拳
[State -1,]
type = ChangeState
value = 3100
triggerall = var(59) >= 7
triggerall = roundstate = 2
triggerall = power >= 3000
triggerall = statetype != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = p2bodydist x = [-5,180]
triggerall = p2bodydist y >= -80
triggerall = stateno = 250 && movehit
triggerall = AnimElem = 4, = 1
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*35
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*60
Trigger3 = var(59) >= 10



; ドラゴンラッシュ
[State -1,]
type = ChangeState
value = 3000
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = statetype != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = p2bodydist x = [-1,180]
triggerall = p2bodydist y >= -80
triggerall = stateno = 250 && movehit
triggerall = AnimElem = 4, = 1
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*35
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*60
Trigger3 = var(59) >= 10



; 超かめはめ波
[State -1,]
type = ChangeState
value = 2300
triggerall = var(59) >= 5
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = power >= 1000
triggerall = p2bodydist x = [-5,180]
triggerall = p2bodydist y = [-80,0]
trigger1 = fVar(38)
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*25
trigger1 = stateno = 450 && movehit
trigger2 = fVar(38)
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*50
trigger2 = stateno = 450 && movehit
trigger3 = ((var(59) <=5)&& random <= var(59)*35) || ((var(59) = [6,9]) && random <= var(59)*60) || var(59) >= 10
trigger3 = stateno = 250 && movehit
trigger3 = AnimElem = 4, = 1


; メテオスマッシュ
[State -1,]
type = ChangeState
value = 1700
triggerall = var(59) >= 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = p2bodydist x = [-5,90]
triggerall = p2bodydist y >= -80
triggerall = stateno = 450 && movehit
trigger1 = fVar(38)
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*10
trigger2 = fVar(38)
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*25
Trigger3 = var(59) >= 10


; ダッシュ強パンチ (ニュートラル)
[State -1,]
type = ChangeState
value = 1100
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = p2bodydist y >= -80
triggerall = p2bodydist x = [-5,140]
triggerall = stateno = 250 && movehit
triggerall = AnimElem = 4, = 1
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*25
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*50
Trigger3 = var(59) >= 10



; かめはめ波（弱）
[State -1]
type = ChangeState
value = 1200
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = power >= 100
triggerall = statetype != A
triggerall = ((var(59) <=5)&& random <= var(59)*25) || ((var(59) = [6,9]) && random <= var(59)*50) || var(59) >= 10
triggerall = p2bodydist y >= -60
triggerall = p2bodydist x = [0,160]
trigger1 = stateno = 250 && MoveGuarded
trigger1 = AnimElem >= 4
trigger2 = stateno = 450 && MoveGuarded


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;隙付き
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 近距離弱パンチ
[State -1,]
type = ChangeState
value = 201
triggerall = var(59) > 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2StateType != A
Triggerall = !inguarddist
triggerall = P2bodydist X = [-14,14]
triggerall = p2bodydist Y >= 0
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -8
triggerAll = P2MoveType = I
Triggerall = EnemyNear(floor(fvar(31))),Vel X <= 0
triggerall = (EnemyNear(floor(fvar(31))),StateNo = [200,649])
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*15
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*35
Trigger3 = var(59) >= 10


; しゃがみ弱パンチ
[State -1,]
type = ChangeState
value = 201
triggerall = var(59) > 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2StateType != A
Triggerall = !inguarddist
triggerall = P2bodydist X = [-5,68]
triggerall = p2bodydist Y >= 0
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21 || stateno = 101
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -4
triggerAll = P2MoveType = I
Triggerall = EnemyNear(floor(fvar(31))),Vel X <= 0
triggerall = (EnemyNear(floor(fvar(31))),StateNo = [200,649])
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*15
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*35
Trigger3 = var(59) >= 10


; ダッシュ弱パンチ
[State -1,]
type = ChangeState
value = 500
triggerall = var(59) > 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2StateType != A
Triggerall = !inguarddist
triggerall = P2bodydist X = [-5,100]
triggerall = p2bodydist Y >= 0
triggerall = ctrl || stateno = 101
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -8
triggerAll = P2MoveType = I
Triggerall = EnemyNear(floor(fvar(31))),Vel X <= 0
triggerall = (EnemyNear(floor(fvar(31))),StateNo = [200,649])
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*15
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*35
Trigger3 = var(59) >= 10


; ダッシュ弱キック (スライディングキック)
[State -1,]
type = ChangeState
value = 550
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = p2bodydist x = [-5,130]
triggerall = p2bodydist Y >= 0
triggerall = ctrl || stateno = 101
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -8
triggerAll = P2MoveType = I
Triggerall = EnemyNear(floor(fvar(31))),Vel X <= 0
triggerall = (EnemyNear(floor(fvar(31))),StateNo = [200,649])
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*15
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*35
Trigger3 = var(59) >= 10


; ダッシュ
[State -1,]
type = ChangeState
value = 100
triggerall = var(59) > 0
triggerall = var(22) = 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2StateType != L
triggerall = P2StateType != A
Triggerall = !inguarddist
triggerall = P2bodydist X >= 61
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21 
TriggerAll = EnemyNear(floor(fvar(31))),AnimTime <= -10
triggerAll = P2MoveType = I
triggerall = stateno != 100
triggerall = (EnemyNear(floor(fvar(31))),StateNo = [200,649])
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*15
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*35
Trigger3 = var(59) >= 10


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空中コンボ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;キャンセルジャンプ
[State -1,cj]
type = ChangeState
value = 40
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = ((var(59) <=5)&& random <= var(59)*15) || ((var(59) = [6,9]) && random <= var(59)*35) || var(59) >= 10
triggerall = statetype != A
triggerall = p2bodydist x = [-5,120]
triggerall = p2bodydist y = [-280,0]
triggerall = P2MoveType = H
triggerall = P2StateType != L
trigger1 = stateno = 252
trigger1 = movehit
trigger2 = stateno = 525
trigger2 = movehit


; ジャンプ弱パンチ
[State -1]
type = ChangeState
value = 610
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype = A && Ctrl
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = p2bodydist X = [-5,90]
triggerall = p2bodydist Y = [-120,70]
trigger1 = ((var(59) <=5)&& random <= var(59)*15) || ((var(59) = [6,9]) && random <= var(59)*35) || var(59) >= 10


; ジャンプ弱キック
[State -1]
type = ChangeState
value = 630
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = ((var(59) <=5)&& random <= var(59)*15) || ((var(59) = [6,9]) && random <= var(59)*35) || var(59) >= 10
triggerall = statetype = A
triggerall = p2bodydist X = [-5,90]
triggerall = p2bodydist Y = [-80,70]
trigger1 = stateno = 610
trigger1 = movecontact


; ジャンプ強パンチ
[State -1]
type = ChangeState
value = 620
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = ((var(59) <=5)&& random <= var(59)*15) || ((var(59) = [6,9]) && random <= var(59)*35) || var(59) >= 10
triggerall = statetype = A
triggerall = p2bodydist X = [-5,90]
triggerall = p2bodydist Y = [-80,75]
trigger1 = stateno = 630
trigger1 = movecontact


; ジャンプ強キック
[State -1]
type = ChangeState
value = 650
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = ((var(59) <=5)&& random <= var(59)*15) || ((var(59) = [6,9]) && random <= var(59)*35) || var(59) >= 10
triggerall = statetype = A
triggerall = p2bodydist X = [-5,90]
triggerall = p2bodydist Y = [-80,70]
trigger1 = stateno = 620
trigger1 = movecontact


; スラッシュダウンキック(強)
[State -1,]
type = ChangeState
value = 1850
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = ((var(59) <=5)&& random <= var(59)*15) || ((var(59) = [6,9]) && random <= var(59)*35) || var(59) >= 10
triggerall = statetype = A
triggerall = P2statetype = A
triggerall = p2bodydist X = [-5,90]
triggerall = p2bodydist Y = [-80,120]
trigger1 = stateno = 650
trigger1 = movecontact 


; スラッシュダウンキック(弱)
[State -1,sd]
type = ChangeState
value = 1800
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = ((var(59) <=5)&& random <= var(59)*15) || ((var(59) = [6,9]) && random <= var(59)*35) || var(59) >= 10
triggerall = statetype = A
triggerall = P2statetype != A
triggerall = p2bodydist X = [-5,80]
triggerall = p2bodydist Y = [-80,120]
trigger1 = stateno = 620
trigger1 = movecontact 
trigger2 = stateno = 640
trigger2 = movecontact 
trigger3 = stateno = 650
trigger3 = movecontact 


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ぶっぱ
;EnemyNear(floor(fvar(31))),Ctrl P2MoveType=A P2BodyDist X
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 超かめはめ波
[State -1,]
type = ChangeState
value = 2300
triggerall = var(59) > 0
triggerAll = power >= 1000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = P2StateType != A
triggerall = P2bodydist X <= 60
triggerall = P2bodydist Y >= 0
TriggerAll = P2MoveType=A||EnemyNear(floor(fvar(31))),Ctrl
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
Trigger1 = Var(59) <= 5
Trigger1 = Random <= Var(59)*30
Trigger2 = Var(59) = [6,9]
Trigger2 = Random <= (10-Var(59))*30


;==========================================================================================================================================================================================
;移動
;==========================================================================================================================================================================================
;ダッシュ
[State -1,d]
type = ChangeState
value = 100
triggerall = var(59) > 0
triggerall = var(22) = 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !inguarddist
triggerall = P2MoveType != A
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21
trigger1 = p2bodydist X >= 140
trigger1 = random <= (var(59))*20
trigger1 = stateno != 100


;空中ダッシュ
[State -1,ad]
type = ChangeState
value = 110
triggerall = var(59) > 0
triggerall = var(22) = 0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = P2StateType != L
triggerall = P2MoveType != A
triggerall = !inguarddist
triggerall = stateno != 110
triggerall = ctrl
trigger1 = p2bodydist X > 90 
trigger1 = random <= (var(59))*20


;==========================================================================================================================================================================================
;対空
;==========================================================================================================================================================================================
; 龍激拳（弱）
[State -1,]
type = ChangeState
value = 1600
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 100 && animelem = 1, >= 1 )
triggerall = P2BodyDist X = [-14+floor(10*(EnemyNear(floor(fvar(31))),vel X)),30+floor(10*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(10*(EnemyNear(floor(fvar(31))),vel Y)+(10*(10+1)/2)*fvar(30)),0-floor(10*(EnemyNear(floor(fvar(31))),vel Y)+(10*(10+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*5
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*20
Trigger3 = var(59) >= 10


; 近距離強パンチ
[State -1]
type = ChangeState
value = 203
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-14,14]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 
triggerall = P2BodyDist X = [-14+floor(8*(EnemyNear(floor(fvar(31))),vel X)),14+floor(8*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-75-floor(8*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30)),0-floor(8*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
triggerall = !InGuardDist
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*5
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*20
Trigger3 = var(59) >= 10


; 強キック (近距離)
[State -1,]
type = ChangeState
value = 252
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-14,14]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 
triggerall = P2BodyDist X = [-14+floor(6*(EnemyNear(floor(fvar(31))),vel X)),14+floor(6*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-120-floor(6*(EnemyNear(floor(fvar(31))),vel Y)+(6*(6+1)/2)*fvar(30)),0-floor(6*(EnemyNear(floor(fvar(31))),vel Y)+(6*(6+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
triggerall = !InGuardDist
trigger1 = Var(59) <= 5
Trigger1 = Random<= var(59)*5
trigger2 = Var(59) = [6,9]
Trigger2 = Random<= var(59)*20
Trigger3 = var(59) >= 10



;==========================================================================================================================================================================================
;立ち回り
;==========================================================================================================================================================================================
[State -1,投げ]
Type = ChangeState
value = 1300
TriggerAll = var(59) >= 4
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21
triggerall = stateno != 100
triggerAll = p2bodydist X = [-7,7]
Trigger1 = Random <= var(59)*3
Trigger2 = (EnemyNear(floor(fvar(31))),StateNo=[120,159])
Trigger2 = Random <= var(59)*15
Trigger3 = var(59) >= 10


; かめはめ波（弱）
[State -1]
type = ChangeState
value = 1200
triggerall = var(59) > 0
TriggerAll = RoundState = 2
triggerall = power >= 100
triggerall = numproj = 0; || numproj = 1 && var(10) != 0
TriggerAll = Statetype != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = P2movetype != A 
TriggerAll = P2BodyDist Y >= -51
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 100 && animelem = 1, >= 1 )
Trigger1 = P2bodydist x = [111,160]
Trigger1 = EnemyNear(floor(fvar(31))),Vel X <= 0
Trigger1 = Random <= var(59)*5


; かめはめ波（強）
[State -1]
type = ChangeState
value = 1205
triggerall = var(59) > 0
TriggerAll = RoundState = 2
triggerall = power >= 100
triggerall = numproj = 0; || numproj = 1 && var(10) != 0
TriggerAll = Statetype != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = P2movetype != A 
TriggerAll = P2BodyDist Y >= -51
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 100 && animelem = 1, >= 1 )
Trigger1 = P2bodydist x >= 161
Trigger1 = Random <= var(59)*20


;気力溜め
[State -1,tame]
type = ChangeState
value = 1900
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = random <= (var(59))*50
triggerall = statetype = S
triggerall = statetype != A
triggerall = power < 3000
triggerall = P2MoveType != A
triggerall = ctrl
triggerall = !(EnemyNear(floor(fvar(31))),ctrl) 
trigger1 = p2bodydist x > 160-(P2StateType = L)*50
trigger2 = power < 1000 && P2StateType = L
trigger2 = p2bodydist x = [61,340]
trigger3 = power < 2000 && P2StateType = L
trigger3 = p2bodydist x = [61,340]
trigger4 = power < 2000 && P2MoveType = H
trigger4 = p2bodydist x = [61,340]



;==========================================================================================================================================================================================
;牽制
;==========================================================================================================================================================================================
; しゃがみ弱キック
[State -1]
type = ChangeState
value = 420
triggerall = var(59) > 0
Triggerall = RoundState = 2
triggerall = statetype != A
triggerall = P2StateType != L
triggerall = P2StateType != A
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = !InGuardDist
TriggerAll = P2statetype != C
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 101
TriggerAll = P2BodyDist X = [-5+floor(6*(EnemyNear(floor(fvar(31))),vel X)),55+floor(6*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(6*(EnemyNear(floor(fvar(31))),vel Y)+(6*(6+1)/2)*fvar(30))
Trigger1 = Random <= var(59)*25


; しゃがみ強キック
[State -1]
type = ChangeState
value = 450
triggerall = var(59) > 0
Triggerall = RoundState = 2
triggerall = statetype != A
triggerall = P2StateType != L
triggerall = P2StateType != A
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = !InGuardDist
TriggerAll = P2statetype != C
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 101
TriggerAll = P2BodyDist X = [-5+floor(10*(EnemyNear(floor(fvar(31))),vel X)),90+floor(10*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(10*(EnemyNear(floor(fvar(31))),vel Y)+(10*(10+1)/2)*fvar(30))
Trigger1 = Random <= var(59)*15


; しゃがみ弱パンチ
[State -1]
type = ChangeState
value = 410
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 52  || stateno = 100 || stateno = 101
triggerall = P2BodyDist X = [-5+floor(4*(EnemyNear(floor(fvar(31))),vel X)),50+floor(4*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-26-floor(4*(EnemyNear(floor(fvar(31))),vel Y)+(4*(4+1)/2)*fvar(30)),0-floor(4*(EnemyNear(floor(fvar(31))),vel Y)+(4*(4+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20


; しゃがみ強パンチ
[State -1]
type = ChangeState
value = 400
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 101
triggerall = P2BodyDist X = [-5+floor(8*(EnemyNear(floor(fvar(31))),vel X)),68+floor(4*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-33-floor(8*(EnemyNear(floor(fvar(31))),vel Y)+(4*(4+1)/2)*fvar(30)),0-floor(4*(EnemyNear(floor(fvar(31))),vel Y)+(4*(4+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20


; 近距離弱パンチ
[State -1]
type = ChangeState
value = 201
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-14,14]
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
triggerall = P2BodyDist X = [-14+floor(8*(EnemyNear(floor(fvar(31))),vel X)),14+floor(8*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-40-floor(8*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30)),0-floor(8*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30


; 遠距離弱パンチ
[State -1]
type = ChangeState
value = 203
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 15
triggerall = ctrl || stateno = 19|| stateno = 20|| stateno = 21|| (stateno = 51 && animelem = 1, >= 1) || (stateno = 101 && animelem = 1, >= 1 )
triggerall = P2BodyDist X = [15+floor(5*(EnemyNear(floor(fvar(31))),vel X)),41+floor(5*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-42-floor(5*(EnemyNear(floor(fvar(31))),vel Y)+(5*(5+1)/2)*fvar(30)),0-floor(5*(EnemyNear(floor(fvar(31))),vel Y)+(5*(5+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30


; 近距離強パンチ
[State -1]
type = ChangeState
value = 203
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-14,14]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 
triggerall = P2BodyDist X = [-14+floor(8*(EnemyNear(floor(fvar(31))),vel X)),14+floor(8*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-75-floor(8*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30)),0-floor(8*(EnemyNear(floor(fvar(31))),vel Y)+(8*(8+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*15


; 遠距離強パンチ
[State -1]
type = ChangeState
value = 200
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 15
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21
triggerall = P2BodyDist X = [15+floor(7*(EnemyNear(floor(fvar(31))),vel X)),60+floor(7*(EnemyNear(floor(fvar(31))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(31))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(31))),vel Y)+(7*(7+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20


; 遠距離強キック
[State -1]
type = ChangeState
value = 250
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 15
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20
trigger1 = P2BodyDist X = [15+floor(7*(EnemyNear(floor(fvar(31))),vel X)),61+floor(7*(EnemyNear(floor(fvar(31))),vel X))]
trigger1 = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(31))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(31))),vel Y)+(7*(7+1)/2)*fvar(30))]
Trigger2 = Random <= var(59)*20
trigger2 = P2BodyDist X = [62+floor(10*(EnemyNear(floor(fvar(31))),vel X)),98+floor(10*(EnemyNear(floor(fvar(31))),vel X))]
trigger2 = P2BodyDist Y = [-69-floor(10*(EnemyNear(floor(fvar(31))),vel Y)+(10*(10+1)/2)*fvar(30)),0-floor(10*(EnemyNear(floor(fvar(31))),vel Y)+(10*(10+1)/2)*fvar(30))]


;==========================================================================================================================================================================================
;空中立ち回り
;==========================================================================================================================================================================================
;ｼﾞｬﾝﾌﾟ強パンチ
[State -1,jhp]
type = ChangeState
value = 620
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = ctrl
triggerall = P2BodyDist X = [-15+floor(11*(enemynear,vel X)+floor(11*vel X)),32+floor(11*(enemynear,vel X)+floor(11*vel X))]
triggerall = P2BodyDist Y = [-37-floor(11*(enemynear,vel Y)+(11*(11+1)/2)*fvar(30)-floor(11*vel Y)-(11*(11+1)/2)*0.58),84-floor(11*(enemynear,vel Y)+(11*(11+1)/2)*fvar(30)-floor(11*vel Y)-(11*(11+1)/2)*0.58)]
triggerall = !inguarddist
trigger1 = random <= var(59)*100


; ジャンプ強キック
[State -1]
type = ChangeState
value = 650
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = vel x != 0
triggerall = ctrl
triggerall = P2BodyDist X = [-15+floor(9*(enemynear,vel X)+floor(9*vel X)),40+floor(9*(enemynear,vel X)+floor(11*vel X))]
triggerall = P2BodyDist Y = [0-floor(9*(enemynear,vel Y)+(9*(9+1)/2)*fvar(30)-floor(9*vel Y)-(9*(9+1)/2)*0.58),120-floor(9*(enemynear,vel Y)+(9*(9+1)/2)*fvar(30)-floor(9*vel Y)-(9*(9+1)/2)*0.58)]
triggerall = !inguarddist
trigger1 = random <= var(59)*100


; ジャンプ強キック (垂直)
[State -1]
type = ChangeState
value = 640
triggerall = var(59) > 0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = ctrl
triggerall = P2BodyDist X = [-15+floor(8*(enemynear,vel X)+floor(8*vel X)),60+floor(8*(enemynear,vel X)+floor(11*vel X))]
triggerall = P2BodyDist Y = [-55-floor(8*(enemynear,vel Y)+(8*(8+1)/2)*fvar(30)-floor(8*vel Y)-(8*(8+1)/2)*0.58),65-floor(8*(enemynear,vel Y)+(8*(8+1)/2)*fvar(30)-floor(8*vel Y)-(8*(8+1)/2)*0.58)]
triggerall = !inguarddist
trigger1 = random <= var(59)*100






;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;=============================必殺技========================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

; ４倍超かめはめ波
[State -1,]
type = ChangeState
value = 2300
TriggerAll = Var(59) <= 0
triggerall = command = "Kamehameha"
triggerall = power >= 1000
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 202 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 204 && movecontact
trigger8 = stateno = 251 && movecontact
trigger9 = stateno = 253 && movecontact
trigger10 = stateno = 250 && movecontact
trigger11 = stateno = 252 && movecontact
trigger12 = stateno = 400 && movecontact
trigger13 = stateno = 410 && movecontact
trigger14 = stateno = 420 && movecontact
trigger15 = stateno = 450 && movecontact
trigger16 = stateno = 500 && movecontact


; 瞬間移動超かめはめ波
[State -1,]
type = ChangeState
value = 2400
TriggerAll = Var(59) <= 0
triggerall = command = "Kaiohken"
triggerall = power >= 1000
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 202 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 204 && movecontact
trigger8 = stateno = 251 && movecontact
trigger9 = stateno = 253 && movecontact
trigger10 = stateno = 250 && movecontact
trigger11 = stateno = 252 && movecontact
trigger12 = stateno = 400 && movecontact
trigger13 = stateno = 410 && movecontact
trigger14 = stateno = 420 && movecontact
trigger15 = stateno = 450 && movecontact
trigger16 = stateno = 500 && movecontact

; 瞬間移動超かめはめ波(空中)
[State -1,]
type = ChangeState
value = 2401
TriggerAll = Var(59) <= 0
triggerall = command = "Kaiohken"
triggerall = power >= 1000
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 610 && movecontact
trigger4 = stateno = 620 && movecontact
trigger5 = stateno = 630 && movecontact
trigger6 = stateno = 635 && movecontact
trigger7 = stateno = 640 && movecontact
trigger8 = stateno = 650 && movecontact

; ４倍超かめはめ波(空中)
[State -1,]
type = ChangeState
value = 2350
TriggerAll = Var(59) <= 0
triggerall = command = "Kamehameha"
triggerall = power >= 1000
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 610 && movecontact
trigger4 = stateno = 620 && movecontact
trigger5 = stateno = 630 && movecontact
trigger6 = stateno = 635 && movecontact
trigger7 = stateno = 640 && movecontact
trigger8 = stateno = 650 && movecontact


; ドラゴンラッシュ
[State -1,]
type = ChangeState
value = 3000
TriggerAll = Var(59) <= 0
triggerall = command = "dragonrush"
triggerall = power >= 2000
trigger1 = ctrl
trigger1 = statetype != A
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 202 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 204 && movecontact
trigger8 = stateno = 251 && movecontact
trigger9 = stateno = 253 && movecontact
trigger10 = stateno = 250 && movecontact
trigger11 = stateno = 252 && movecontact
trigger12 = stateno = 400 && movecontact
trigger13 = stateno = 410 && movecontact
trigger14 = stateno = 420 && movecontact
trigger15 = stateno = 450 && movecontact
trigger16 = stateno = 500 && movecontact
trigger17 = stateno = 550 && movecontact


; 超・龍拳
[State -1,]
type = ChangeState
value = 3100
TriggerAll = Var(59) <= 0
triggerall = command = "Ryuken"
triggerall = power >= 3000
trigger1 = ctrl
trigger1 = statetype != A
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 202 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 204 && movecontact
trigger8 = stateno = 251 && movecontact
trigger9 = stateno = 253 && movecontact
trigger10 = stateno = 250 && movecontact
trigger11 = stateno = 252 && movecontact
trigger12 = stateno = 400 && movecontact
trigger13 = stateno = 410 && movecontact
trigger14 = stateno = 420 && movecontact
trigger15 = stateno = 450 && movecontact
trigger16 = stateno = 500 && movecontact
trigger17 = stateno = 550 && movecontact

; メテオスマッシュ
[State -1,]
type = ChangeState
value = 1700
TriggerAll = Var(59) <= 0
triggerall = command = "meteosmash"
trigger1 = ctrl
trigger1 = statetype != A
trigger2 = stateno = 200 && movecontact = 1
trigger3 = stateno = 201 && movecontact = 1
trigger4 = stateno = 202 && movecontact = 1
trigger5 = stateno = 203 && movecontact = 1
trigger6 = stateno = 204 && movecontact = 1
trigger7 = stateno = 251 && movecontact = 1
trigger8 = stateno = 253 && movecontact = 1
trigger9 = stateno = 250 && movecontact = 1
trigger10 = stateno = 252 && movecontact = 1
trigger11 = stateno = 400 && movecontact = 1
trigger12 = stateno = 410 && movecontact = 1
trigger13 = stateno = 420 && movecontact = 1
trigger14 = stateno = 450 && movecontact = 1
trigger15 = stateno = 500 && movecontact

; メテオスマッシュ（空中)
[State -1,]
type = ChangeState
value = 1701
TriggerAll = Var(59) <= 0
triggerall = command = "meteosmash"
trigger1 = ctrl
trigger1 = statetype = A
trigger2 = stateno = 52 || stateno = 100
trigger2 = animelem = 1, >= 1
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 610 && movecontact
trigger4 = stateno = 620 && movecontact
trigger5 = stateno = 630 && movecontact
trigger6 = stateno = 635 && movecontact
trigger7 = stateno = 640 && movecontact
trigger8 = stateno = 650 && movecontact

; 龍激拳（弱）
[State -1,]
type = ChangeState
value = 1600
TriggerAll = Var(59) <= 0
triggerall = command = "shoryuken"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact = 1
trigger4 = stateno = 201 && movecontact = 1
trigger5 = stateno = 202 && movecontact = 1
trigger6 = stateno = 203 && movecontact = 1
trigger7 = stateno = 204 && movecontact = 1
trigger8 = stateno = 251 && movecontact = 1
trigger9 = stateno = 253 && movecontact = 1
trigger10 = stateno = 250 && movecontact = 1
trigger11 = stateno = 252 && movecontact = 1
trigger12 = stateno = 400 && movecontact; = 1
trigger13 = stateno = 410 && movecontact; = 1
trigger14 = stateno = 420 && movecontact; = 1
trigger15 = stateno = 450 && movecontact; = 1
trigger16 = stateno = 500 && movecontact; = 1
trigger17 = stateno = 550 && movecontact
trigger18 = stateno = 5120

; 龍激拳（強）
[State -1,]
type = ChangeState
value = 1650
TriggerAll = Var(59) <= 0
triggerall = command = "shoryuken2"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact = 1
trigger4 = stateno = 201 && movecontact = 1
trigger5 = stateno = 202 && movecontact = 1
trigger6 = stateno = 203 && movecontact = 1
trigger7 = stateno = 204 && movecontact = 1
trigger8 = stateno = 251 && movecontact = 1
trigger9 = stateno = 253 && movecontact = 1
trigger10 = stateno = 250 && movecontact = 1
trigger11 = stateno = 252 && movecontact = 1
trigger12 = stateno = 400 && movecontact; = 1
trigger13 = stateno = 410 && movecontact; = 1
trigger14 = stateno = 420 && movecontact; = 1
trigger15 = stateno = 450 && movecontact; = 1
trigger16 = stateno = 500 && movecontact; = 1
trigger17 = stateno = 550 && movecontact
trigger18 = stateno = 5120

; かめはめ波（弱）
[State -1]
type = ChangeState
value = 1200
TriggerAll = Var(59) <= 0
triggerall = command = "hadouken"
triggerall = power >= 100
triggerall = numproj = 0; || numproj = 1 && var(10) != 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 100
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact = 1
trigger4 = stateno = 201 && movecontact = 1
trigger5 = stateno = 202 && movecontact = 1
trigger6 = stateno = 203 && movecontact = 1
trigger7 = stateno = 204 && movecontact = 1
trigger8 = stateno = 251 && movecontact = 1
trigger9 = stateno = 253 && movecontact = 1
trigger10 = stateno = 250 && movecontact = 1
trigger11 = stateno = 252 && movecontact = 1
trigger12 = stateno = 400 && movecontact = 1
trigger13 = stateno = 410 && movecontact = 1
trigger14 = stateno = 420 && movecontact = 1
trigger15 = stateno = 450 && movecontact = 1
trigger16 = stateno = 500 && movecontact = 1

; かめはめ波（強）
[State -1]
type = ChangeState
value = 1205
TriggerAll = Var(59) <= 0
triggerall = command = "hadouken2"
triggerall = power >= 100
triggerall = numproj = 0; || numproj = 1 && var(10) != 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 100
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact = 1
trigger4 = stateno = 201 && movecontact = 1
trigger5 = stateno = 202 && movecontact = 1
trigger6 = stateno = 203 && movecontact = 1
trigger7 = stateno = 204 && movecontact = 1
trigger8 = stateno = 251 && movecontact = 1
trigger9 = stateno = 253 && movecontact = 1
trigger10 = stateno = 250 && movecontact = 1
trigger11 = stateno = 252 && movecontact = 1
trigger12 = stateno = 400 && movecontact = 1
trigger13 = stateno = 410 && movecontact = 1
trigger14 = stateno = 420 && movecontact = 1
trigger15 = stateno = 450 && movecontact = 1
trigger16 = stateno = 500 && movecontact = 1

; 空中かめはめ波（弱）
[State -1,]
type = ChangeState
value = 1400
TriggerAll = Var(59) <= 0
triggerall = command = "hadouken"
triggerall = power >= 100
triggerall = numproj = 0; || numproj = 1 && var(10) != 0
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 610 && movecontact
trigger4 = stateno = 620 && movecontact
trigger5 = stateno = 630 && movecontact
trigger6 = stateno = 635 && movecontact
trigger7 = stateno = 640 && movecontact
trigger8 = stateno = 650 && movecontact

; 空中かめはめ波（強）
[State -1,]
type = ChangeState
value = 1450
TriggerAll = Var(59) <= 0
triggerall = command = "hadouken2"
triggerall = power >= 100
triggerall = numproj = 0; || numproj = 1 && var(10) != 0
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 610 && movecontact
trigger4 = stateno = 620 && movecontact
trigger5 = stateno = 630 && movecontact
trigger6 = stateno = 635 && movecontact
trigger7 = stateno = 640 && movecontact
trigger8 = stateno = 650 && movecontact

; 浴びせ蹴り(弱)
[State -1,]
type = ChangeState
value = 1000
TriggerAll = Var(59) <= 0
triggerall = command = "tatsumaki"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact = 1
trigger4 = stateno = 201 && movecontact = 1
trigger5 = stateno = 202 && movecontact = 1
trigger6 = stateno = 203 && movecontact = 1
trigger7 = stateno = 204 && movecontact = 1
trigger8 = stateno = 251 && movecontact = 1
trigger9 = stateno = 253 && movecontact = 1
trigger10 = stateno = 250 && movecontact = 1
trigger11 = stateno = 252 && movecontact = 1
trigger12 = stateno = 400 && movecontact = 1
trigger13 = stateno = 410 && movecontact = 1
trigger14 = stateno = 420 && movecontact = 1
trigger15 = stateno = 450 && movecontact = 1
trigger16 = stateno = 500 && movecontact = 1

; 浴びせ蹴り(強)
[State -1,]
type = ChangeState
value = 1050
TriggerAll = Var(59) <= 0
triggerall = command = "tatsumaki2"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact = 1
trigger4 = stateno = 201 && movecontact = 1
trigger5 = stateno = 202 && movecontact = 1
trigger6 = stateno = 203 && movecontact = 1
trigger7 = stateno = 204 && movecontact = 1
trigger8 = stateno = 251 && movecontact = 1
trigger9 = stateno = 253 && movecontact = 1
trigger10 = stateno = 250 && movecontact = 1
trigger11 = stateno = 252 && movecontact = 1
trigger12 = stateno = 400 && movecontact = 1
trigger13 = stateno = 410 && movecontact = 1
trigger14 = stateno = 420 && movecontact = 1
trigger15 = stateno = 450 && movecontact = 1
trigger16 = stateno = 500 && movecontact = 1

; スラッシュダウンキック(弱)
[State -1,]
type = ChangeState
value = 1800
TriggerAll = Var(59) <= 0
triggerall = command = "slashdown" || command = "tatsumaki"
trigger1 = ctrl
trigger1 = statetype = A
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 610 && movecontact
trigger4 = stateno = 620 && movecontact
trigger5 = stateno = 630 && movecontact
trigger6 = stateno = 635 && movecontact
trigger7 = stateno = 640 && movecontact
trigger8 = stateno = 650 && movecontact

; スラッシュダウンキック(強)
[State -1,]
type = ChangeState
value = 1850
TriggerAll = Var(59) <= 0
triggerall = command = "slashdown2" || command = "tatsumaki2"
trigger1 = ctrl
trigger1 = statetype = A
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 610 && movecontact
trigger4 = stateno = 620 && movecontact
trigger5 = stateno = 630 && movecontact
trigger6 = stateno = 635 && movecontact
trigger7 = stateno = 640 && movecontact
trigger8 = stateno = 650 && movecontact

; ダッシュ強パンチ (ニュートラル)
[State -1,]
type = ChangeState
value = 1100
TriggerAll = Var(59) <= 0
triggerall = command = "dash_y"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact = 1
trigger4 = stateno = 201 && movecontact = 1
trigger5 = stateno = 202 && movecontact = 1
trigger6 = stateno = 203 && movecontact = 1
trigger7 = stateno = 204 && movecontact = 1
trigger8 = stateno = 251 && movecontact = 1
trigger9 = stateno = 253 && movecontact = 1
trigger10 = stateno = 250 && movecontact = 1
trigger11 = stateno = 252 && movecontact = 1
trigger12 = stateno = 400 && movecontact = 1
trigger13 = stateno = 410 && movecontact = 1
trigger14 = stateno = 420 && movecontact = 1
trigger15 = stateno = 450 && movecontact = 1
trigger16 = stateno = 500 && movecontact

;後方 瞬間移動（弱）
[State -1,]
type = ChangeState
value = 3600
TriggerAll = Var(59) <= 0
triggerall = command = "teleport"
triggerall = power >= 50
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 202 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 204 && movecontact
trigger8 = stateno = 251 && movecontact
trigger9 = stateno = 253 && movecontact
trigger10 = stateno = 250 && movecontact
trigger11 = stateno = 252 && movecontact
trigger12 = stateno = 400 && movecontact
trigger13 = stateno = 410 && movecontact
trigger14 = stateno = 420 && movecontact
trigger15 = stateno = 450 && movecontact
trigger16 = stateno = 500 && movecontact

;前方 瞬間移動（強）
[State -1,]
type = ChangeState
value = 3650
TriggerAll = Var(59) <= 0
triggerall = command = "teleport2"
triggerall = power >= 50
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 200 && movecontact
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 202 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 204 && movecontact
trigger8 = stateno = 251 && movecontact
trigger9 = stateno = 253 && movecontact
trigger10 = stateno = 250 && movecontact
trigger11 = stateno = 252 && movecontact
trigger12 = stateno = 400 && movecontact
trigger13 = stateno = 410 && movecontact
trigger14 = stateno = 420 && movecontact
trigger15 = stateno = 450 && movecontact
trigger16 = stateno = 500 && movecontact

;---------------------------------------------------------------------------
;============================特殊技=========================================
;---------------------------------------------------------------------------

;ダッシュ
[State -1, Run Fwd]
type = ChangeState
value = 100
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 1801

;空中ダッシュ
[State -1, Run Fwd]
type = ChangeState
value = 110
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
trigger1 = command = "FF"
trigger1 = statetype = A
trigger1 = ctrl

; バックステップ
[State -1, Run Back]
type = ChangeState
value = 105
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

; 空中バックダッシュ
[State -1, Run Back]
type = ChangeState
value = 112
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = vel x <= 0;-1 
trigger1 = command = "BB"
trigger1 = statetype = A
trigger1 = ctrl

; 投げ
[State -1,]
type = ChangeState
value = 1300
TriggerAll = Var(59) <= 0
triggerall = (command = "holdfwd" || command = "holdback") && (command = "y")
triggerall = statetype = S
triggerall = ctrl
triggerall = stateno != 100
trigger1 = p2bodydist X < 7
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H

; 残像拳（カウンター）
[State -1]
type = ChangeState
value = 305
TriggerAll = Var(59) <= 0
triggerall = command = "recovery" ^^ command = "z"
trigger1 = (stateno = 150 || stateno = 151) && power >= 1000
trigger2 = (stateno = 152 || stateno = 153) && power >= 1000

; 気力溜め
[State -1]
type = ChangeState
value = 1900
TriggerAll = Var(59) <= 0
triggerall = statetype = S
triggerall = Power < 3000
triggerall = ctrl = 1
trigger1 = command = "hold_b" && command = "hold_y"
trigger2 = command = "hold_c"

; 挑発
[State -1]
type = ChangeState
value = 195
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
trigger1 = command = "start"
trigger1 = Vel X = 0
trigger1 = stateno != 195
trigger1 = statetype = S
trigger1 = ctrl = 1

; 高速移動 (後方)
[State -1]
type = ChangeState
value = 360
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "recovery" ^^ command = "z"
triggerall = command = "holdback"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 100
trigger3 = stateno = 101
trigger4 = stateno = 102

; 高速移動 (前方)
[State -1]
type = ChangeState
value = 361
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "recovery" ^^ command = "z"
trigger1 = statetype = S
trigger1 = ctrl

 ダッシュ高速移動 (前方)
[State -1]
type = ChangeState
value = 361
TriggerAll = Var(59) <= 0
triggerall = stateno = 100 || stateno = 101 || stateno = 102
triggerall = ctrl = 0
trigger1 = command = "hold_x" && command = "hold_a" 
trigger2 = command = "hold_z"
trigger3 = command = "hold_c"


;---------------------------------------------------------------------------
;=======================ダッシュ攻撃========================================
;---------------------------------------------------------------------------

; ダッシュ強パンチ (ダッシュ中)
[State -1,]
type = ChangeState
value = 1101
TriggerAll = Var(59) <= 0
triggerall = stateno = 101
trigger1 = command = "hold_y"

; ダッシュ弱パンチ (ダッシュ中)
[State -1,]
type = ChangeState
value = 500
TriggerAll = Var(59) <= 0
triggerall = stateno = 101
trigger1 = command = "hold_x"

; ダッシュ弱キック (スライディングキック)
[State -1,]
type = ChangeState
value = 550
TriggerAll = Var(59) <= 0
triggerall = stateno = 101
trigger1 = command = "hold_a"

; ダッシュ強キック (ダッシュ中)
[State -1,]
type = ChangeState
value = 525
TriggerAll = Var(59) <= 0
triggerall = stateno = 101
trigger1 = command = "hold_b"

;---------------------------------------------------------------------------
;============================通常技=========================================
;---------------------------------------------------------------------------
;-------------パンチ

; 弱パンチ (近距離)
[State -1,]
type = ChangeState
value = 201
TriggerAll = Var(59) <= 0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = p2bodydist x < 15
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 201 && movecontact
trigger4 = stateno = 500 && movecontact
trigger5 = stateno = 1801
trigger5 = time > 4

; 弱パンチ
[State -1,]
type = ChangeState
value = 203
TriggerAll = Var(59) <= 0
triggerall = command = "x"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 52 || stateno = 101
trigger2 = animelem = 1, >= 1
trigger3 = stateno = 203
trigger3 = time > 9
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 253 && movecontact
trigger6 = stateno = 500 && movecontact

; 強パンチ (近距離)
[State -1,]
type = ChangeState
value = 202
TriggerAll = Var(59) <= 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = p2bodydist x < 15
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 201 && movecontact
trigger3 = stateno = 203 && movecontact
trigger4 = stateno = 500 && movecontact

; 強パンチ
[State -1,]
type = ChangeState
value = 200
TriggerAll = Var(59) <= 0
triggerall = command = "y"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 202 && movecontact
trigger3 = stateno = 203 && movecontact
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 251 && movecontact
trigger6 = stateno = 253 && movecontact
trigger7 = stateno = 500 && movecontact

;-------------------------------------------キック

; 弱キック (近距離)
[State -1,]
type = ChangeState
value = 253
TriggerAll = Var(59) <= 0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = p2bodydist x < 15
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 235
trigger2 = time > 3
trigger3 = stateno = 201 && movecontact
trigger4 = stateno = 203 && movecontact
trigger5 = stateno = 500 && movecontact

; 弱キック
[State -1,]
type = ChangeState
value = 251
TriggerAll = Var(59) <= 0
triggerall = command = "a"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 251
trigger2 = time > 14
trigger3 = stateno = 253
trigger3 = time > 3
trigger4 = stateno = 201 && movecontact
trigger5 = stateno = 203 && movecontact
trigger6 = stateno = 500 && movecontact
trigger7 = stateno = 251 && movecontact

; 強キック (近距離)
[State -1,]
type = ChangeState
value = 252
TriggerAll = Var(59) <= 0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = p2bodydist x < 15
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 202 && movecontact
trigger3 = stateno = 203 && movecontact
trigger4 = stateno = 251 && movecontact
trigger5 = stateno = 253 && movecontact
trigger6 = stateno = 500 && movecontact

; 強キック
[State -1]
type = ChangeState
value = 250
TriggerAll = Var(59) <= 0
;triggerall = var(22) = 0
triggerall = command = "b"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl = 1
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 201 && movecontact
trigger4 = stateno = 202 && movecontact
trigger5 = stateno = 203 && movecontact
trigger6 = stateno = 251 && movecontact
trigger7 = stateno = 253 && movecontact
trigger8 = stateno = 500 && movecontact

;---------------------------------------------------------------------------
;============================しゃがみ=========================================
;---------------------------------------------------------------------------

; しゃがみ弱パンチ
[State -1]
type = ChangeState
value = 410
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "x"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 101
trigger3 =  stateno = 410
trigger3 =  time > 6
trigger4 = stateno = 500 && movecontact

; しゃがみ強パンチ
[State -1]
type = ChangeState
value = 400
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "y"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 101
trigger3 = stateno = 420 && movecontact
trigger4 = stateno = 410 && movecontact
trigger5 = stateno = 201 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 251 && movecontact
trigger8 = stateno = 253 && movecontact
trigger9 = stateno = 500 && movecontact

; しゃがみ弱キック
[State -1]
type = ChangeState
value = 420
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "a"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 101
trigger3 = stateno = 420 && movecontact
trigger3 = time > 4
trigger4 = stateno = 410 && movecontact
trigger5 = stateno = 201 && movecontact
trigger6 = stateno = 203 && movecontact
trigger7 = stateno = 500 && movecontact

; しゃがみ強キック
[State -1]
type = ChangeState
value = 450
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "b"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 101
trigger3 = stateno = 420 && movecontact
trigger4 = stateno = 410 && movecontact
trigger5 = stateno = 203 && movecontact
trigger6 = stateno = 201 && movecontact
trigger7 = stateno = 251 && movecontact
;trigger8 = stateno = 252 && movecontact
trigger8 = stateno = 200 && movecontact
trigger9 = stateno = 202 && movecontact
trigger10 = stateno = 400 && movecontact
trigger11 = stateno = 500 && movecontact

;---------------------------------------------------------------------------
;============================空中技=========================================
;---------------------------------------------------------------------------

; ジャンプ弱パンチ
[State -1]
type = ChangeState
value = 610
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "x"
trigger1 = statetype = A && vel x != 0 
trigger1 = ctrl = 1
;trigger2 = stateno = 610 && movecontact = 1

; ジャンプ弱パンチ (垂直)
[State -1]
type = ChangeState
value = 600
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "x"
trigger1 = statetype = A
trigger1 = ctrl = 1
trigger2 = stateno = 600 && movecontact = 1

; ジャンプ強パンチ
[State -1]
type = ChangeState
value = 620
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "y"
trigger1 = statetype = A
trigger1 = ctrl = 1
trigger2 = stateno = 600 && movecontact = 1
trigger3 = stateno = 610 && movecontact = 1
trigger4 = stateno = 630 && movecontact = 1
trigger5 = stateno = 635 && movecontact = 1

; ジャンプ弱キック
[State -1]
type = ChangeState
value = 630
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "a"
trigger1 = statetype = A && vel x != 0
trigger1 = ctrl = 1
trigger2 = stateno = 610 && movecontact = 1
;trigger3 = stateno = 630 && movecontact = 1

; ジャンプ弱キック (垂直)
[State -1]
type = ChangeState
value = 635
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "a"
trigger1 = statetype = A
trigger1 = ctrl = 1
trigger2 = stateno = 600 && movecontact = 1
trigger3 = stateno = 635 && movecontact = 1

; ジャンプ強キック
[State -1]
type = ChangeState
value = 650
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "b"
trigger1 = statetype = A && vel x != 0
trigger1 = ctrl = 1
trigger2 = stateno = 610 && movecontact = 1
trigger3 = stateno = 630 && movecontact = 1
trigger4 = stateno = 620 && movecontact = 1

; ジャンプ強キック (垂直)
[State -1]
type = ChangeState
value = 640
TriggerAll = Var(59) <= 0
triggerall = var(22) = 0
triggerall = command = "b"
trigger1 = statetype = A
trigger1 = ctrl = 1
trigger2 = stateno = 600 && movecontact = 1
trigger3 = stateno = 635 && movecontact = 1
trigger4 = stateno = 620 && movecontact = 1

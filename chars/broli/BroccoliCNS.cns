;================================
;"Broli", from Super Boutuden 2
;================================

;----------------------------------------
;Author:	The Necromancer
;		
;		
;----------------------------------------

;===========================================================================
;-| Notes |-----------------------------------------------------------------

;--------------
;Integer Variables:
;--------------

;0: Long Jump
;	0: OFF
;	1: ON
;	2: ON, Chain
;	3: ON, Chain Limit
;1: Intro/Win/Lose
;2: AI Activation
;3: Combo Detection
;	0: None
;	1: Normal, Ground
;	2: Normal, Air
;	3: Special
;	4: Hyper
;4: Electricity
;	0: Electricity1
;	1: Electricity2
;	2: Electricity3
;	3: Electricity4
;5: Command
;	0: None
;	1: Level 1
;	2: Level 2
;	3: Level 3
;	X: Velocity
;6: HitSpark X
;7: HitSpark Y
;8: AfterImage
;9: NoJuggleCheck
;10: Air Combo
;11: Air Combo Timer
;12: Move Repeat Limit
;13: Randomizer
;14: Hyakuretsu Ken Time
;15: Combo Count
;16: Regen
;17: ScreenBound
;18: Bukuu Jyutsu: Float up
;19: Bukuu Jyutsu: Float down
;20: Bukuu Jyutsu
;21: Armor
;22: Zugai Hasatsu
;23: Quote
;24: Minami Ginga Gouka Hit Check
;25: Armor Check

;56: AI Detection: Primary
;57: AI Detection: GameTime
;58: AI Detection: Command

;--------------
;Float Variables:
;--------------

;0: Velocity X
;	Value: Velocity X
;1: Velocity Y
;	Value: Velocity Y

;--------------
;Sound Data:
;--------------

;0: Voices
;	0: Broli001 - "Da!"
;	1: Broli002 - "Ough!"
;	2: Broli003 - "Hu-ough!"
;	3: Broli004 - "Kakaroto..."
;	4: Broli005 - [Gekimetsu Dama]
;	5: Broli006 - [Minami Ginga Gouka]
;	6: Broli007a - "*Grunt*...Ahahaha haha!"
;	7: Broli007b - "If you don't show a will to fight, I'll just destroy the planet."
;	8: Broli008 - "Heh heh heh..."
;	9: Broli009 - "Hmph!"
;	10: Broli010 - "Kakaroto's son?"
;	11: Broli011 - "Another bug has come to be killed, hmph."
;	12: Broli012a - "You call me a monster? You're wrong. I'm the devil!"
;	13: Broli012b - "Heh, ahahaha... ahaha!"
;	14: Broli013a - "Hmph heh heh heh heh."
;	15: Broli013b - "If you'd peacefully let yourselves get killed, you wouldn't have to face so much pain."
;	16: Broli014 - "It's over. In the end, garbage is still garbage."
;	17: Broli015 - "I'm going to start this blood festival with you, Kakaroto!"
;	18: Broli016 - [Yelling, powering up]
;	19: Broli017 - [Yelling]
;	20: Broli018 - "At last, you've decided to fight. But do you think you can defeat me like that?"
;	21: Broli019 - "Kakaroto!"
;	22: Broli020 - "What the hell is that?"
;	23: Broli021 - "You scum... you're still alive?"
;	24: Broli022 - "*Grunt*"
;	25: Broli023 - "Ha!!"

;1: Effects
;	0: BigRock
;	1: ChouKikouHa
;	2: Crack
;	3: Dash
;	4: Electricity
;	5: Explosion
;	6: Flame
;	7: GroundShake
;	8: Jump
;	9: KiBarrier
;	10: KiBarrierEnd
;	11: KiBlast
;	12: KiCharge
;	13: KiChargeStart
;	14: KikouHaEffect
;	15: Land
;	16: ProjCharge001
;	17: ProjCharge002
;	18: Renzokou001
;	19: Renzokou002
;	20: RockLand
;	21: Slide
;	22: SmallRock
;	23: Stomp
;	24: SuperPause
;	25: Throw
;	26: Walk
;	27: Wind
;	28: WinKO
;	29: Zanzouken
;	30: WeakSwing
;	31: MediumSwing
;	32: StrongSwing
;	33: Reflect
;	34: EX
;	35: Transform
;	36: IntroMusic
;	37: EnergyCharge

;2: Attacks
;	0: WeakPunch
;	1: MediumPunch
;	2: StrongPunch
;	3: WeakKick
;	4: MediumKick
;	5: StrongKick
;	6: FierceHit
;	7: Guard

;--------------
;SFF/AIR/State Data:
;--------------

;200-399: Basic (Stand)
;	200: Stand Weak Punch
;	210: Stand Medium Punch
;	215: Sakotsu Wari
;	220: Stand Strong Punch
;	230: Stand Weak Kick
;	240: Stand Medium Kick
;	250: Stand Strong Kick
;400-599: Basic (Crouch)
;	400: Crouch Weak Punch
;	410: Crouch Medium Punch
;	420: Crouch Strong Punch
;	430: Crouch Weak Kick
;	440: Crouch Medium Kick
;	450: Crouch Strong Kick
;600-699: Basic (Air)
;	600: Jump Weak Kick
;	610: Jump Medium Kick
;	620: Jump Strong Kick
;700-799: Basic (Misc.)
;	700: Moushin Rariatto
;	710: Satsubatsu Geri
;	720: Knock Down
;	730: Knock Back
;	740: Knock Up, Air
;	750: Knock Up, Ground
;800-999: Basic (Throws)
;	800: Throw
;	805: Throw, Air

;--------------
;1000-2999: Special
;--------------

;--------------
;3000-4999: Super
;--------------

;--------------
;5000-6999: Required
;--------------

;--------------
;9000-10999: Effects
;--------------

;	9000: Portrait

;--------------
;11000-99999: Helper
;--------------

;	11000: Pusher Effect (Forward)
;	11010: Pusher Effect (Backward)
;	11020: Misc.
;	11030: ScreenBound
;	11040: WideScreen
;	11041-11052: Quotes

;===========================================================================
;-| Data |------------------------------------------------------------------

;---------------------------------------------------------------------------
[Data]
life 			= 1000
attack 		= 80
defence 		= 100
power			= 5000
fall.defence_up 	= 50
liedown.time 	= 30
airjuggle 		= 5
sparkno 		= S9100
guard.sparkno 	= S9130
KO.echo 		= 0
volume 		= 255
IntPersistIndex 	= 0
FloatPersistIndex = 40

[Size]
xscale 		= 1
yscale 		= 1
ground.back 	= 22
ground.front 	= 20
air.back 		= 15
air.front 		= 15
height 		= 75
attack.dist 	= 160
proj.attack.dist 	= 90
proj.doscale 	= 0
head.pos 		= 4,-95
mid.pos 		= 4,-60
shadowoffset 	= 0
draw.offset 	= 0,0

[Velocity]
walk.fwd  		= 1.1
walk.back 		= -0.8
run.fwd  		= 11,0
run.back 		= -10,0
jump.neu 		= 0,-9
jump.back 		= -3.0
jump.fwd 		= 3.0
runjump.back 	= -2.0,-8
runjump.fwd 	= 4,-8
airjump.neu 	= 0,-8
airjump.back 	= -2.0.-8
airjump.fwd 	= 2.0,-8

[Movement]
airjump.num 	= 0
airjump.height 	= 35
yaccel 		= .45
stand.friction 	= .85
crouch.friction 	= .82

;===========================================================================
;-| Intro/Win/Lose |--------------------------------------------------------

;---------------------------------------------------------------------------
;Lose State
[Statedef 170]
type 			= S
movetype		= I
physics		= S
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 170: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 120)
flag 			= RoundNotOver

[State 170: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Time Over State
[Statedef 175]
type 			= S
movetype		= I
physics		= S
anim			= 175
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 175: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 120)
flag 			= RoundNotOver

[State 175: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Win State Decider
[Statedef 180]
type 			= S
movetype		= I
physics		= S
;anim			= 180
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 180: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag 			= RoundNotOver

[State 180: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 180:		ChangeState]
type			= ChangeState
trigger1		= (Time) && (Random <= 499) && (Life > 500)
value			= 181

[State 180:		ChangeState]
type			= ChangeState
trigger1		= (Time)
value			= (IfElse(Life > 500,182,181))

;---------------------------------------------------------------------------
;Win001: Pose
[Statedef 181]
type 			= S
movetype		= I
physics		= S
anim			= 181
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 181: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 150)
flag 			= RoundNotOver

[State 181: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (Time = 25) && (Var(23) != 4) && (Var(23) != 6) && (Var(23) != -2)
value			= S0,(IfElse((Random = [0,333]),8,IfElse((Random = [333,666]),13,14)))

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
value			= S1,4

[State 181:		Explod]
type			= Explod
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-15
postype		= p1
facing		= IfElse(Random <= 499,1,-1)
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 181:		VarSet]
type			= VarSet
trigger1		= (!Time) && (Var(23) = -1)
var(23)		= (IfElse(Random <= 499,4,6))

[State 181:		Helper]
type			= Helper
trigger1 		= (!Time) && (Var(23) > 0)
helpertype		= Normal
name			= "Quote"
id			= 11040
pos			= 0,0
postype		= Left
facing		= 0
stateno		= 11040
keyctrl		= 0
ownpal		= 1
supermovetime	= 9999
pausemovetime	= 9999

;---------------------------------------------------------------------------
;Win002: Ki Charge
[Statedef 182]
type 			= S
movetype		= I
physics		= S
anim			= 182
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 182: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 300)
flag 			= RoundNotOver

[State 182: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 182: 	VarRandom]
type			= VarRandom
trigger1		= 1
v			= 13
range			= 0,1

[State 182: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S0,19
channel		= 0

[State 182: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,13
channel		= 1

[State 182:		PlaySnd]
type			= PlaySnd
trigger1		= (Time > 25) && ((GameTime%15) = 0)
value			= S1,12
channel		= 2

[State 182:		PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%100) = 0)
value			= S1,4
channel		= 4

[State 182:		PalFX]
type			= PalFX
trigger1		= (Time > 75) && ((GameTime%35) = 0)
time			= 20
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,75,75,25
invertall		= 0
color			= 256

[State 182:		Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= -30)
anim			= 9410
id			= 9410
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 182:		Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 182:		Explod]
type			= Explod
trigger1		= (Time > 9) && ((GameTime%20) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-25
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 182:		Explod]
type			= Explod
trigger1		= (Time > 75) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Pos Y >= -30) && (Random <= 499)
anim			= 9820
id			= 9820
pos			= 0,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 60,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.2,0.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 182:		Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= 0)
anim			= 9880
id			= 9880
pos			= 0,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.85,0.85
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 182: 	Helper]
type			= Helper
trigger1		= (!Time)
helpertype		= Normal
name			= "Flame Effect"
id			= 9200
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9200
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.60
size.yscale		= 0.65

[State 182: 	Helper]
type			= Helper
trigger1		= (!Time)
helpertype		= Normal
name			= "Misc"
id			= 182
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11020
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

;---------------------------------------------------------------------------
;PreIntro
[Statedef 190]
type 			= S
movetype		= I
physics		= N
;anim			= 190
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 190: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(190))
value 		= 190

[State 190:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 190:		VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 1
range			= 0,2

[State 190: 	ChangeState] 
type 			= ChangeState
trigger1		= (Time)
value 		= 193

;---------------------------------------------------------------------------
;Intro001: Transform
[Statedef 191]
type 			= S
movetype		= I
physics		= N
anim			= 191
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoMusic

[State 191:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 191: 	VarRandom]
type			= VarRandom
trigger1		= 1
v			= 13
range			= 0,1

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (Time = 75)
value			= S0,3

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8, = 200)
value			= S0,18
channel		= 1

[State 191:		PlaySnd]
type			= PlaySnd
triggerall		= ((GameTime%100) = 0)
trigger1		= ((AnimElem = 6, > 0) && (AnimElem = 7, < 0)) || (AnimElem = 9, > 0)
value			= S1,4
channel		= 2

[State 191:		PlaySnd]
type			= PlaySnd
triggerall		= ((GameTime%16) = 0)
trigger1		= ((AnimElem = 4, > 0) && (AnimElem = 7, < 0)) || (AnimElem = 9, > 0)
value			= S1,7
channel		= 3

[State 191: 	PlaySnd]
type			= PlaySnd
triggerall 		= ((GameTime%15) = 0)
trigger1		= ((AnimElem = 5, > 0) && (AnimElem = 7, < 0)) || (AnimElem = 9, > 0)
value			= S1,12
channel		= 4

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S1,13

[State 191: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8, = 100)
value			= S1,17

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 8, = 200)
value			= S1,35

[State 191:		PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 8, > 100)
x			= (IfElse(((GameTime%2) = 0),2,-2))

[State 191: 	PalFX]
type			= PalFX
trigger1		= (((AnimElem = 4, > 0) && (AnimElem = 7, < 0)) || (AnimElem = 8, > 200)) && ((GameTime%35) = 0)
time			= 20
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,75,75,25
invertall		= 0
color			= 256

[State 191:		EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 6)
value			= 255,255,255
time			= 10

[State 191: 	Explod]
type			= Explod
trigger1		= (AnimElem = 8, > 110) && (AnimElem = 9, < 0)
anim			= 9610
id			= 9610
pos			= 0,-55
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 2,5
sprpriority		= 1
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 191: 	Explod]
type			= Explod
trigger1		= (((AnimElem = 6, > 0) && (AnimElem = 7, < 0)) || (AnimElem = 8, > 200)) && ((GameTime%20) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-25
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 191: 	Explod]
type			= Explod
trigger1		= (AnimElem = 4, > 0) && (AnimElem = 7, < 0) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Random <= 499)
anim			= 9820
id			= 9820
pos			= 0,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 30,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.2,0.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 191: 	Explod]
type			= Explod
trigger1		= (AnimElem = 8, > 200) && ((GameTime%5) = 0) && (NumExplod(9820) < 20) && (Random <= 499)
anim			= 9820
id			= 9820
pos			= 0,-20
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= (IfElse(Random <= 499,(Random/800),-(Random/800))),-(Random/500)
accel			= 0,-0.05
random		= 30,20
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.25,0.25
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 191: 	Explod]
type			= Explod
trigger1		= (AnimElem = 8, > 100) && (AnimElem = 9, < 0)
anim			= 9830
id			= 9830
pos			= 5,-88
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.3,0.3
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 191: 	Explod]
type			= Explod
trigger1		= (AnimElem = 8, = 200)
anim			= 9850
id			= 9850
pos			= 6,-55
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 191: 	Explod]
type			= Explod
trigger1		= (AnimElem = 6)
anim			= 9880
id			= 9880
pos			= 0,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.85,0.85
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 191: 	Explod]
type			= Explod
trigger1		= (AnimElem = 9)
anim			= 9880
id			= 9880
pos			= 0,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.85,0.85
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 191:		Explod]
type			= Explod
trigger1		= (AnimElem = 6)
anim			= 9410
id			= 9410
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 191:		Explod]
type			= Explod
trigger1		= (AnimElem = 6)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 191: 	Helper]
type			= Helper
trigger1		= (AnimElem = 6)
helpertype		= Normal
name			= "Flame Effect"
id			= 9200
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9200
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.40
size.yscale		= 0.55

[State 191: 	Helper]
type			= Helper
trigger1		= (AnimElem = 8, = 180)
helpertype		= Normal
name			= "Flame Effect"
id			= 9200
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9200
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.60
size.yscale		= 0.65

[State 191: 	Helper]
type			= Helper
trigger1		= (AnimElem = 6)
helpertype		= Normal
name			= "Misc"
id			= 191
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11020
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 191:		Helper]
type			= Helper
trigger1 		= (AnimElem = 8, = 200)
helpertype		= Normal
name			= "Quote"
id			= 11040
pos			= 0,0
postype		= Left
facing		= 0
stateno		= 11040
keyctrl		= 0
ownpal		= 1
supermovetime	= 9999
pausemovetime	= 9999

[State 191:		Helper]
type 			= null;Helper
trigger1 		= (AnimElem = 6)
helpertype 		= Normal
name 			= "Intro"
id 			= 11050
pos 			= 0,0
postype 		= p1
stateno 		= 11050
keyctrl		= 0
ownpal		= 1

[State 191:		ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 9, > 0) && (Time > 1400)
value			= 192

;---------------------------------------------------------------------------
;Intro002: Transform
[Statedef 192]
type 			= S
movetype		= I
physics		= N
anim			= 192
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoMusic

[State 192:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 192: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,25

[State 192: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, = 20)
value			= S1,4

[State 192: 	PalFX]
type			= PalFX
trigger1		= (AnimElem = 3)
time			= 40
add			= 50,50,50
mul			= 256,256,256
sinadd		= -50,-50,-50,40
invertall		= 0
color			= 256

[State 192: 	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 50) && ((GameTime%3) = 0)
time			= 1
add			= 200,200,200
mul			= 256,256,256
sinadd		= 0,0,0,0
invertall		= 1
color			= 256

[State 192: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9410
id			= 9410
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 192: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 192: 	Explod]
type			= Explod
trigger1		= (AnimElem = 3, = 25)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-25
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 192: 	Helper]
type 			= Helper
trigger1 		= (AnimElem = 2)
helpertype 		= Normal
name 			= "Ki Shouheki"
id 			= 9930
pos 			= 0,0
postype 		= p1
stateno 		= 9930
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 192: 	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 9880

[State 192: 	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Intro003: Standing
[Statedef 193]
type 			= S
movetype		= I
physics		= N
anim			= 193
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 193:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoMusic

[State 193:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 193:		PlaySnd]
type			= PlaySnd
triggerall		= (Time = 50) && ((P2Name = "[Necromancer's] Poring") || (P4Name = "[Necromancer's] Poring") || (P2Name = "Poring") || (P4Name = "Poring"))
trigger1		= (P2Name != "[FlowaGirl's] Piccolo") && (P4Name != "[FlowaGirl's] Piccolo") && (P2Name != "Piccolo") && (P4Name != "Piccolo")
trigger1		= (P2Name != "[Necromancer's] Vegeta") && (P4Name != "[Necromancer's] Vegeta") && (P2Name != "Vegeta") && (P4Name != "Vegeta")
trigger1		= (P2Name != "[Necromancer's] Trunks") && (P4Name != "[Necromancer's] Trunks") && (P2Name != "Trunks") && (P4Name != "Trunks")
trigger1		= (P2Name != "[Necromancer's] Krillen") && (P4Name != "[Necromancer's] Krillen") && (P2Name != "Krillen") && (P4Name != "Krillen")
trigger1		= (P2Name != "[Necromancer's] Roshi") && (P4Name != "[Necromancer's] Roshi") && (P2Name != "Roshi") && (P4Name != "Roshi")
trigger1		= (P2Name != "[Necromancer's] Videl") && (P4Name != "[Necromancer's] Videl") && (P2Name != "Videl") && (P4Name != "Videl")
trigger1		= (P2Name != "[Necromancer's] Goten") && (P4Name != "[Necromancer's] Goten") && (P2Name != "Goten") && (P4Name != "Goten")
value			= S0,8

[State 193:		PlaySnd]
type			= PlaySnd
triggerall		= (Time = 50)
trigger1		= (P2Name != "[FlowaGirl's] Piccolo") && (P4Name != "[FlowaGirl's] Piccolo") && (P2Name != "Piccolo") && (P4Name != "Piccolo")
trigger1		= (P2Name != "[Necromancer's] Vegeta") && (P4Name != "[Necromancer's] Vegeta") && (P2Name != "Vegeta") && (P4Name != "Vegeta")
trigger1		= (P2Name != "[Necromancer's] Trunks") && (P4Name != "[Necromancer's] Trunks") && (P2Name != "Trunks") && (P4Name != "Trunks")
trigger1		= (P2Name != "[Necromancer's] Krillen") && (P4Name != "[Necromancer's] Krillen") && (P2Name != "Krillen") && (P4Name != "Krillen")
trigger1		= (P2Name != "[Necromancer's] Roshi") && (P4Name != "[Necromancer's] Roshi") && (P2Name != "Roshi") && (P4Name != "Roshi")
trigger1		= (P2Name != "[Necromancer's] Videl") && (P4Name != "[Necromancer's] Videl") && (P2Name != "Videl") && (P4Name != "Videl")
trigger1		= (P2Name != "[Necromancer's] Goten") && (P4Name != "[Necromancer's] Goten") && (P2Name != "Goten") && (P4Name != "Goten")
trigger1		= (P2Name != "[Necromancer's] Poring") && (P4Name != "[Necromancer's] Poring") && (P2Name != "Poring") && (P4Name != "Poring")
value			= S0,9

[State 193:		PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
value			= S1,4

[State 193:		Explod]
type			= Explod
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-15
postype		= p1
facing		= IfElse(Random <= 499,1,-1)
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 193: 	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Taunt
[Statedef 195]
type 			= S
movetype		= I
physics		= N
anim			= 195
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 195:		PlaySnd]
type			= PlaySnd
trigger1		= (Time = 20)
value			= S0,14
channel		= 0

[State 195:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;===========================================================================
;-| Basic |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Stand Weak Punch
[Statedef 200]
type 			= S
movetype		= A
physics		= S
;anim			= 200
velset		= 0,0
ctrl			= 0
poweradd		= 13
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 200: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= 200

[State 200: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 200:		Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-70,-80))

[State 200:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(200)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 200:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,30

[State 200:		Helper]
type 			= Helper
trigger1 		= (NumTarget(200)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 200:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9100
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,0
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 9
ground.hittime	= 9
air.hittime		= 9
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 200
getpower		= 13
givepower		= 13
envshake.time 	= 10
envshake.freq 	= 120
envshake.ampl 	= -2

[State 200:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Stand Medium Punch
[Statedef 210]
type 			= S
movetype		= A
physics		= S
;anim			= 210
velset		= 0,0
ctrl			= 0
poweradd		= 26
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 210: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 210)
value 		= 210

[State 210: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 210:		Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-90,-100))

[State 210:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(210)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 210:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,31

[State 210:		Helper]
type 			= Helper
trigger1 		= (NumTarget(210)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 210:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,1
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id			= 210
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 210:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Sakotsu Wari
[Statedef 215]
type 			= S
movetype		= A
physics		= S
;anim			= 215
velset		= 0,0
ctrl			= 0
poweradd		= 26
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 215: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 215)
value 		= 215

[State 215: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 215:		Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-35,-50))

[State 215:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(215)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 215:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,31

[State 215:		Helper]
type 			= Helper
trigger1 		= (NumTarget(215)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 215:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= S, NA
hitflag		= MAFD
guardflag		= H
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,1
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id			= 215
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 215:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Stand Strong Punch
[Statedef 220]
type 			= S
movetype		= A
physics		= S
;anim			= 220
velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= (IfElse(((Var(2) > 0) && (PrevStateNo = 8010)),1,0))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 220: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 220)
value 		= 220

[State 220: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 220:		Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-75,-82))

[State 220:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(220)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 220:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 220:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030) && (Random <= 299)
value			= S0,0
channel		= 0

[State 220:		EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 3)
time			= 10
freq			= 140
ampl			= -3
phase			= 120

[State 220:		Helper]
type 			= Helper
trigger1 		= (NumTarget(220)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 220:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,2
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -10
guard.velocity	= -10
air.velocity	= -7.5,-4.7
airguard.velocity	= -7.5,-4.7
ground.cornerpush.veloff = -14
id			= 220
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 220:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Stand Weak Kick
[Statedef 230]
type 			= S
movetype		= A
physics		= S
;anim			= 230
velset		= 0,0
ctrl			= 0
poweradd		= 13
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 230: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 230)
value 		= 230

[State 230: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 230:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-40,-10))

[State 230:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(230)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 230:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,30

[State 230:		Helper]
type 			= Helper
trigger1 		= (NumTarget(230)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 230:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9100
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,3
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
id			= 230
getpower		= 13
givepower		= 13
envshake.time 	= 10
envshake.freq 	= 120
envshake.ampl 	= -2

[State 230:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Stand Medium Kick
[Statedef 240]
type 			= S
movetype		= A
physics		= S
;anim			= 240
velset		= 0,0
ctrl			= 0
poweradd		= 26
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 240: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 240)
value 		= 240

[State 240: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 240:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-50,-55))

[State 240:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(240)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 240:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,31

[State 240:		Helper]
type 			= Helper
trigger1 		= (NumTarget(240)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 240:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,4
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -7.5
guard.velocity	= -7.5
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -7.5
id			= 240
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 240:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Stand Strong Kick
[Statedef 250]
type 			= S
movetype		= A
physics		= S
;anim			= 250
velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 250: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 250)
value 		= 250

[State 250: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 250:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-75,-100))

[State 250:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(250)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 250:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 250:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030) && (Random <= 299)
value			= S0,0
channel		= 0

[State 250:		Helper]
type 			= Helper
trigger1 		= (NumTarget(250)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 250:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -7
guard.velocity	= -7
air.velocity	= -6,-5.7
airguard.velocity	= -6,-5.7
ground.cornerpush.veloff = -14
id			= 250
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 250:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Crouch Weak Punch
[Statedef 400]
type 			= C
movetype		= A
physics		= C
;anim			= 400
velset		= 0,0
ctrl			= 0
poweradd		= 13
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 400: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= 400

[State 400: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 400:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-35,-45))

[State 400:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(400)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 400:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,30

[State 400:		Helper]
type 			= Helper
trigger1 		= (NumTarget(400)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 400:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9100
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,0
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 8
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.7
guard.velocity	= -4.7
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.7
id			= 400
getpower		= 13
givepower		= 13
envshake.time 	= 10
envshake.freq 	= 120
envshake.ampl 	= -2

[State 400:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Medium Punch
[Statedef 410]
type 			= S
movetype		= A
physics		= S
;anim			= 410
velset		= 0,0
ctrl			= 0
poweradd		= 26
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 410: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 410)
value 		= 410

[State 410: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 410:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-35,-45))

[State 410:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(410)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 410:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,31

[State 410:		Helper]
type 			= Helper
trigger1 		= (NumTarget(410)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 410:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,1
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8.2
guard.velocity	= -8.2
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8.2
id			= 410
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Punch
[Statedef 420]
type 			= C
movetype		= A
physics		= C
;anim			= 420
velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 420: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 420)
value 		= 420

[State 420: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 420:		Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-55,-60))

[State 420:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(420)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 420:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 420:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030) && (Random <= 299)
value			= S0,0
channel		= 0

[State 420:		Helper]
type 			= Helper
trigger1 		= (NumTarget(420)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,2
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -1.3,-8
airguard.velocity	= -1.3,-8
ground.cornerpush.veloff = -8
id			= 420
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 420:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Weak Kick
[Statedef 430]
type 			= C
movetype		= A
physics		= C
;anim			= 430
velset		= 0,0
ctrl			= 0
poweradd		= 13
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 430: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 430)
value 		= 430

[State 430: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 430:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-20,-3))

[State 430:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(430)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 430:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,30

[State 430:		Helper]
type 			= Helper
trigger1 		= (NumTarget(430)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 430:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= C, NA
hitflag		= MAFD
guardflag		= L
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9100
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,3
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 8
ground.hittime	= 8
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.7
guard.velocity	= -4.7
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.7
id			= 430
getpower		= 13
givepower		= 13
envshake.time 	= 10
envshake.freq 	= 120
envshake.ampl 	= -2

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 440]
type 			= C
movetype		= A
physics		= C
;anim			= 440
velset		= 0,0
ctrl			= 0
poweradd		= 26
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 440: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 440)
value 		= 440

[State 440: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 440:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-23,-30))

[State 440:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(440)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 440:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,31

[State 440:		Helper]
type 			= Helper
trigger1 		= (NumTarget(440)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 440:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= C, NA
hitflag		= MAFD
guardflag		= L
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,4
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8.2
guard.velocity	= -8.2
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8.7
id			= 440
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 440:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 450]
type 			= C
movetype		= A
physics		= N
;anim			= 450
velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 450: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 450)
value 		= 450

[State 450: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 450:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-20,-3))

[State 450:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(450)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 450:		PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (!MoveContact)
value			= 0

[State 450:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1, = 5)
value			= S1,32

[State 450:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1, = 5)
value			= S1,21

[State 450:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 4

[State 450:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0

[State 450:		VelAdd]
type 			= VelAdd
trigger1 		= (AnimElem = 2, > 10) && (AnimElem = 2, < 15) && (Vel X > 1)
x			= -0.8

[State 450:		Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 450:		Helper]
type 			= Helper
trigger1 		= (NumTarget(450)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 450:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2) && (!MoveContact)
attr			= C, NA
hitflag		= MA
guardflag		= L
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -1.5,-3
guard.velocity	= -1.5
air.velocity	= -1.5,-3
airguard.velocity	= -1.5,-3
ground.cornerpush.veloff = -1.5
fall			= 1
fall.recover	= 0
id			= 450
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 450:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Jump Weak Kick
[Statedef 600]
type 			= A
movetype		= A
physics		= N
anim			= 600
;velset		= 0,0
ctrl			= 0
poweradd		= 13
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 600:		StateTypeSet]
type			= StateTypeSet
trigger1		= (!Time) && (Var(20) = 0)
physics		= A

[State 600:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-10,10))

[State 600:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(600)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 600:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,30

[State 600:		Helper]
type 			= Helper
trigger1 		= (NumTarget(600)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 600:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9100
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,3
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= IfElse(PrevStateNo = 50,-4.5,0),IfElse(PrevStateNo = 50,-4.7,-2)
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -4.5
id			= 600
getpower		= 13
givepower		= 13
envshake.time 	= 10
envshake.freq 	= 120
envshake.ampl 	= -2

[State 600:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 3, > 7)
value			= 1

[State 600:		ChangeState]
type			= ChangeState
trigger1		= (Var(20) = 1) && (AnimElem = 3, > 7)
value			= 8021

[State 600:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0) && (Var(10) = 1) && (Var(20) = 0)
trigger2		= (Pos Y >= 10) && (Vel Y > 0) && (Var(20) = 0)
value			= 52

;---------------------------------------------------------------------------
;Jump Medium Kick
[Statedef 610]
type 			= A
movetype		= A
physics		= N
;anim			= 610
;velset		= 0,0
ctrl			= 0
poweradd		= 26
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 610: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 610)
value 		= 610

[State 610: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 610:		StateTypeSet]
type			= StateTypeSet
trigger1		= (!Time) && (PrevStateNo != 8030) && (Var(20) = 0)
physics		= A

[State 610:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-30,-20))

[State 610:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(610)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 610:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,31

[State 610:		Helper]
type 			= Helper
trigger1 		= (NumTarget(610)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 610:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52))
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,4
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= IfElse(PrevStateNo = 50,-6,0),IfElse(PrevStateNo = 50,-4.7,-2)
airguard.velocity	= -5,-1
ground.cornerpush.veloff = -7.5
id			= 610
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 610:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 3, > 7)
value			= 1

[State 610:		ChangeState]
type			= ChangeState
trigger1		= (Var(20) = 1) && (AnimElem = 3, > 7)
value			= 8021

[State 610:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0) && (Var(10) = 1) && (Var(20) = 0)
trigger2		= (Pos Y >= 10) && (Vel Y > 0) && (Var(20) = 0)
value			= 52

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 620]
type 			= A
movetype		= A
physics		= N
;anim			= 620
;velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 620: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 620)
value 		= 620

[State 620: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 620:		StateTypeSet]
type			= StateTypeSet
trigger1		= (!Time) && (PrevStateNo != 8030) && (Var(20) = 0)
physics		= A

[State 620:		ScreenBound]
type			= ScreenBound
triggerall		= (NumTarget(620))
trigger1		= ((Var(10) = 1) || (Pos Y < -200)) && (FrontEdgeBodyDist > 10)
value			= 0
movecamera		= 0,1

[State 620:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,1

[State 620:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-5,-20))

[State 620:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(620)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 620:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 620:		Helper]
type 			= Helper
trigger1 		= (NumTarget(620)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 620:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= A, NA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= IfElse(PrevStateNo = 50,-7.5,-14),IfElse(PrevStateNo = 50,-4.7,7)
airguard.velocity	= -5,-1
ground.cornerpush.veloff = -14
id			= 620
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 620:		CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 3, > 11)
value			= 1

[State 620:		ChangeState]
type			= ChangeState
trigger1		= (Var(20) = 0) && (AnimElem = 3, > 10) && (BackEdgeBodyDist <= -10)
value			= 100

[State 620:		ChangeState]
type			= ChangeState
trigger1		= (Var(20) = 1) && (AnimElem = 3, > 11)
value			= 8021

[State 620:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0) && (Var(10) = 1) && (Var(20) = 0)
trigger2		= (Pos Y >= 10) && (Vel Y > 0) && (Var(20) = 0)
value			= 52

;---------------------------------------------------------------------------
;Moushin Rariatto
[Statedef 700]
type 			= S
movetype		= A
physics		= S
;anim			= 700
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 700: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 700)
value 		= 700

[State 700: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 700:		Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-90,-100))

[State 700:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(700)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 700:		PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0)
value			= 0

[State 700:		VelSet]
type			= VelSet
trigger1		= (Time < 12) && (PrevStateNo != 8030)
x			= 11

[State 700:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 700:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,21

[State 700:		EnvColor]
type			= EnvColor
trigger1		= (NumTarget(700)) && (MoveHit)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 700:		Explod]
type			= Explod
trigger1		= (!Time) && (PrevStateNo != 8030)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 700:		Helper]
type 			= Helper
trigger1 		= (NumTarget(700)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 700:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2) ^^ (AnimElem = 3)
attr			= S, NA
hitflag		= MAFP
guardflag		= H
animtype		= Up
priority		= 3, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,6
guardsound		= S2,7
ground.type		= Low
air.type		= High
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= 0,30
guard.velocity	= -10
air.velocity	= 0,30
airguard.velocity	= 0,30
ground.cornerpush.veloff = 0
fall			= 1
fall.xvelocity	= -1
fall.yvelocity	= -5
fall.recover	= 0
down.bounce		= 1
id			= 700
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 700:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Satsubatsu Geri
[Statedef 710]
type 			= C
movetype		= A
physics		= C
;anim			= 710
;velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 710: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 710)
value 		= 710

[State 710: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 710:		Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-20,-3))

[State 710:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(710)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 710:		PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0)
value			= 0

[State 710:		VelSet]
type			= VelSet
trigger1		= (Time < 15) && (PrevStateNo != 8030)
x			= 11

[State 710:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 710:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,21

[State 710:		Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 710:		Helper]
type 			= Helper
trigger1 		= (NumTarget(710)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 710:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2) && (!MoveContact)
attr			= C, NA
hitflag		= MAFD
guardflag		= L
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -1.5,-3
guard.velocity	= -1.5
air.velocity	= -1.5,-3
airguard.velocity	= -1.5,-3
ground.cornerpush.veloff = -1.5
fall			= 1
fall.recover	= 0
id			= 710
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 710:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Throw: Attempt
[Statedef 800]
type 			= S
movetype		= A
physics		= S
;anim			= 800
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 800: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 800)
value 		= 800

[State 800: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 800:		AttackDist]
type			= AttackDist
trigger1		= 1
value			= 0

[State 800:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 800: 	PlayerPush]
type			= PlayerPush
trigger1		= (PrevStateNo = 1071)
value			= 0

[State 800:		PosAdd]
type			= PosAdd
trigger1		= (!Time) && (PrevStateNo = 1071)
x			= 25

[State 800: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NT
hitflag		= MAF
priority		= 1, Miss
sparkno		= -1
hitsound		= S1,25
guard.dist		= 0
snap			= 38,-50
p2facing		= 1
p1stateno		= 801
p2stateno		= 802
forcestand		= 1
fall			= 1
id			= 800
getpower		= 0
givepower		= 0

[State 800:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(Var(2) <= 0,0,1040))
ctrl 			= (IfElse(Var(2) <= 0,1,0))

;---------------------------------------------------------------------------
;Throw: Success
[Statedef 801]
type 			= S
movetype		= A
physics		= S
anim			= 801
velset		= 0,0
ctrl			= 0
poweradd		= 40
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 801:		Turn]
type			= Turn
trigger1		= (!AnimTime)

[State 801: 	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 801: 	NotHitBy]
type			= NotHitBy
trigger1		= 1
value 		= SCA

[State 801: 	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 3)
value			= 2

[State 801:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S0,0
channel		= 0

[State 801:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S1,23

[State 801:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 801:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S2,6

[State 801: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1)
time			= -1
id			= 800
pos			= 38,-75

[State 801: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2)
time			= -1
id			= 800
pos			= 32,-82

[State 801: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3)
time			= -1
id			= 800
pos			= -30,-64

[State 801: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 4)
time			= 10
id			= 800
pos			= -60,0

[State 801: 	VarAdd]
type			= VarAdd
trigger1		= (!Time)
var(15)		= 1

[State 801: 	TargetLifeAdd]
type			= TargetLifeAdd
trigger1 		= (AnimElem = 3)
value			= -80
persistent		= 0
ignorehitpause	= 1

[State 801: 	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9110
id			= 9110
pos			= -40,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 801: 	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9410
id			= 9410
pos			= -40,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 801:		TargetState]
type			= TargetState
trigger1		= (AnimElem = 4)
value			= 803

[State 801: 	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime) && (Var(2) <= 0)
value			= 0
ctrl 			= 1

[State 801: 	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime) && (Var(2) > 0)
value			= (IfElse(Random <= 499,1090,1050))

;---------------------------------------------------------------------------
;Throw: Opponent
[Statedef 802]
type 			= A
movetype		= H
physics		= N
;anim			= 802
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 802: 	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 802:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 802

[State 802: 	SelfState]
type 			= SelfState
trigger1 		= (EnemyNear, StateNo != [800,801])
value 		= 5050

;---------------------------------------------------------------------------
;Throw: Opponent
[Statedef 803]
type 			= A
movetype		= H
physics		= N
;anim			= 803
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 803: 	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 803:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 803

[State 801:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 1, = 10)
x			= 0.5
y			= -7

[State 803:		VelAdd]
type			= VelAdd
trigger1		= (Time > 20)
y			= 0.45

[State 803: 	EnvColor]
type			= EnvColor
trigger1		= (!Time)
value			= 255,255,255
time			= 7

[State 803:		EnvShake]
type			= EnvShake
trigger1		= (!Time)
time			= 20
freq			= 120
ampl			= -6
phase			= 120

[State 803:		SelfState]
type			= SelfState
trigger1		= (Pos Y >= -10) && (Time > 20)
value			= 5100

;===========================================================================
;-| Special |---------------------------------------------------------------

;---------------------------------------------------------------------------
;Kikou Ha
[Statedef 1000]
type 			= S
movetype		= A
physics		= S
;anim			= 1000
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1000:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1000: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1000:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1000:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Var(20) = 1) && (PrevStateNo != 8030)
y			= 0

[State 1000:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= 1000
elem			= (IfElse(PrevStateNo = 1000,2,1))

[State 1000: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1000:	VarSet]
type			= VarSet
trigger1		= (!Time) && (PrevStateNo = 1010) && (PrevStateNo != 8030)
var(12)		= 0

[State 1000:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
var(12)		= 1

[State 1000: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= -50

[State 1000: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S0,0
channel		= 0

[State 1000:	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 3)
value 		= S1,11

[State 1000: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,30

[State 1000:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 1000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 4) || (AnimElem = 3, = 6) || (AnimElem = 3, = 8) || (AnimElem = 3, = 10)
trigger2		= (AnimElem = 3, = 12) || (AnimElem = 3, = 14) || (AnimElem = 3, = 16) || (AnimElem = 3, = 18) || (AnimElem = 3, = 20)
x			= 0.85

[State 1000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 5) || (AnimElem = 3, = 7) || (AnimElem = 3, = 9) || (AnimElem = 3, = 11)
trigger2		= (AnimElem = 3, = 13) || (AnimElem = 3, = 15) || (AnimElem = 3, = 17) || (AnimElem = 3, = 19)
x			= -0.85

[State 1000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9900
id			= 9900
pos			= 44,-88
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.25,0.25
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1000:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9910
id			= 9910
pos			= 44,-88
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1000:	Helper]
type			= Helper
trigger1		= (AnimElem = 3) 
helpertype		= Normal
name			= "Kikou Ha"
id			= 9600
pos			= 44,-88
postype		= p1
facing		= 1
stateno		= 9600
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1000:	ChangeState]
type			= ChangeState
triggerall		= (Command = "x") || (Command = "y") || (Command = "z")
trigger1		= (AnimElem = 3, > 5) && (AnimElem = 4, < 0) && (Var(12) < 3) && (Power > 0)
value			= 1000

[State 1000:	ChangeState]
type			= ChangeState
trigger1		= (Time > (40 + (Var(12)*6)))
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Gou Kikou Ha
[Statedef 1005]
type 			= S
movetype		= A
physics		= S
;anim			= 3000
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (IfElse(PrevStateNo = 8030,0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1005:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1005: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1005:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1005:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1051:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, > 10) && (AnimElem = 3, < 0)
x			= (IfElse(((GameTime%2) = 0),2,-2))

[State 1005: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 3000)
value 		= 3000
elem			= 2

[State 1005: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1005:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 2, > 60)
value			= 3000
elem			= 3
persistent		= 0

[State 1005:	PowerAdd]
type			= PowerAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= -150

[State 1005:	AttackDist]
type			= AttackDist
trigger1		= 1
value			= IfElse(Var(5) = 0,100,0)

[State 1005: 	VarRandom]
type			= VarRandom
trigger1		= 1
v			= 6
range			= -25,15

[State 1005: 	VarRandom]
type			= VarRandom
trigger1		= 1
v			= 7
range			= -75,-40

[State 1005:	VarAdd]
type			= VarAdd
triggerall		= (MoveHit) && (AnimElem = 3, < 0)
trigger1		= ((GameTime%25) = 0)
var(15)		= 1
ignorehitpause	= 1

[State 1005:	VarAdd]
type			= VarAdd
trigger1		= (ProjHit(9650) = 1)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1005:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3) && (PrevStateNo != 8030)
value			= S0,25

[State 1005:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3) && (PrevStateNo != 8030)
value			= S1,32

[State 1005:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 10) && (PrevStateNo != 8030)
value			= S1,37

[State 1005:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4) && (PrevStateNo != 8030)
value			= S2,6

[State 1005:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%50) = 0)
time			= 20
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,75,75,25
invertall		= 0
color			= 256

[State 1005:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 4)
time			= 20
freq			= 140
ampl			= -8
phase			= 120

[State 1005:	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9110
id			= 9110
pos			= 42,-96
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1005:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%20) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Random <= 499,9700,9710))
id			= 9700
pos			= 0,-25
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 20,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.5,1.5
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1005:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 10) && (AnimElem = 3, < 0) && (NumExplod(9800) = 0)
anim			= 9800
id			= 9800
pos			= 38,-74
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1005: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Random <= 499) && (Pos Y >= 0)
anim			= 9820
id			= 9820
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 60,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.1,0.1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1005: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 10) && (AnimElem = 3, < 0) && ((GameTime%15) = 0) && (NumExplod(9830) < 6) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= 38,-74
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 10,10
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.1,0.1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1005:	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9870
id			= 9870
pos			= 42,-96
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1005:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 3)
channel		= 0

[State 1005:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 4)
id 			= 9800

[State 1005:	HitDef]
type			= HitDef
trigger1		= ((GameTime%25) = 0)
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Medium
priority		= 7, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((12*(24-Var(15)+2)/24) > 0, 12*(24-Var(15)+2)/24,3),12)),4
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,7
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 20
ground.velocity	= -1.1
guard.velocity	= -1.1
air.velocity	= -1.1,-3.5
airguard.velocity	= -1.1,-3.5
ground.cornerpush.veloff = 0
id			= 1005
getpower		= 0
givepower		= 0
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1005:	Projectile]
type			= Projectile
trigger1		= (AnimElem = 4) && (P2Dist X > 100)
projid		= 9650
projanim		= 9650
projhitanim		= 9320
projremanim		= 9320
projcancelanim	= 9320
projscale		= 1,1
projremove		= 1
projremovetime	= 200
velocity		= 25,(IfElse((Command = "holdup"),-25,IfElse(((Command = "holddown") && (Var(20) = 1)),25,0)))
remvelocity		= 0,0
accel			= 0,0
velmul		= 1.1,1
projhits		= 1
projmisstime	= 0
projpriority	= 100
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 38,-74
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
afterimage.time	= 10
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.length = 10
afterimage.paladd = 75, 75, 75
afterimage.palmul = .50, .50, .50
afterimage.palcontrast = 75, 75, 75
afterimage.trans 	= add
;------------------
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage 		= 100,25
pausetime		= 0,20
guard.pausetime	= 0,10
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S1,5
guardsound		= S1,5
ground.type		= High
air.type		= Trip
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
ground.velocity	= -15
guard.velocity	= -10
air.velocity	= -15,-8
airguard.velocity	= -15,-8
ground.cornerpush.veloff = 0
air.fall		= 1
fall.recover	= 0
down.velocity	= -15,-6
down.bounce		= 1
id			= 9650
getpower		= 25
givepower		= 25
palfx.time		= 20
palfx.mul		= 256,256,256
palfx.add		= 150,150,150
palfx.sinadd	= 100,100,100,25
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -8

[State 1005:	Projectile]
type			= Projectile
trigger1		= (AnimElem = 4) && (P2Dist X <= 100)
projid		= 9650
projanim		= 9650
projhitanim		= 9320
projremanim		= 9320
projcancelanim	= 9320
projscale		= 1,1
projremove		= 1
projremovetime	= 200
velocity		= 25,(IfElse((Command = "holdup"),-25,IfElse(((Command = "holddown") && (Var(20) = 1)),25,0)))
remvelocity		= 0,0
accel			= 0,0
velmul		= 1.1,1
projhits		= 1
projmisstime	= 0
projpriority	= 100
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 38,-74
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
afterimage.time	= 10
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.length = 10
afterimage.paladd = 75, 75, 75
afterimage.palmul = .50, .50, .50
afterimage.palcontrast = 75, 75, 75
afterimage.trans 	= add
;------------------
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage 		= 100,25
pausetime		= 0,20
guard.pausetime	= 0,10
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S1,5
guardsound		= S1,5
ground.type		= High
air.type		= Trip
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
ground.velocity	= -15,-8
guard.velocity	= -10
air.velocity	= -15,-8
airguard.velocity	= -15,-8
ground.cornerpush.veloff = 0
fall.recover	= 0
down.velocity	= -15,-6
down.bounce		= 1
fall			= 1
id			= 9650
getpower		= 25
givepower		= 25
palfx.time		= 20
palfx.mul		= 256,256,256
palfx.add		= 150,150,150
palfx.sinadd	= 100,100,100,25
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -8

[State 1005:	Helper]
type 			= Helper
triggerall		= (MoveHit) && (AnimElem = 3, < 0)
trigger1		= ((GameTime%25) = 0) || ((Command = "x") ^^ (Command = "y") ^^ (Command = "z"))
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
ignorehitpause	= 1

[State 1005:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, = 10) || (AnimElem = 2, = 30)
helpertype		= Normal
name			= "Kikou Ha Effect"
id			= 9900
pos			= 38,-74
postype		= p1
facing		= 1
stateno		= 9900
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse((Var(5) = 3),1,0.75))
size.yscale		= (IfElse((Var(5) = 3),1,0.75))

[State 1005: 	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Bakuenha
[Statedef 1010]
type 			= S
movetype		= A
physics		= S
;anim			= 1010
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= 1010

[State 1010: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1010:	Width]
type			= Width
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 4, < 0)
value			= 50,0

[State 1010:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
var(12)		= 1

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,(IfElse(PrevStateNo = 1010,25,0))

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 1010: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
value			= -150

[State 1010:	Explod]
type			= Explod
trigger1		= (!Time) && (PrevStateNo != 8030)
anim			= 9900
id			= 9900
pos			= -35,-80
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1010:	Explod]
type			= Explod
trigger1		= (!Time) && (PrevStateNo != 8030)
anim			= 9610
id			= 9610
pos			= -35,-80
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 8
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9610
id			= 9610
pos			= 50,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 5
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1010:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3)
helpertype		= Normal
name			= "Bakuenha"
id			= 9630
pos			= (IfElse(PrevStateNo = 1010,200,125)),0
postype		= p1
facing		= 1
stateno		= 9630
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.75
size.yscale		= 0.75

[State 1010:	ChangeState]
type			= ChangeState
trigger1		= (Var(15) > 0) && (AnimElem = 3, > 5) && (Var(2) > 0) && (Random <= 499)
value			= 1070

[State 1010:	ChangeState]
type			= ChangeState
triggerall		= (Command = "x") || (Command = "y") || (Command = "z")
trigger1		= (AnimElem = 3, > 20) && (AnimElem = 4, < 0) && (Var(12) < 2) && (Power > 0)
value			= 1010

[State 1010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Tosshin Toubu Dageki: Attempt
[Statedef 1020]
type 			= S
movetype		= A
physics		= N
;anim			= 1020
;velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1020:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1020:	Width]
type			= Width
trigger1		= 1
edge			= 30,0
player		= 30,0
ignorehitpause	= 1

[State 1020: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1020:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1020:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Var(20) = 1) && (PrevStateNo != 8030)
y			= 0

[State 1020:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1020: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1020)
value 		= 1020

[State 1020: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1020)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1020:	NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 2, < 0)
value			= SCA

[State 1020:	PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value			= 0

[State 1020:	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 3, > 0)
physics		= S

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 14

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (Pos Y >= 0)
value			= S1,21

[State 1020:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1020:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1020:	Explod]
type			= Explod
trigger1 		= (AnimElem = 2) && (Pos Y >= 0)
anim			= 9810
id			= 9810
pos			= -10,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1020: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 15
timegap		= 2
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 1020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(100)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1020:	Helper]
type 			= Helper
trigger1 		= (NumTarget(1020)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(10)),-90
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 1020:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, > 0)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,10),78)),10
pausetime		= 0,14
guard.pausetime	= 0,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= 10,-90
hitsound		= S2,6
guardsound		= S2,7
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -5,-6
guard.velocity	= -5
air.velocity	= -4,-5
airguard.velocity	= -4,-5
ground.cornerpush.veloff = 0
fall			= 1
fall.xvelocity	= -1
fall.yvelocity	= -5
fall.recover	= 0
down.bounce		= 1
id			= 1020
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (Var(2) > 0) && (AnimElem = 2, > 0) && (MoveContact) && (!MoveHit)
value			= 710
ignorehitpause	= 1

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (MoveContact)
value			= 1021
ignorehitpause	= 1

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Tosshin Toubu Dageki: Success
[Statedef 1021]
type 			= S
movetype		= A
physics		= S
;anim			= 1021
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1021:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1021:	Width]
type			= Width
trigger1		= 1
edge			= 30,0
player		= 30,0
ignorehitpause	= 1

[State 1021: 	Null]
type 			= Null
trigger1 		= (Var(18) = -10) || (Var(18) = 10)
trigger1		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1021:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1021:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1021: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1021)
value 		= 1021

[State 1021: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1021:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1021:	PosAdd]
type			= PosAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
x			= 10
ignorehitpause	= 1

[State 1021:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x			= 10

[State 1021:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 1021:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 9810

[State 1021:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Geki Kaze
[Statedef 1030]
type 			= S
movetype		= A
physics		= S
;anim			= 1030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1030:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1030: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1030:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1030:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Var(20) = 1) && (PrevStateNo != 8030)
y			= 0

[State 1030:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1030: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1030)
value 		= 1030

[State 1030: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1030:	VarAdd]
type			= VarAdd
trigger1		= (ProjHit(1030) = 1)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1030: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= -100

[State 1030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S0,0
channel		= 0

[State 1030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,11

[State 1030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,30

[State 1030:	VelSet]
type			= VelSet
trigger1		= (!Time) && (PrevStateNo != 1030)
y			= 0

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 4) || (AnimElem = 3, = 6) || (AnimElem = 3, = 8) || (AnimElem = 3, = 10)
trigger2		= (AnimElem = 3, = 12) || (AnimElem = 3, = 14) || (AnimElem = 3, = 16) || (AnimElem = 3, = 18) || (AnimElem = 3, = 20)
x			= 0.95

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 5) || (AnimElem = 3, = 7) || (AnimElem = 3, = 9) || (AnimElem = 3, = 11)
trigger2		= (AnimElem = 3, = 13) || (AnimElem = 3, = 15) || (AnimElem = 3, = 17) || (AnimElem = 3, = 19)
x			= -0.95

[State 1030:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 3)
time			= 25
freq			= 120
ampl			= -6
phase			= 120

[State 1030:	EnvColor]
type			= EnvColor
trigger1 		= (AnimElem = 3, > 0) && (AnimElem = 3, < 20) && ((GameTime%3) = 0)
value			= 255,255,255
time			= 1
ignorehitpause	= 1

[State 1030:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9910
id			= 9910
pos			= 44,-88
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,3
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1030:	Projectile]
type			= Projectile
trigger1		= (AnimElem = 3)
projid		= 9640
projanim		= 9640
projhitanim		= -1
projremanim		= -1
projcancelanim	= -1
projscale		= 1,1
projremove		= 1
projremovetime	= 200
velocity		= 20,0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1000
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 44,-88
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, SP
hitflag		= MAFP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,10),78)),10
pausetime		= 14,14
sparkno		= S9310
guard.sparkno	= S9870
sparkxy		= 20,0
hitsound		= S1,5
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
ground.velocity	= -7,-4.7
guard.velocity	= -7
air.velocity	= -7,-4.7
airguard.velocity	= -7,-4.7
ground.cornerpush.veloff = 0
air.juggle		= 1
fall			= 1
fall.recover	= 0
id			= 1030
getpower		= 0
givepower		= 39

[State 1030:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Tobi Rariatto
[Statedef 1040]
type 			= S
movetype		= A
physics		= S
;anim			= 1040
;velset		= 0,0
ctrl			= 0
poweradd		= 52
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1040:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1040: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1040:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1040:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 1040:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1040: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1040)
value 		= 1040

[State 1040: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1040:	PosSet]
type			= PosSet
trigger1		= (!Time) && (Pos Y > 0)
y			= 0

[State 1040:	PlayerPush]
type			= PlayerPush
trigger1		= (P2Dist X <= 10)
value			= 0

[State 1040:	Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-90,-100))
trigger2		= (!Time)
trigger2		= (Var(17) := 0)
trigger3		= (NumTarget(1040))
trigger3		= (Var(17) := 1)

[State 1040:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1040)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1040:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 15

[State 1040:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 1040:	Explod]
type			= Explod
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 4, < 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1040:	Explod]
type			= Explod
trigger1		= (AnimElem = 3) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1040:	Explod]
type			= Explod
trigger1 		= (AnimElem = 3) && (Pos Y >= 0)
anim			= 9810
id			= 9810
pos			= -10,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 15
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1040:	Explod]
type			= Explod
trigger1 		= (NumTarget(1040)) && (MoveHit)
anim			= 9840
id			= 9840
pos			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1040: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 3)
time 			= 10
timegap		= 2
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 1040:	EnvColor]
type			= EnvColor
trigger1		= (NumTarget(1040)) && (MoveHit)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 1040:	Helper]
type 			= Helper
trigger1 		= (NumTarget(1040)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 1040:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3) || ((AnimElem = 4) && (!MoveContact) && (NumTarget(1040) = 0))
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Back
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((104*(24-Var(15)+2)/32) > 0, 104*(24-Var(15)+2)/32,10),104)),10
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,6
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -20,-3.7
guard.velocity	= -10
air.velocity	= -20,-3.7
airguard.velocity	= -20,-3.7
ground.cornerpush.veloff = 0
fall			= 1
fall.xvelocity	= -1
fall.yvelocity	= -5
fall.recover	= 0
down.bounce		= 1
id			= 1040
getpower		= 52
givepower		= 52
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1040:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime) && (Pos Y >= 0) && (BackEdgeBodyDist < -10) && (Var(2) > 0) && (Random <= 499)
value			= 1070

[State 1040:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Zugai Hasatsu: Attempt
[Statedef 1050]
type 			= S
movetype		= A
physics		= S
;anim			= 1050
;velset		= 0,0
ctrl			= 0
poweradd		= 91
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1050: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1050)
value 		= 1050

[State 1050: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1050:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1050: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1050:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1050:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Var(20) = 1) && (PrevStateNo != 8030)
y			= 0

[State 1050:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1050:	AttackDist]
type			= AttackDist
trigger1		= 1
value			= 0

[State 1050:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 1050: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2) && (NumTarget(1051) = 0)
attr			= S, ST
hitflag		= MAF
priority		= 1, Miss
sparkno		= -1
hitsound		= S1,25
guard.dist		= 0
snap			= 38,-50
p2facing		= 1
p1stateno		= 1051
p2stateno		= 1052
forcestand		= 1
fall			= 1
id			= 1050
getpower		= 0
givepower		= 0

[State 1050:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl 			= 1

;---------------------------------------------------------------------------
;Zugai Hasatsu: Success
[Statedef 1051]
type 			= S
movetype		= A
physics		= S
anim			= 1051
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 1051:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1051: 	Null]
type 			= Null
trigger1 		= (Var(18) = -10) || (Var(18) = 10)
trigger1		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1051:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1051:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1051:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 1, > 10) && (AnimElem = 2, < 0)
x			= (IfElse(((GameTime%2) = 0),2,-2))

[State 1051:	PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, < 0)
value			= 0

[State 1051:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value 		= SCA

[State 1051:	Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-90,-100))
trigger2		= (!Time)
trigger2		= (Var(22) := 0)

[State 1051:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1051)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1051:	VarAdd]
type			= VarAdd
triggerall 		= (AnimElem = 2, < 0) && (Power > 0)
trigger1		= (Command = "holdx") ^^ (Command = "holdy") ^^ (Command = "holdz")
var(22)		= 1

[State 1051:	PowerAdd]
type			= PowerAdd
triggerall 		= (AnimElem = 2, < 0)
trigger1		= (Command = "holdx") ^^ (Command = "holdy") ^^ (Command = "holdz")
value			= -25

[State 1051:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 3)
value			= 2

[State 1051:	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1)
time			= -1
id			= 1050
pos			= 38,-75

[State 1051:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1, = 10)
value			= S1,16

[State 1051:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 1051:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S0,25

[State 1051:	PlaySnd]
type			= PlaySnd
trigger1		= (MoveContact)
value			= S1,5
persistent		= 0
ignorehitpause	= 1

[State 1051:	PlaySnd]
type			= PlaySnd
trigger1		= (MoveContact)
value			= S1,10
persistent		= 0
ignorehitpause	= 1

[State 1051:	Pause]
type			= Pause
trigger1		= (MoveContact) && ((GameTime%3) = 0)
time			= 1
movetime		= 0

[State 1051: 	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1051)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1051:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9320
id			= 9320
pos			= Floor((P2Dist X)-(Var(6)))+20,(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1051:	Explod]
type			= Explod
trigger1		= (AnimElem = 3) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= -30,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1051:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, > 10) && (AnimElem = 2, < 0)
anim			= 9610
id			= 9610
pos			= -26,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= (1+(Var(22)/10)),(1+(Var(22)/10))
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1051:	Explod]
type			= Explod
trigger1 		= (NumTarget(1040)) && (MoveHit)
anim			= 9840
id			= 9840
pos			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1051:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, = 10) || (AnimElem = 1, = 25)
anim			= 9900
id			= 9900
pos			= -26,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.75,0.75
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1051:	Helper]
type 			= Helper
trigger1 		= (NumTarget(1051)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 1051:	TargetLifeAdd]
type			= TargetLifeAdd
trigger1 		= (NumTarget(1051)) && (MoveContact)
value			= -(Var(22)*2)
absolute		= 1
persistent		= 0
ignorehitpause	= 1

[State 1051:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= S, SA
hitflag		= MAFD
;guardflag		= M
animtype		= Back
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((164*(24-Var(15)+2)/32) > 0, 164*(24-Var(15)+2)/32,10),164))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,6
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -5.7
guard.velocity	= -6
air.velocity	= -14,-4
airguard.velocity	= -14,-4
ground.cornerpush.veloff = -3
p2stateno		= 2041
snap			= 38,-40
fall			= 1
fall.recover	= 0
id			= 1051
getpower		= 78
givepower		= 78
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -7

[State 1051:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl 			= 1

;---------------------------------------------------------------------------
;Zugai Hasatsu: Opponent
[Statedef 1052]
type 			= A
movetype		= H
physics		= N
;anim			= 1052
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 1052:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1052:	ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 1052

[State 1052:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 1
movecamera		= 0,0

[State 1052:	VelSet]
type			= VelSet
trigger1		= (Time = 50)
x			= 1

[State 1052:	VelAdd]
type			= VelAdd
trigger1		= (Time > 50)
y			= 0.25

[State 1052:	SelfState]
type			= SelfState
trigger1		= (Pos Y >= 1)
value			= 5100

[State 1052: 	SelfState]
type 			= SelfState
trigger1 		= (EnemyNear, StateNo != [1050,1051])
value 		= 5050

;---------------------------------------------------------------------------
;Mawari Ken
[Statedef 1060]
type 			= S
movetype		= A
physics		= S
;anim			= 1060
;velset		= 0,0
ctrl			= 0
poweradd		= 26
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1060:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1060: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1060:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1060:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Var(20) = 1) && (PrevStateNo != 8030)
y			= 0

[State 1060:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1060: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= 1060

[State 1060: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1060:	Null]
type			= Null
trigger1		= (AnimElem = 4)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-90,-100))
trigger2		= (PrevStateNo = 1010) || (PrevStateNo = 2010)
trigger2		= (Var(12) := 0)

[State 1060:	VarAdd]
type			= VarAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
var(12)		= 1

[State 1060:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1060)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= (IfElse(Var(12) = 3,12,10.5))

[State 1060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 5)
x			= 0

[State 1060:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (Var(12) = 3)
value			= S0,25

[State 1060:	PlaySnd]
type			= PlaySnd
trigger1		= (Var(12) = 3) && (MoveContact)
value			= S1,5
persistent		= 0
ignorehitpause	= 1

[State 1060:	PlaySnd]
type			= PlaySnd
trigger1		= (Var(12) = 3) && (MoveContact)
value			= S1,10
persistent		= 0
ignorehitpause	= 1

[State 1060:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 1060:	Pause]
type			= Pause
trigger1		= (Var(12) = 3) && (MoveContact) && ((GameTime%3) = 0)
time			= 1
movetime		= 0

[State 1060:	Explod]
type			= Explod
trigger1		= (Var(12) = 3) && (MoveContact)
anim			= 9310
id			= 9310
pos			= Floor((P2Dist X)-(Var(6)))+20,(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1060:	Explod]
type			= Explod
trigger1		= (Var(12) = 3) && (AnimElem = 2) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= -30,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1060:	Explod]
type			= Explod
trigger1		= ((AnimElem = 2) || (AnimElem = 3)) && (Var(12) = 3)
anim			= 9610
id			= 9610
pos			= (IfElse((AnimElem = 2),-26,38)),(IfElse((AnimElem = 2),-65,-89))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 8
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1060:	Explod]
type			= Explod
trigger1 		= (NumTarget(1060)) && (MoveHit) && (Var(12) = 3)
anim			= 9840
id			= 9840
pos			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1060:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Var(12) = 3)
anim			= 9900
id			= 9900
pos			= -26,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1060:	Helper]
type 			= Helper
trigger1 		= (NumTarget(1060)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 1060:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4)
attr			= S, SA
hitflag		= MAFD
guardflag		= H
animtype		= Back
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,10),52)),10
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,6
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.45
ground.velocity	= (IfElse(Var(12) = 3,-8,-6)),(IfElse(Var(12) = 3,-5.7,0))
guard.velocity	= -8
air.velocity	= (IfElse(Var(12) = 3,-8,-3.5)),(IfElse(Var(12) = 3,-5.7,-4.7))
airguard.velocity	= (IfElse(Var(12) = 3,-8,-3.5)),(IfElse(Var(12) = 3,-5.7,-4.7))
ground.cornerpush.veloff = -3
fall			= (IfElse(Var(12) = 3,1,0))
id			= 1060
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= (IfElse(Var(12) = 3,-5,-3))

[State 1060:	ChangeState]
type			= ChangeState
trigger1 		= (Command = "Mawari Ken") && (AnimElem = 4, > 0) && (AnimElem = 6, < 5) && (Var(12) < 3) && (Var(2) <= 0)
trigger2 		= (NumTarget(1060)) && (AnimElem = 4, > 0) && (AnimElem = 6, < 5) && (Var(12) < 3) && (Var(2) > 0)
value			= 1060

[State 1060:	ChangeState]
type			= ChangeState
trigger1 		= (AnimElem = 4, > 0) && (AnimElem = 6, < 5) && (MoveContact) && (!MoveHit) && (Var(2) > 0)
value			= (IfElse(Var(12) = 3,8010,710))

[State 1060:	ChangeState]
type			= ChangeState
trigger1		= (Time > (35 + (Var(12)*6)))
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Attouteki Gekiha: Jump
[Statedef 1070]
type 			= A
movetype		= I
physics		= N
anim			= 1070
velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 0
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1070: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (AnimElem = 3, > 0) && (Vel Y > -2)
value 		= 44
persistent 		= 0

[State 1070:	NotHitBy]
type			= NotHitBy
trigger1		= (Time <= 20)
value			= SCA

[State 1070:	NotHitBy]
type			= NotHitBy
trigger1		= (Time > 20)
value			= , NP,SP,HP

[State 1070:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1070: 	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= (P2Dist X/22) - (EnemyNear, Vel X/2)
y			= -7.5 + (EnemyNear, Pos Y/20)

[State 1070:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 0) || (Anim = 44)
y			= 0.60

[State 1070:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 1070:	EnvShake]
type			= EnvShake
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
time			= 20
freq			= 120
ampl			= -6
phase			= 120
persistent		= 0

[State 1070: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 3)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

[State 1070:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0) && (P2Dist X < 60)
value			= 1071

[State 1070:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Attouteki Gekiha: Attempt
[Statedef 1071]
type 			= A
movetype		= A
physics		= N
;anim			= 1071
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1071:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 8030)
value			= 1071

[State 1071:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (PrevStateNo = 8030) && (Pos Y < 0)
value			= 1071
elem			= 2
persistent		= 0

[State 1071:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (Pos Y >= 0)
trigger2		= (!Time) && (PrevStateNo = 8030) && (Pos Y >= 0) && (AnimElem = 4, < 0)
value			= 1071
elem			= 3
persistent		= 0

[State 1071: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1071:	NotHitBy]
type			= NotHitBy
trigger1		= (Time < 20)
value			= SCA

[State 1071:	Width]
type			= Width
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 4, < 0)
edge			= 20,0
player		= 20,0

[State 1071:	PosSet]
type			= PosSet
trigger1		= (AnimElem = 3)
y			= 0

[State 1071:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0
y			= 0

[State 1071:	VelSet]
type			= VelSet
trigger1		= (P2Dist X < 50) && (Vel X > 1)
x			= 5
persistent		= 0

[State 1071:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0) && (Vel X > 1)
x			= -0.5

[State 1071:	VelAdd]
type			= VelAdd
trigger1		= (P2Dist X < 50) && (Vel X > 1)
x			= -0.5

[State 1071:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
y			= 0.60

[State 1071:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S1,32

[State 1071:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,15

[State 1071:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 3)
time			= 20
freq			= 120
ampl			= -6
phase			= 120
persistent		= 0

[State 1071:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 50,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0

[State 1071:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 10,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0

[State 1071: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (EnemyNear, Pos Y <= -50)
attr			= A, ST
hitflag		= MAF
priority		= 7, Miss
sparkno		= -1
hitsound		= S1,25
guard.dist		= 0
snap			= 40,-50
p2facing		= 1
p1stateno		= 1103
p2stateno		= 1104
forcestand		= 1
fall			= 1
id			= 1102
getpower		= 0
givepower		= 0

[State 1071: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0) && (EnemyNear, Pos Y > -50)
attr			= A, SA
hitflag		= MAFDP
guardflag		= H
animtype		= Hard
air.animtype	= Back
priority		= 7, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,10),78)),10
pausetime		= 14,20
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= -20,-25
hitsound		= S2,6
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -7,-5
guard.velocity	= -7
air.velocity	= -7,-5
airguard.velocity	= -7,-5
ground.cornerpush.veloff = -7
fall 			= 1
fall.recover	= 1
id			= 1071
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1071:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Naraku Otoshi
[Statedef 1080]
type 			= S
movetype		= A
physics		= S
;anim			= 1080
;velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1080: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1080)
value 		= 1080

[State 1080: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1080: 	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 3)
statetype		= A
physics		= N

[State 1080: 	Null]
type			= Null
trigger1		= (AnimElem = 4)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-5,-20))

[State 1080: 	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1080)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1080:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 9
y			= -6.5

[State 1080:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 0)
y			= 0.45

[State 1080: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 1080: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S1,32

[State 1080: 	AfterImage]
type 			= AfterImage
trigger1		= (AnimElem = 3)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

[State 1080:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9410
id			= 9410
pos			= -20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 1080: 	Helper]
type 			= Helper
trigger1 		= (NumTarget(1080)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 1080: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 5)
attr			= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -6,-5
guard.velocity	= -6
air.velocity	= -6,-6
airguard.velocity	= -6,-6
ground.cornerpush.veloff = -3
fall 			= 1
fall.recover	= 1
id			= 1080
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1080:	ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 5, > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Satsubatsu Yakushin
[Statedef 1090]
type 			= S
movetype		= A
physics		= N
;anim			= 1090
velset		= 0,0
ctrl			= 0
poweradd		= 91
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1090:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 1090: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1090:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 1090:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Var(20) = 1) && (PrevStateNo != 8030)
y			= 0

[State 1090:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 1090: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1090)
value 		= 1090

[State 1090: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1090:	Null]
type			= Null
trigger1		= (AnimElem = 6)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-40,-10))
trigger2		= (AnimElem = 2) || (AnimElem = 8)
trigger2		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-50,-55))
trigger3		= (AnimElem = 4) || (AnimElem = 10)
trigger3		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-75,-100))

[State 1090:	VarAdd]
type			= VarAdd
trigger1 		= (NumTarget(1090)) && (HitPauseTime = 1) && (!MoveGuarded)
var(15)		= 1
ignorehitpause	= 1

[State 1090:	PosAdd]
type 			= PosAdd
trigger1 		= (AnimElem = 3) || (AnimElem = 5) || (AnimElem = 7) || (AnimElem = 9)
x 			= 7
ignorehitpause 	= 1

[State 1090:	PosAdd]
type 			= PosAdd
trigger1 		= (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6) || (AnimElem = 8) || (AnimElem = 10)
x 			= 10
ignorehitpause 	= 1

[State 1090:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded)
value			= S0,25
channel		= 0
persistent		= 0
ignorehitpause	= 1

[State 1090:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6) || (AnimElem = 8) || (AnimElem = 10)
value			= S1,32
ignorehitpause 	= 1

[State 1090:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 1090:	Explod]
type			= Explod
trigger1		= (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 30,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1090:	Helper]
type 			= Helper
trigger1 		= (NumTarget(1090)) && (HitPauseTime = 1)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
ignorehitpause	= 1

[State 1090:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26)),5
pausetime		= 5,12
guard.pausetime	= 5,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -2.5
guard.velocity	= -2.5
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 1090
getpower		= 13
givepower		= 13
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -2

[State 1090: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2) || (AnimElem = 8)
attr			= S, SA
hitflag		= MAFD
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26)),5
pausetime		= 5,12
guard.pausetime	= 5,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -2.5
guard.velocity	= -2.5
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -7.5
id			= 1090
getpower		= 13
givepower		= 13
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 1090:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4) || (AnimElem = 10)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52)),5
pausetime		= 5,12
guard.pausetime	= 5,12
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,(IfElse((AnimElem = 4),5,6))
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= (IfElse((AnimElem = 4),-2,-7)),(IfElse((AnimElem = 4),0,-5.7))
guard.velocity	= (IfElse((AnimElem = 4),-2,-7))
air.velocity	= (IfElse((AnimElem = 4),-2,-1)),-6
airguard.velocity	= (IfElse((AnimElem = 4),-2,-1)),-6
ground.cornerpush.veloff = -14
fall			= (IfElse((AnimElem = 4),0,1))
id			= 1090
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 1090: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Jigoku Wari: Attempt
[Statedef 1100]
type 			= S
movetype		= A
physics		= S
;anim			= 1100
velset		= 0,0
ctrl			= 0
poweradd		= 39
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1100: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 1100)
value 		= 1100

[State 1100: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 1100:	Null]
type			= Null
trigger1		= (AnimElem = 2)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-75,-100))

[State 1100: 	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(1100)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 1100: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 1100: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030) && (PrevStateNo != 1090)
value			= S0,0
channel		= 0

[State 1110:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9410
id			= 9410
pos			= 30,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1100: 	Helper]
type 			= Helper
trigger1 		= (NumTarget(1100)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 1100: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Up
air.animtype	= Up
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,10),78)),10
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Trip
air.type		= High
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -2,-13.7
guard.velocity	= -7
air.velocity	= -2,-13.7
airguard.velocity	= -6,-5.7
ground.cornerpush.veloff = -14
snap			= 15,0
p1stateno		= 1101
fall			= 1
fall.recover	= 0
id			= 1100
kill			= 0
getpower		= 39
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1100:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Jigoku Wari: Jump
[Statedef 1101]
type 			= A
movetype		= I
physics		= N
anim			= 1101
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1101: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (AnimElem = 3, > 0) && (Vel Y > -2)
value 		= 44
persistent 		= 0

[State 1101:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1101:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 3
y			= -14.5

[State 1101:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 0) || (Anim = 44)
y			= 0.40

[State 1101: 	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 3) && (Random <= 499)
value 		= S0,14
channel		= 0

[State 1101:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 1101: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 3)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

[State 1101:	ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 3, > 8)
value			= 1102

[State 1101:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Jigoku Wari: Grab Attempt
[Statedef 1102]
type 			= A
movetype		= A
physics		= N
anim			= 1102
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1102:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (Pos Y >= 0)
value			= 1102
elem			= 3
persistent		= 0

[State 1102:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1102:	PosSet]
type			= PosSet
trigger1		= (AnimElem = 3)
y			= 0

[State 1102:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0
y			= 0

[State 1102:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
y			= 0.40

[State 1102:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,32

[State 1102:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,15

[State 1102: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, > 0)
attr			= A, ST
hitflag		= MAF
priority		= 1, Miss
sparkno		= -1
hitsound		= -1
guard.dist		= 0
snap			= 40,-50
p2facing		= 1
p1stateno		= 1103
p2stateno		= 1104
forcestand		= 1
fall			= 1
id			= 1102
getpower		= 0
givepower		= 0

[State 1102:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Jigoku Wari: Success
[Statedef 1103]
type 			= A
movetype		= A
physics		= N
anim			= 1103
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1103:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0) && (Pos Y >= 0)
value			= 1103
elem			= 2
persistent		= 0

[State 1103:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1103:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1103:	PosSet]
type			= PosSet
trigger1		= (AnimElem = 2)
y			= 0

[State 1103:	VelSet]
type			= VelSet
trigger1		= (FrontEdgeBodyDist < 50)
x			= 0

[State 1103:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 0
y			= 0

[State 1103:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 1, < 25)
y			= 0.45

[State 1103:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 1, > 25) && (AnimElem = 2, < 0)
y			= 1

[State 1103:	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0)
time			= 1
id			= 1102
pos			= 40,-50

[State 1103:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 0)
value			= S1,0
persistent		= 0

[State 1103:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 0)
value			= S1,5
persistent		= 0

[State 1103:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,25

[State 1103:	EnvShake]
type			= EnvShake
trigger1		= (Pos Y >= 0)
time			= 40
freq			= 120
ampl			= -6
phase			= 120
persistent		= 0

[State 1103: 	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 20) && ((GameTime%2) = 0)
value			= 255,255,255
time			= 1

[State 1103:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9310
id			= 9310
pos			= 30,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1103:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 50,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0

[State 1103:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 10,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0

[State 1103:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9920
id			= 9920
pos			= 30,5
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 5,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.5,1
sprpriority		= -8
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0

[State 1103:	TargetState]
type			= TargetState
trigger1		= (Pos Y >= 0)
value			= 1105
persistent		= 0

[State 1103:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Jigoku Wari: Opponent
[Statedef 1104]
type 			= A
movetype		= H
physics		= N
;anim			= 1104
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 1104:	ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 1104

[State 1104:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1104:	SelfState]
type 			= SelfState
trigger1 		= (!GetHitVar(IsBound)) && (P2StateNo != 1103)
value 		= 5050

;---------------------------------------------------------------------------
;Jigoku Wari: Opponent
[Statedef 1105]
type 			= A
movetype		= H
physics		= N
;anim			= 1105
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 1105:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 1105:	NotHitBy]
type			= NotHitBy
trigger1 		= 1
time			= 1
value			= SCA

[State 1105:	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 1000

[State 1105:	PosSet]
type 			= PosSet
trigger1 		= (Time = 60)
y 			= 0

[State 1105:	VelSet]
type 			= VelSet
trigger1 		= (Time = 60)
x			= -1
y 			= -8

[State 1105:	LifeAdd]
type			= LifeAdd
trigger1		= (!Time)
value			= -100
absolute		= 1

[State 1105: 	ChangeState]
type 			= ChangeState
trigger1 		= (Alive) && (Time > 60)
value 		= 1106
ctrl 			= 0

[State 1105: 	SelfState]
type 			= SelfState
trigger1 		= (!Alive)
value 		= 5150

;---------------------------------------------------------------------------
;Jigoku Wari: Opponent (Jump Up)
[Statedef 1106]
type 			= A
movetype		= I
physics		= N
;anim			= 50
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 1106: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= IfElse((Vel X) = 0,41,IfElse((Vel X) > 0,42,43))

[State 1106: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (SelfAnimExist(Anim + 3))
value 		= (Anim + 3)
persistent 		= 0

[State 1106:	NotHitBy]
type			= NotHitBy
trigger1 		= 1
time			= 1
value			= SCA

[State 1106: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 1106:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= 0.40

[State 1106:	SelfState]
type			= SelfState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Kikou Ha (EX)
[Statedef 2000]
type 			= S
movetype		= A
physics		= S
;anim			= 2000
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2000)
value 		= 2000

[State 2000: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2000:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= 2000
elem			= (IfElse(PrevStateNo = 1000,2,1))

[State 2000:	VarSet]
type			= VarSet
trigger1		= (!Time) && (PrevStateNo = 1010) && (PrevStateNo != 8030)
var(12)		= 0

[State 2000:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
var(12)		= 1

[State 2000: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= (IfElse(PrevStateNo = 2000,-100,-600))

[State 2000: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S0,0
channel		= 0

[State 2000:	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 3)
value 		= S1,11

[State 2000: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,30

[State 2000: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3) && (PrevStateNo != 2000)
value 		= S1,34

[State 2000:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 2000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 4) || (AnimElem = 3, = 6) || (AnimElem = 3, = 8) || (AnimElem = 3, = 10)
trigger2		= (AnimElem = 3, = 12) || (AnimElem = 3, = 14) || (AnimElem = 3, = 16) || (AnimElem = 3, = 18) || (AnimElem = 3, = 20)
x			= 0.85

[State 2000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 5) || (AnimElem = 3, = 7) || (AnimElem = 3, = 9) || (AnimElem = 3, = 11)
trigger2		= (AnimElem = 3, = 13) || (AnimElem = 3, = 15) || (AnimElem = 3, = 17) || (AnimElem = 3, = 19)
x			= -0.85

[State 2000:	PalFX]
type			= PalFX
trigger1		= (!Time) && (PrevStateNo != 2000)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9900
id			= 9900
pos			= 44,-88
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2000:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9910
id			= 9910
pos			= 44,-88
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2000:	Helper]
type			= Helper
trigger1		= (AnimElem = 3)
helpertype		= Normal
name			= "Kikou Ha"
id			= 9601
pos			= 44,-88
postype		= p1
facing		= 1
stateno		= 9601
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 2000:	ChangeState]
type			= ChangeState
triggerall		= ((Command = "x") || (Command = "y") || (Command = "z")) && (Var(2) <= 0)
trigger1		= (AnimElem = 3, > 5) && (AnimElem = 4, < 0) && (Var(12) < 3) && (Power > 0)
value			= 2000

[State 2000:	ChangeState]
type			= ChangeState
triggerall		= (Var(2) > 0)
trigger1		= (AnimElem = 3, > 5) && (AnimElem = 4, < 0) && (Var(12) < 3) && (Power > 0)
value			= 2000

[State 2000:	ChangeState]
type			= ChangeState
trigger1		= (Time > (40 + (Var(12)*6)))
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Bakuenha (EX)
[Statedef 2010]
type 			= S
movetype		= A
physics		= S
;anim			= 2010
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2010)
value 		= 2010

[State 2010: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2010:	Width]
type			= Width
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 4, < 0)
value			= 50,0

[State 2010:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
var(12)		= 1

[State 2010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,(IfElse(PrevStateNo = 2010,25,0))

[State 2010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 2010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,34

[State 2010: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
value			= (IfElse(PrevStateNo = 2010,-300,-800))

[State 2010:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2010:	Explod]
type			= Explod
trigger1		= (!Time) && (PrevStateNo != 8030)
anim			= 9900
id			= 9900
pos			= -35,-80
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2010:	Explod]
type			= Explod
trigger1		= (!Time) && (PrevStateNo != 8030)
anim			= 9610
id			= 9610
pos			= -35,-80
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 3
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 2010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9610
id			= 9610
pos			= 50,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 2010:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3, = 0)
helpertype		= Normal
name			= "Bakuenha"
id			= 9631
pos			= 125
postype		= p1
facing		= 1
stateno		= 9631
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.75
size.yscale		= 0.75

[State 2010:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3, = 10)
helpertype		= Normal
name			= "Bakuenha"
id			= 9631
pos			= 160
postype		= p1
facing		= 1
stateno		= 9631
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.75
size.yscale		= 0.75

[State 2010:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3, = 20)
helpertype		= Normal
name			= "Bakuenha"
id			= 9631
pos			= 200
postype		= p1
facing		= 1
stateno		= 9631
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.75
size.yscale		= 0.75

[State 2010:	ChangeState]
type			= ChangeState
trigger1		= (Var(15) > 0) && (AnimElem = 3, > 5) && (Var(2) > 0) && (Random <= 599)
value			= 1070

[State 2010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Tosshin Toubu Dageki (EX): Attempt
[Statedef 2020]
type 			= S
movetype		= A
physics		= N
;anim			= 2020
;velset		= 0,0
ctrl			= 0
poweradd		= (IfElse((PrevStateNo = 8030),0,-500))
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2020: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2020)
value 		= 2020

[State 2020: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2020)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 2020:	NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 2, < 0)
value			= SCA

[State 2020:	PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value			= 0

[State 2020:	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 2, > 5)
physics		= S

[State 2020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 18

[State 2020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,21

[State 2020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,34

[State 2020:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2020:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2020:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2020:	Explod]
type			= Explod
trigger1 		= (AnimElem = 2)
anim			= 9810
id			= 9810
pos			= -10,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 2020: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 15
timegap		= 2
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 2020:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(100)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 2020:	Helper]
type 			= Helper
trigger1 		= (NumTarget(2020)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(10)),-90
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 2020: 	Helper]
type 			= Helper
trigger1 		= (P2Dist X < 100) && (AnimElem = 3, < 0)
helpertype 		= Normal
name 			= "Ki Shouheki"
id 			= 9930
pos 			= 0,0
postype 		= p1
stateno 		= 9930
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 2020:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, > 0)
attr			= S, SA
hitflag		= MAFD
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((117*(24-Var(15)+2)/32) > 0, 117*(24-Var(15)+2)/32,10),117)),10
pausetime		= 0,14
guard.pausetime	= 0,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= 10,-90
hitsound		= S2,6
guardsound		= S2,7
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -14,-6
guard.velocity	= -14
air.velocity	= -14,-5
airguard.velocity	= -14,-5
ground.cornerpush.veloff = 0
fall			= 1
fall.xvelocity	= -1
fall.yvelocity	= -5
fall.recover	= 0
down.bounce		= 1
id			= 2020
getpower		= 0
givepower		= 59
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 2020:	ChangeState]
type			= ChangeState
trigger1		= (MoveContact)
value			= 2021
ignorehitpause	= 1

[State 2020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Tosshin Toubu Dageki (EX): Success
[Statedef 2021]
type 			= S
movetype		= A
physics		= S
;anim			= 2021
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2021: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2021)
value 		= 2021

[State 2021: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2021:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 2021:	PosAdd]
type			= PosAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
x			= 10
ignorehitpause	= 1

[State 2021:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x			= 10

[State 2021:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 2021:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 9810

[State 2021:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Geki Kaze (EX)
[Statedef 2030]
type 			= S
movetype		= A
physics		= S
;anim			= 2030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2030: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2030)
value 		= 2030

[State 2030: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2030:	Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(17) := 0)
trigger2		= (NumTarget(2030))
trigger2		= (Var(17) := 1)

[State 2030:	VarAdd]
type			= VarAdd
trigger1		= (ProjHit(2030) = 1)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 2030: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= (IfElse(PrevStateNo = 2030,-200,-700))

[State 2030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S0,0
channel		= 0

[State 2030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,11

[State 2030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,30

[State 2030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,34

[State 2030:	VelSet]
type			= VelSet
trigger1		= (!Time) && (PrevStateNo != 2030)
y			= 0

[State 2030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 4) || (AnimElem = 3, = 6) || (AnimElem = 3, = 8) || (AnimElem = 3, = 10)
trigger2		= (AnimElem = 3, = 12) || (AnimElem = 3, = 14) || (AnimElem = 3, = 16) || (AnimElem = 3, = 18) || (AnimElem = 3, = 20)
x			= 0.95

[State 2030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 5) || (AnimElem = 3, = 7) || (AnimElem = 3, = 9) || (AnimElem = 3, = 11)
trigger2		= (AnimElem = 3, = 13) || (AnimElem = 3, = 15) || (AnimElem = 3, = 17) || (AnimElem = 3, = 19)
x			= -0.95

[State 2030:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2030:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 3)
time			= 25
freq			= 120
ampl			= -7
phase			= 120

[State 2030:	EnvColor]
type			= EnvColor
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 20) && ((GameTime%2) = 0)
value			= 255,255,255
time			= 1
ignorehitpause	= 1

[State 2030:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9910
id			= 9910
pos			= 44,-88
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,3
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2030:	Projectile]
type			= Projectile
trigger1		= (AnimElem = 3)
projid		= 9640
projanim		= 9640
projhitanim		= -1
projremanim		= -1
projcancelanim	= -1
projscale		= 1,2
projremove		= 1
projremovetime	= 200
velocity		= 30,0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1000
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 44,-88
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((117*(24-Var(15)+2)/32) > 0, 117*(24-Var(15)+2)/32,10),117)),10
pausetime		= 14,14
sparkno		= S9320
guard.sparkno	= S9870
sparkxy		= 20,0
hitsound		= S1,5
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
ground.velocity	= -12.5,-4
guard.velocity	= -12.5
air.velocity	= -12.5,-4
airguard.velocity	= -12.5,-4
ground.cornerpush.veloff = 0
air.juggle		= 1
fall			= 1
fall.recover	= 0
id			= 2030
getpower		= 0
givepower		= 59

[State 2030:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime) && (Pos Y >= 0) && (BackEdgeBodyDist < -10) && (Var(2) > 0) && (Random <= 499)
value			= 1070

[State 2030:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Tobi Rariatto (EX)
[Statedef 2040]
type 			= S
movetype		= A
physics		= S
;anim			= 2040
;velset		= 0,0
ctrl			= 0
poweradd		= (IfElse((PrevStateNo = 8030),0,-500))
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2040: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2040)
value 		= 2040

[State 2040: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2040:	Null]
type			= Null
trigger1		= (AnimElem = 3)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-90,-100))
trigger2		= (!Time)
trigger2		= (Var(17) := 0)
trigger3		= (NumTarget(2040))
trigger3		= (Var(17) := 1)

[State 2040:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2040)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 2040:	Pause]
type			= Pause
triggerall		= (NumTarget(2040)) && ((GameTime%3) = 0)
trigger1		= (Target, StateNo = [2043,2044])
time			= 1
movetime		= 1

[State 2040:	PosSet]
type			= PosSet
trigger1		= (Pos Y > 0)
y			= 0

[State 2040:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 18

[State 2040: 	PlaySnd]
type			= PlaySnd
triggerall 		= (NumTarget(2040))
trigger1		= (Target, StateNo = 2043)
value			= S1,23
persistent		= 0
ignorehitpause	= 1

[State 2040:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 2040:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,34

[State 2040:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2040:	Explod]
type			= Explod
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 4, < 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2040:	Explod]
type			= Explod
trigger1		= (AnimElem = 3) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2040:	Explod]
type			= Explod
trigger1 		= (AnimElem = 3)
anim			= 9810
id			= 9810
pos			= -10,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 15
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 2040:	Explod]
type			= Explod
trigger1 		= (NumTarget(2040)) && (MoveHit)
anim			= 9840
id			= 9840
pos			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 2040: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 3)
time 			= 10
timegap		= 2
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 2040:	EnvColor]
type			= EnvColor
trigger1		= (NumTarget(2040)) && (MoveHit)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 2040:	Helper]
type 			= Helper
trigger1 		= (NumTarget(2040)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 2040:	HitDef]
type			= HitDef
trigger1		= ((AnimElem = 3) || (AnimElem = 4)) && (!MoveContact) && (P2StateNo != [2041,2044])
attr			= S, SA
hitflag		= MAFD
guardflag		= M
animtype		= Back
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((156*(24-Var(15)+2)/32) > 0, 156*(24-Var(15)+2)/32,10),156)),10
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,6
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -20,-7
guard.velocity	= -10
air.velocity	= -20,-7
airguard.velocity	= -20,-7
ground.cornerpush.veloff = 0
p2stateno		= 2041
id			= 2040
getpower		= 0
givepower		= 78
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 2040:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime) && (BackEdgeBodyDist < -10) && (Var(2) > 0)
value			= 1070

[State 2040:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Tobi Rariatto (EX) - Opponent
[Statedef 2041]
type 			= A
movetype		= H
physics		= N
;anim			= 2041
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 2041: 	ChangeAnim2]
type 			= ChangeAnim2
trigger1 		= 1
value 		= 2041

[State 2041: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= 2042

;---------------------------------------------------------------------------
;Tobi Rariatto (EX) - Opponent
[Statedef 2042]
type 			= A
movetype		= H
physics		= N
;anim			= 2042
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 2042: 	ScreenBound]
type 			= ScreenBound
trigger1 		= (Pos Y < -15) && ((BackEdgeBodyDist < 65) || (FrontEdgeBodyDist < 65))
value 		= 1
movecamera 		= 0,1

[State 2042: 	HitFallSet]
type 			= HitFallSet
trigger1 		= (!Time)
value			= 1

[State 2042: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 2042: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= 0.45

[State 2042: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 2042: 	ChangeState]
type 			= ChangeState
trigger1 		= (Pos Y < -15) && ((BackEdgeBodyDist <= 20) || (FrontEdgeBodyDist <= 20))
value 		= 2043

[State 2042: 	SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= 0)
value 		= 5100

;---------------------------------------------------------------------------
;Tobi Rariatto (EX) - Opponent
[Statedef 2043]
type 			= A
movetype		= H
physics		= N
;anim			= 2043
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 2043: 	ChangeAnim2]
type 			= ChangeAnim2
trigger1 		= (!Time)
value 		= 2043

[State 2043: 	ScreenBound]
type 			= ScreenBound
trigger1 		= 1
value 		= 1
movecamera 		= 0,1

[State 2043: 	Turn]
type 			= Turn
trigger1 		= (!Time) && (FrontEdgeBodyDist <= 30)

[State 2043: 	PosAdd]
type 			= PosAdd
trigger1 		= (!Time)
x 			= (15 - BackEdgeBodyDist)

[State 2043: 	PosFreeze]
type 			= PosFreeze
trigger1 		= 1
x 			= 1
y 			= 1

[State 2043: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time)
value 		= F7,0

[State 2043:	EnvShake]
type			= EnvShake
trigger1		= (!Time)
time			= 15
freq			= 140
ampl			= -4
phase			= 120

[State 2043:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= F72
id			= 72
pos 			= 0, (Floor(ScreenPos Y)-50)
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2043: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 2044

;---------------------------------------------------------------------------
;Tobi Rariatto (EX) - Opponent
[Statedef 2044]
type 			= A
movetype		= H
physics		= N
;anim			= 2044
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 2044: 	Turn]
type 			= Turn
trigger1 		= (!Time) && (BackEdgeDist < 30)

[State 2044: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= -1.6
y 			= -6

[State 2044: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= 0.35

[State 2044: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (SelfAnimExist(5052))
value 		= 5052

[State 2044: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (!SelfAnimExist(5052))
value 		= 5050

[State 2044: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (Anim = 5050) && (SelfAnimExist(5060))
value 		= 5060
persistent 		= 0

[State 2044: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (Anim = 5052) && (SelfAnimExist(5062))
value 		= 5062
persistent 		= 0

[State 2044: 	SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= 0)
value 		= 5100

;---------------------------------------------------------------------------
;Mawari Ken (EX)
[Statedef 2060]
type 			= S
movetype		= A
physics		= S
;anim			= 2060
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2060: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (PrevStateNo != 8030)
value 		= 2060

[State 2060: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2060:	Null]
type			= Null
trigger1		= (AnimElem = 4)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-90,-100))
trigger2		= (PrevStateNo = 1010) || (PrevStateNo = 2010)
trigger2		= (Var(12) := 0)

[State 2060:	VarAdd]
type			= VarAdd
trigger1 		= (!Time) && (PrevStateNo != 8030)
var(12)		= 1

[State 2060:	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2060)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 2060:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time) && (PrevStateNo != 2060) && (PrevStateNo != 8030)
value			= -500

[State 2060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= (IfElse(Var(12) = 5,14,12))

[State 2060:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 5)
x			= 0

[State 2060:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (Var(12) = 5)
value			= S0,25

[State 2060:	PlaySnd]
type			= PlaySnd
trigger1		= (Var(12) = 5) && (MoveContact)
value			= S1,5
persistent		= 0
ignorehitpause	= 1

[State 2060:	PlaySnd]
type			= PlaySnd
trigger1		= (Var(12) = 5) && (MoveContact)
value			= S1,10
persistent		= 0
ignorehitpause	= 1

[State 2060:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,32

[State 2060:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (Var(12) = 1)
value			= S1,34

[State 2060:	Pause]
type			= Pause
trigger1		= (Var(12) = 5) && (MoveContact) && ((GameTime%3) = 0)
time			= 1
movetime		= 0

[State 2060:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2060:	Explod]
type			= Explod
trigger1		= (Var(12) = 5) && (MoveContact)
anim			= 9310
id			= 9310
pos			= Floor((P2Dist X)-(Var(6)))+20,(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 2060:	Explod]
type			= Explod
trigger1		= (Var(12) = 5) && (AnimElem = 2)
anim			= 9410
id			= 9410
pos			= -30,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 2060:	Explod]
type			= Explod
trigger1		= ((AnimElem = 2) || (AnimElem = 3)) && (Var(12) = 5)
anim			= 9610
id			= 9610
pos			= (IfElse((AnimElem = 2),-26,38)),(IfElse((AnimElem = 2),-65,-89))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 4
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 2060:	Explod]
type			= Explod
trigger1 		= (NumTarget(2060)) && (MoveHit) && (Var(12) = 5)
anim			= 9840
id			= 9840
pos			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 2060:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Var(12) = 5)
anim			= 9900
id			= 9900
pos			= -26,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 4
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2060:	Helper]
type 			= Helper
trigger1 		= (NumTarget(2060)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 2060:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4)
attr			= S, SA
hitflag		= MAFD
guardflag		= H
animtype		= Back
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,10),52)),10
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,6
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.45
ground.velocity	= (IfElse(Var(12) = 5,-14,-10)),(IfElse(Var(12) = 5,-6.7,0))
guard.velocity	= -8
air.velocity	= (IfElse(Var(12) = 5,-14,-3.5)),(IfElse(Var(12) = 5,-5.7,-4.7))
airguard.velocity	= (IfElse(Var(12) = 5,-14,-3.5)),(IfElse(Var(12) = 5,-5.7,-4.7))
ground.cornerpush.veloff = -3
fall			= (IfElse(Var(12) = 5,1,0))
id			= 2060
getpower		= 0
givepower		= 39
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= (IfElse(Var(12) = 5,-5,-3))

[State 2060:	ChangeState]
type			= ChangeState
trigger1 		= ((Command = "Mawari Ken") || (Command = "Mawari Ken EX")) && (AnimElem = 4, > 0) && (AnimElem = 6, < 5) && (Var(12) < 5) && (Var(2) <= 0)
trigger2 		= (NumTarget(2060)) && (AnimElem = 4, > 0) && (AnimElem = 6, < 5) && (Var(12) < 5) && (Var(2) > 0)
value			= 2060

[State 2060:	ChangeState]
type			= ChangeState
trigger1		= (Time > (35 + (Var(12)*3)))
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Attouteki Gekiha (EX): Jump
[Statedef 2070]
type 			= A
movetype		= I
physics		= N
anim			= 2070
velset		= 0,0
ctrl			= 0
poweradd		= (IfElse((PrevStateNo = 8030),0,-500))
juggle		= 0
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2070: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (AnimElem = 3, > 0) && (Vel Y > -2)
value 		= 44
persistent 		= 0

[State 2070:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 2070:	NotHitBy]
type			= NotHitBy
trigger1		= (Time > 20)
value			= , NP,SP,HP

[State 2070: 	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= (P2Dist X/19) - (EnemyNear, Vel X/2)
y			= -6

[State 2070:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 0) || (Anim = 44)
y			= 0.60

[State 2070:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 2070:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,34

[State 2070:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2070:	EnvShake]
type			= EnvShake
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
time			= 20
freq			= 120
ampl			= -6
phase			= 120
persistent		= 0

[State 2070: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 3)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

[State 2070:	ChangeState]
type			= ChangeState
trigger1		= ((Pos Y < 0) && (P2Dist X < 50)) || ((Vel Y > 0) && (Pos Y > -15))
value			= 2071

[State 2070:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Attouteki Gekiha (EX): Attempt
[Statedef 2071]
type 			= A
movetype		= A
physics		= N
;anim			= 2071
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2071:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 8030)
value			= 2071

[State 2071:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (PrevStateNo = 8030) && (Pos Y < 0)
value			= 2071
elem			= 2
persistent		= 0

[State 2071:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (Pos Y >= 0)
trigger2		= (!Time) && (PrevStateNo = 8030) && (Pos Y >= 0) && (AnimElem = 4, < 0)
value			= 2071
elem			= 3
persistent		= 0

[State 2071: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2071:	PosSet]
type			= PosSet
trigger1		= (AnimElem = 3)
y			= 0

[State 2071:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0
y			= 0

[State 2071:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0) && (Vel X > 1)
x			= -0.5

[State 2071:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
y			= 0.60

[State 2071:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,32

[State 2071:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,15

[State 2071:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 3)
time			= 20
freq			= 120
ampl			= -6
phase			= 120
persistent		= 0

[State 2071:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 50,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0

[State 2071:	Explod]
type			= Explod
trigger1		= (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 10,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0

[State 2071:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3)
helpertype		= Normal
name			= "Bakuenha"
id			= 9630
pos			= 75,0
postype		= p1
facing		= 1
stateno		= 9630
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.75
size.yscale		= 0.75

[State 2071: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0)
attr			= A, SA
hitflag		= MAFDP
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,10),78)),10
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= -20,-25
hitsound		= S2,6
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -7,-5
guard.velocity	= -7
air.velocity	= -7,-5
airguard.velocity	= -7,-5
ground.cornerpush.veloff = -7
fall 			= 1
fall.recover	= 1
id			= 2071
getpower		= 0
givepower		= 39
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 2071:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Naraku Otoshi (EX)
[Statedef 2080]
type 			= S
movetype		= A
physics		= S
;anim			= 2080
;velset		= 0,0
ctrl			= 0
poweradd		= (IfElse((PrevStateNo = 8030),0,-500))
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2080: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2080)
value 		= 2080

[State 2080: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2080: 	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 3)
statetype		= A
physics		= N

[State 2080: 	Null]
type			= Null
trigger1		= (AnimElem = 4)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-5,-20))

[State 2080: 	VarAdd]
type			= VarAdd
trigger1		= (NumTarget(2080)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 2080:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 12
y			= -5.5

[State 2080:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 3, > 0)
y			= 0.45

[State 2080: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 2080: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S1,32

[State 2080: 	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,34

[State 2080:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2080: 	AfterImage]
type 			= AfterImage
trigger1		= (AnimElem = 3)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

[State 2080:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9410
id			= 9410
pos			= -20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 2080: 	Helper]
type 			= Helper
trigger1 		= (NumTarget(2080)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 2080: 	Helper]
type 			= Helper
trigger1 		= (P2Dist X < 100) && (AnimElem = 5, > 0)
helpertype 		= Normal
name 			= "Ki Shouheki"
id 			= 9930
pos 			= 0,0
postype 		= p1
stateno 		= 9930
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 2080: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 5)
attr			= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((117*(24-Var(15)+2)/32) > 0, 117*(24-Var(15)+2)/32,5),117))
pausetime		= 14,14
guard.pausetime	= 14,14
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= -3,-8.5
guard.velocity	= -3
air.velocity	= -3,-8.5
airguard.velocity	= -3,-8.5
ground.cornerpush.veloff = -3
fall 			= 1
fall.recover	= 0
id			= 2080
getpower		= 0
givepower		= 78
envshake.time 	= 14
envshake.freq 	= 120
envshake.ampl 	= -4

[State 2080:	ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 5, > 0) && (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Satsubatsu Yakushin (EX)
[Statedef 2090]
type 			= S
movetype		= A
physics		= N
;anim			= 2090
velset		= 0,0
ctrl			= 0
poweradd		= (IfElse((PrevStateNo = 8030),0,-500))
juggle		= 1
facep2		= (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2090: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 2090)
value 		= 2090

[State 2090: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 2090:	Null]
type			= Null
trigger1		= (AnimElem = 6)
trigger1		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-40,-10))
trigger2		= (AnimElem = 2) || (AnimElem = 8)
trigger2		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-50,-55))
trigger3		= (AnimElem = 4) || (AnimElem = 10)
trigger3		= (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-75,-100))

[State 2090:	VarAdd]
type			= VarAdd
trigger1 		= (NumTarget(2090)) && (HitPauseTime = 1) && (!MoveGuarded)
var(15)		= 1
ignorehitpause	= 1

[State 2090:	PosAdd]
type 			= PosAdd
trigger1 		= (AnimElem = 3) || (AnimElem = 5) || (AnimElem = 7) || (AnimElem = 9)
x 			= 10
ignorehitpause 	= 1

[State 2090:	PosAdd]
type 			= PosAdd
trigger1 		= (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6) || (AnimElem = 8) || (AnimElem = 10)
x 			= 12
ignorehitpause 	= 1

[State 2090:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded)
value			= S0,25
channel		= 0
persistent		= 0
ignorehitpause	= 1

[State 2090:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6) || (AnimElem = 8) || (AnimElem = 10)
value			= S1,32
ignorehitpause 	= 1

[State 2090:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,34

[State 2090:	PalFX]
type			= PalFX
trigger1		= (!Time) && (PrevStateNo != 8030)
time			= 20
add 			= 32,16,0
mul			= 256,256,256
sinadd 		= 64,32,5,3
invertall		= 0
color			= 256

[State 2090:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 2090:	Explod]
type			= Explod
trigger1		= (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded)
anim			= 9410
id			= 9410
pos			= 30,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 2090:	Helper]
type 			= Helper
trigger1 		= (NumTarget(2090)) && (HitPauseTime = 1)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
ignorehitpause	= 1

[State 2090:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 6)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26)),5
pausetime		= 2,12
guard.pausetime	= 2,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -2.5
guard.velocity	= -2.5
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 2090
getpower		= 0
givepower		= 13
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -6

[State 2090: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2) || (AnimElem = 8)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Medium
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((26*(24-Var(15)+2)/32) > 0, 26*(24-Var(15)+2)/32,5),26)),5
pausetime		= 2,12
guard.pausetime	= 2,12
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,5
guardsound		= S2,7
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -2.5
guard.velocity	= -2.5
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -7.5
id			= 2090
getpower		= 0
givepower		= 13
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -6

[State 2090:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4) || (AnimElem = 10)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((78*(24-Var(15)+2)/32) > 0, 78*(24-Var(15)+2)/32,5),78)),5
pausetime		= 2,12
guard.pausetime	= 2,12
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,(IfElse((AnimElem = 4),5,6))
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
yaccel		= 0.45
ground.velocity	= (IfElse((AnimElem = 4),-2,-1.5)),(IfElse((AnimElem = 4),0,-11))
guard.velocity	= (IfElse((AnimElem = 4),-2,-1.5))
air.velocity	= (IfElse((AnimElem = 4),-2,-9)),-5.7
airguard.velocity	= (IfElse((AnimElem = 4),-2,-9)),-5.7
ground.cornerpush.veloff = -14
fall			= (IfElse((AnimElem = 4),0,1))
id			= 2090
getpower		= 0
givepower		= 39
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -6

[State 2090: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;===========================================================================
;-| Hyper |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Gekimetsu Dama
[Statedef 3000]
type 			= S
movetype		= A
physics		= S
;anim			= 3000
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (IfElse(PrevStateNo = 8030,0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3000:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 3000: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 3000:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 3000:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 3000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 3000)
value 		= 3000

[State 3000: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2) && (AnimElem = 4, < 0)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 3000:	ChangeAnim]
type			= ChangeAnim
trigger1		= ((AnimElem = 2, > 30) && (Var(5) = 1)) ^^ ((AnimElem = 2, > 60) && (Var(5) = 2))
value			= 3000
elem			= 3
persistent		= 0

[State 3000:	Pause]
type			= Pause
trigger1		= (AnimElem = 2, < 0) && ((GameTime%2) = 0)
time			= 2
movetime		= 2

[State 3000:	AllPalFX]
type			= AllPalFX
trigger1		= (AnimElem = 2, < 0)
time			= 1
add			= 0,0,0
mul			= 256,256,256
sinadd		= 0,0,0,1
invertall		= 0
color			= (Time*5)

[State 3000:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
value 		= IfElse(Var(5) = 1,-1500,IfElse(Var(5) = 2,-2000,IfElse(Var(5) = 3,-2500,-1500)))

[State 3000:	AttackDist]
type			= AttackDist
trigger1		= 1
value			= IfElse(Var(5) = 0,100,0)

[State 3000: 	VarRandom]
type			= VarRandom
trigger1		= 1
v			= 6
range			= -25,15

[State 3000: 	VarRandom]
type			= VarRandom
trigger1		= 1
v			= 7
range			= -75,-40

[State 3000:	VarAdd]
type			= VarAdd
triggerall		= (MoveHit) && (AnimElem = 3, < 0)
trigger1		= ((GameTime%25) = 0) || ((Command = "x") ^^ (Command = "y") ^^ (Command = "z"))
var(15)		= 1
ignorehitpause	= 1

[State 3000:	VarAdd]
type			= VarAdd
trigger1		= (ProjHit(9650) = 1)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 3000:	Pause]
type			= Pause
trigger1		= (NumTarget(9650) = 1) && ((GameTime%3) = 0)
time			= 1
movetime		= 0

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 40) && (PrevStateNo != 8030)
value			= S0,4

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,4
channel		= 0
loop			= 1

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, > 0) && ((GameTime%16) = 0)
value			= S1,7
channel		= 1

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%15) = 0)
value			= S1,12
channel		= 2

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (PrevStateNo != 8030)
value			= S1,13
lowpriority		= 1

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 10) && (PrevStateNo != 8030)
value			= S1,16

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,24

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3) && (PrevStateNo != 8030)
value			= S1,32

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4) && (PrevStateNo != 8030)
value			= S2,6

[State 3000:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%50) = 0)
time			= 20
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,75,75,25
invertall		= 0
color			= 256

[State 3000:	EnvColor]
type			= EnvColor
trigger1 		= (AnimElem = 4)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 3000:	EnvColor]
type			= EnvColor
trigger1		= (NumProjID(9650)) && ((GameTime%3) = 0)
value			= 255,255,255
time			= 1
ignorehitpause	= 1

[State 3000:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%5) = 0)
time			= 10
freq			= 140
ampl			= -3
phase			= 120

[State 3000:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 4)
time			= 20
freq			= 140
ampl			= -8
phase			= 120

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9110
id			= 9110
pos			= 42,-96
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= -30,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%20) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Random <= 499,9700,9710))
id			= 9700
pos			= 0,-25
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 20,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.5,1.5
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 10) && (AnimElem = 3, < 0) && (NumExplod(9800) = 0)
anim			= 9800
id			= 9800
pos			= 38,-74
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3000: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Random <= 499) && (Pos Y >= 0)
anim			= 9820
id			= 9820
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 60,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.1,0.1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 10) && (AnimElem = 3, < 0) && ((GameTime%15) = 0) && (NumExplod(9830) < 6) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= 38,-74
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 10,10
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.1,0.1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9870
id			= 9870
pos			= 42,-96
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 10) && (AnimElem = 3, < 0) && (NumExplod(9890) = 0) && (Pos Y >= 0)
anim			= 9890
id			= 9890
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3000:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 3)
channel		= 0

[State 3000:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 4)
id 			= 9800

[State 3000:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 3)
id 			= 9890

[State 3000:	HitDef]
type			= HitDef
trigger1		= ((GameTime%25) = 0) || ((Command = "x") ^^ (Command = "y") ^^ (Command = "z"))
trigger2		= (Var(2) > 0) && ((GameTime%5) = 0)
attr			= S, HP
hitflag		= MAFDP
guardflag		= MA
animtype		= Medium
priority		= 7, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((12*(24-Var(15)+2)/24) > 0, 12*(24-Var(15)+2)/24,3),12)),4
pausetime		= 1,3
guard.pausetime	= 1,3
sparkno		= S9110
guard.sparkno	= S9130
sparkxy		= (Var(6)),(Var(7))
hitsound		= S2,7
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
ground.velocity	= -1.1
guard.velocity	= -1.1
air.velocity	= -1.1,-2.5
airguard.velocity	= -1.1,-2.5
ground.cornerpush.veloff = 0
id			= 3000
getpower		= 0
givepower		= 0
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3000:	Projectile]
type			= Projectile
trigger1		= (AnimElem = 4)
projid		= 9650
projanim		= 9650
projhitanim		= 9320
projremanim		= 9320
projcancelanim	= 9320
projscale		= 1,1
projremove		= 1
projremovetime	= 200
velocity		= 25,0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1.1,1
projhits		= 1
projmisstime	= 0
projpriority	= 1000000
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 38,-74
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
afterimage.time	= 10
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.length = 10
afterimage.paladd = 75, 75, 75
afterimage.palmul = .50, .50, .50
afterimage.palcontrast = 75, 75, 75
afterimage.trans 	= add
;------------------
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage 		= (Ceil(IfElse(Var(5) = 1,200,IfElse(Var(5) = 2,225,IfElse(Var(5) = 3,250,200))))),50
pausetime		= 0,20
guard.pausetime	= 0,10
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S1,5
guardsound		= S1,5
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 18
ground.hittime	= 18
air.hittime		= 18
ground.velocity	= -20,-8
guard.velocity	= -10
air.velocity	= -20,-8
airguard.velocity	= -20,-8
ground.cornerpush.veloff = 0
fall			= 1
fall.xvelocity	= -15
fall.yvelocity	= -6
fall.recover	= 0
down.velocity	= -15,-6
down.bounce		= 1
id			= 9650
getpower		= 75
givepower		= 75
palfx.time		= 20
palfx.mul		= 256,256,256
palfx.add		= 150,150,150
palfx.sinadd	= 100,100,100,25
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -8

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "Flame Effect"
id			= 9200
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9200
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.60
size.yscale		= 0.65

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, > 40) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(9500) < 1)
helpertype		= Normal
name			= "Rock1"
id			= 9500
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9500
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 799,0.75,3))
size.yscale		= (IfElse(Random <= 799,0.75,3))

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, > 40) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(9510) < 1)
helpertype		= Normal
name			= "Rock2"
id			= 9510
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9510
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, > 40) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(9520) < 1)
helpertype		= Normal
name			= "Rock3"
id			= 9520
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9520
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, > 40) && ((GameTime%40) = 0) && (Random = [249,749]) && (NumHelper(9530) < 1)
helpertype		= Normal
name			= "Rock4"
id			= 9530
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9530
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, > 40) && ((GameTime%50) = 0) && (Random = [249,749]) && (NumHelper(9540) < 1)
helpertype		= Normal
name			= "Rock5"
id			= 9540
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9540
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 3000:	Helper]
type 			= Helper
triggerall		= (MoveHit) && (AnimElem = 3, < 0)
trigger1		= ((GameTime%25) = 0) || ((Command = "x") ^^ (Command = "y") ^^ (Command = "z"))
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(Var(6))),(Var(7))
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
ignorehitpause	= 1

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, = 10) || (AnimElem = 2, = 30)
helpertype		= Normal
name			= "Kikou Ha Effect"
id			= 9900
pos			= 38,-74
postype		= p1
facing		= 1
stateno		= 9900
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse((Var(5) = 3),1,0.75))
size.yscale		= (IfElse((Var(5) = 3),1,0.75))

[State 3000: 	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Minami Ginga Gouka
[Statedef 3010]
type 			= S
movetype		= A
physics		= S
;anim			= 3010
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (IfElse(PrevStateNo = 8030,0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3010:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 3010: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 3010:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 3010:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 3010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 3010)
value 		= 3010

[State 3010: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2) && (AnimElem = 7, < 0)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 3010:	ChangeAnim]
type			= ChangeAnim
trigger1		= ((AnimElem = 5, > 40) && (Var(5) = 1)) ^^ ((AnimElem = 5, > 80) && (Var(5) = 2))
trigger2		= (AnimElem = 5, > 40) && (Var(24) = 1)
value			= 3010
elem			= 6
persistent		= 0

[State 3010:	Pause]
type			= Pause
trigger1		= (AnimElem = 2, < 0) && ((GameTime%2) = 0)
time			= 2
movetime		= 2

[State 3010:	AllPalFX]
type			= AllPalFX
trigger1		= (AnimElem = 2, < 0)
time			= 1
add			= 0,0,0
mul			= 256,256,256
sinadd		= 0,0,0,1
invertall		= 0
color			= (Time*5)

[State 3010:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
value 		= IfElse(Var(5) = 1,-4000,IfElse(Var(5) = 2,-4500,IfElse(Var(5) = 3,-5000,-4000)))

[State 3010:	AttackDist]
type			= AttackDist
trigger1		= 1
value			= IfElse(Var(5) = 0,100,0)

[State 3010:	Pause]
type			= Pause
trigger1		= (Var(15) = 1) && ((GameTime%3) = 0)
time			= 1
movetime		= 0

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5, = 30) && (PrevStateNo != 8030)
value			= S0,5

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 6) && (PrevStateNo != 8030)
value			= S1,1

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,4
channel		= 0
loop			= 1

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, > 0) && ((GameTime%16) = 0)
value			= S1,7
channel		= 1

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5, > 0) && (AnimElem = 6, < 0) && ((GameTime%15) = 0)
value			= S1,12
channel		= 2

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (PrevStateNo != 8030)
value			= S1,13
lowpriority		= 1

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5, = 10) && (PrevStateNo != 8030)
value			= S1,17

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,24

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 6) && (PrevStateNo != 8030)
value			= S1,32

[State 3010:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 6, < 0) && ((GameTime%50) = 0)
time			= 20
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,75,75,25
invertall		= 0
color			= 256

[State 3010:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 6, < 0) && ((GameTime%5) = 0)
time			= 10
freq			= 140
ampl			= -3
phase			= 120

[State 3010:	EnvShake]
type			= EnvShake
trigger1		= (AnimElem = 4)
time			= 20
freq			= 140
ampl			= -8
phase			= 120

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= -30,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 6, < 0) && ((GameTime%20) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Random <= 499,9700,9710))
id			= 9700
pos			= 0,-25
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 20,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.5,1.5
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 5, > 10) && (AnimElem = 6, < 0) && (NumExplod(9800) = 0)
anim			= 9800
id			= 9800
pos			= -26,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 6, > 0) && (AnimElem = 7, < 0)
anim			= 9800
id			= 9800
pos			= -24,-79
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3010: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 6, < 0) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Random <= 499) && (Pos Y >= 0)
anim			= 9820
id			= 9820
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 60,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.2,0.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3010: 	Explod]
type			= Explod
trigger1		= (AnimElem = 5, > 10) && (AnimElem = 6, < 0) && ((GameTime%15) = 0) && (NumExplod(9830) < 6) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= -26,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 10,10
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.1,0.1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 7)
anim			= 9870
id			= 9870
pos			= 58,-76
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 10) && (AnimElem = 6, < 0) && (NumExplod(9890) = 0) && (Pos Y >= 0)
anim			= 9890
id			= 9890
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3010:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 7)
channel		= 0

[State 3010:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 6, = 0) || (AnimElem = 7)
id 			= 9800

[State 3010:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 7)
id 			= 9890

[State 3010:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "Flame Effect"
id			= 9200
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9200
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.60
size.yscale		= 0.65

[State 3010:	Helper]
type			= Helper
trigger1		= (AnimElem = 7)
helpertype		= Normal
name			= "Minami Ginga Gouka"
id			= 9620
pos			= 58,-76
postype		= p1
facing		= 0
stateno		= 9620
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.90
size.yscale		= 0.90

[State 3010: 	Helper]
type 			= Helper
trigger1 		= (AnimElem = 2)
helpertype 		= Normal
name 			= "Ki Shouheki"
id 			= 9930
pos 			= 0,0
postype 		= p1
stateno 		= 9930
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 3010:	Helper]
type			= Helper
trigger1		= (AnimElem = 5, = 10) || (AnimElem = 5, = 30)
helpertype		= Normal
name			= "Kikou Ha Effect"
id			= 9900
pos			= -26,-65
postype		= p1
facing		= 1
stateno		= 9900
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse((Var(5) = 3),2,1))
size.yscale		= (IfElse((Var(5) = 3),2,1))

[State 3010:	Helper]
type			= Helper
trigger1		= (!Time) && (NumHelper(3010) = 0) && (NumHelper(8000) = 0)
helpertype		= Normal
name			= "Misc"
id			= 3010
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11020
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3010: 	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Magyo Satsuriku: Attempt
[Statedef 3020]
type 			= S
movetype		= A
physics		= N
;anim			= 3020
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (IfElse(PrevStateNo = 8030,0,1))
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -1

[State 3020: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 3020)
value 		= 3020

[State 3020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (P2Dist X <= -100) || (FrontEdgeBodyDist <= 10) || (Time > 80)
value			= 3020
elem			= 5
persistent		= 0

[State 3020:	NotHitBy]
type			= NotHitBy
trigger1		= (Time < 30)
value			= SCA
ignorehitpause	= 1

[State 3020: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 3020:	Pause]
type			= Pause
trigger1		= (AnimElem = 2, < 0) && ((GameTime%2) = 0)
time			= 2
movetime		= 2

[State 3020:	AllPalFX]
type			= AllPalFX
trigger1		= (AnimElem = 2, < 0)
time			= 1
add			= 0,0,0
mul			= 256,256,256
sinadd		= 0,0,0,1
invertall		= 0
color			= (Time*5)

[State 3020:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time) && (PrevStateNo != 8030)
value 		= IfElse(Var(5) = 1,-4000,IfElse(Var(5) = 2,-4500,IfElse(Var(5) = 3,-5000,-4000)))

[State 3020: 	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 3)
value 		= S0,6
channel		= 2

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,24

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S1,3

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S1,21

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,24

[State 3020:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x			= (IfElse(((GameTime%2) = 0),2,-2))

[State 3020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 4, > 0) && (AnimElem = 5, < 0)
x			= 12

[State 3020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 5)
x			= 1

[State 3020:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 4, > 0)
x			= 0.1

[State 3020: 	AfterImage]
type 			= AfterImage
trigger1		= (AnimElem = 4)
time 			= 15
framegap 		= 3
length 		= 5
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= 150,150,150
trans 		= add
ignorehitpause	= 1

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 4, > 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 4) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	Explod]
type			= Explod
trigger1 		= (AnimElem = 4)
anim			= 9810
id			= 9810
pos			= -10,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9870
id			= 9870
pos			= 0,-50
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020: 	HitDef]
type			= HitDef
trigger1		= (AnimElem = 4, > 0)
attr			= S, HT
hitflag		= MAFD
priority		= 7, Miss
sparkno		= -1
guard.sparkno	= -1
hitsound		= S1,25
guard.dist		= 50
snap			= 1,-56
p2facing		= 1
p1stateno		= 3021
p2stateno		= 3022
forcestand		= 1
fall			= 1
id			= 3020
getpower		= 0
givepower		= 0

[State 3020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Magyo Satsuriku: Success
[Statedef 3021]
type 			= S
movetype		= A
physics		= N
anim			= 3021
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -1

[State 3021:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Target, BackEdgeBodyDist <= 5) || (Time > 100)
value			= 3021
elem			= 4
persistent		= 0

[State 3021:	ChangeAnim]
type			= ChangeAnim
triggerall 		= (NumTarget > 0) && (Target, BackEdgeBodyDist > 5)
trigger1 		= (Target, Alive = 0)
value			= 3020
elem			= 5
persistent		= 0

[State 3021:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA
ignorehitpause	= 1

[State 3021:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0
ignorehitpause	= 1

[State 3021:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 3, > 0)
value			= 2

[State 3021: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1)
time			= -1
id			= 3020
pos			= 1,-56

[State 3021: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2)
time			= -1
id			= 3020
pos			= 26,-65

[State 3021: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3)
time			= -1
id			= 3020
pos			= 38,-79

[State 3021: 	TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3, = 4)
time			= -1
id			= 3020
pos			= 57,-79

[State 3021: 	BindToTarget]
type			= BindToTarget
trigger1		= (AnimElem = 4)
time			= 1
id			= 3020
pos			= 75,56,Foot

[State 3021:	PosSet]
type			= PosSet
trigger1		= 1
y			= 0

[State 3021:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0)
x			= 12

[State 3021:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3, > 0)
x			= 0

[State 3021: 	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 4)
value 		= S0,25
channel		= 2

[State 3021: 	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 4)
value 		= S1,0

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S1,5

[State 3021: 	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 1)
value 		= S1,16
channel		= 0

[State 3021: 	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 2)
value 		= S1,32

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S2,6

[State 3021:	Pause]
type			= Pause
trigger1		= (AnimElem = 4, > 0) && ((GameTime%3) = 0)
time			= 1
movetime		= 0

[State 3021:	Explod]
type			= Explod
trigger1		= (AnimElem = 4)
anim			= 9320
id			= 9320
pos			= 75,-79
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 3021:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3021:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0) && ((GameTime%3) = 0) && (NumExplod(9830) < 8) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= 1,-56
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -0.6,1
accel			= 0,0
random		= 15,15
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.15,0.15
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3021:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, > 10) && (AnimElem = 2, < 0)
anim			= 9610
id			= 9610
pos			= 1,-56
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 2.5,2.5
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3021:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
anim			= 9610
id			= 9610
pos			= 26,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 2.5,2.5
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3021:	Explod]
type			= Explod
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 4, < 0)
anim			= 9610
id			= 9610
pos			= 38,-79
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 2.5,2.5
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3021:	Explod]
type			= Explod
trigger1 		= (AnimElem = 4)
anim			= 9840
id			= 9840
pos			= 75,-79
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.5,1.5
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 3021:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, = 0) || (AnimElem = 1, = 15)
anim			= 9900
id			= 9900
pos			= 1,-56
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3021:	Helper]
type			= Helper
trigger1		= (Time > 60)
helpertype		= Player
name			= "ScreenBound"
id			= 11030
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11030
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent		= 0

[State 3021:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 4)
id			= 9610

[State 3021:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 4)
id			= 9810

[State 3021:	TargetLifeAdd]
type			= TargetLifeAdd
trigger1		= (AnimElem = 4)
value 		= IfElse(Var(5) = 1,-350,IfElse(Var(5) = 2,-420,IfElse(Var(5) = 3,-490,-350)))
absolute		= 1

[State 3021:	TargetState]
type			= TargetState
trigger1		= (AnimElem = 4)
value			= 3023

[State 3021:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Magyo Satsuriku: Opponent
[Statedef 3022]
type 			= A
movetype		= H
physics		= N
;anim			= 3022
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 3022:	ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 3022

[State 3022: 	SelfState]
type 			= SelfState
trigger1 		= (EnemyNear, StateNo != [3020,3021])
value 		= 5050

;---------------------------------------------------------------------------
;Magyo Satsuriku: Opponent
[Statedef 3023]
type 			= A
movetype		= H
physics		= N
;anim			= 3023
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 3023:	ChangeAnim2]
type 			= ChangeAnim2
trigger1		= (!Time)
value			= 3023

[State 3023:	VelAdd]
type			= VelAdd
trigger1		= (Time > 20)
y			= 0.45

[State 3023:	PosAdd]
type			= PosAdd
trigger1		= (Time < 20)
x			= (IfElse(((GameTime%2) = 0),1,-1))

[State 3023:	EnvColor]
type			= EnvColor
trigger1		= (Time < 20) && ((GameTime%2) = 0)
value			= 255,255,255
time			= 1

[State 3023:	EnvShake]
type			= EnvShake
trigger1		= (!Time)
time			= 30
freq			= 140
ampl			= -8
phase			= 120

[State 3023:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= F72
id			= 72
pos 			= 0, (Floor(ScreenPos Y))
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3023:	SelfState]
type			= SelfState
trigger1		= (Vel Y > 0) && (Pos Y >= 0)
value			= 5100

;===========================================================================
;-| Misc |------------------------------------------------------------------

;---------------------------------------------------------------------------
;Ki Charge
[Statedef 8000]
type 			= S
movetype		= I
physics		= S
anim			= 8000
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 8000:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 8000: 	Null]
type 			= Null
trigger1 		= (!Time) && (Var(20) = 1)
trigger1 		= (Var(18) := 0) && (Var(20) := 1)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 8000:	VarRandom]
type			= VarRandom
trigger1		= 1
v			= 13
range			= 0,1

[State 8000:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, > 0)
x			= (IfElse(((GameTime%2) = 0),2,-2))

[State 8000:	VarAdd]
type			= VarAdd
trigger1		= (Var(20) = 1)
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 8000:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 8000:	PowerAdd]
type			= PowerAdd
trigger1		= (Time > 9)
value			= 12

[State 8000:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S0,25
channel		= 0

[State 8000:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,13
channel		= 1

[State 8000:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 25) && ((GameTime%15) = 0)
value			= S1,12
channel		= 2

[State 8000: 	PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%100) = 0)
value			= S1,4
channel		= 4

[State 8000:	PalFX]
type			= PalFX
trigger1		= (Time > 75) && ((GameTime%35) = 0)
time			= 20
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,75,75,25
invertall		= 0
color			= 256

[State 8000:	Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= -30)
anim			= 9410
id			= 9410
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8000:	Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8000:	Explod]
type			= Explod
trigger1		= (Time > 9) && ((GameTime%20) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-25
postype		= p1
facing		= (IfElse(Random <= 499,1,-1))
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8000: 	Explod]
type			= Explod
trigger1		= (Time > 75) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Pos Y >= -30) && (Random <= 499)
anim			= 9820
id			= 9820
pos			= 0,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,IfElse(Random <= 499,-0.9,-1.2)
accel			= 0,0
random		= 60,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.2,0.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8000:	Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= 0)
anim			= 9880
id			= 9880
pos			= 0,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.85,0.85
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 8000:	Explod]
type			= Explod
trigger1		= (Time = 9)
anim			= 9900
id			= 9900
pos			= 0,-50
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8000:	Helper]
type			= Helper
trigger1		= (!Time)
helpertype		= Normal
name			= "Flame Effect"
id			= 9200
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9200
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.60
size.yscale		= 0.65

[State 8000:	Helper]
type			= Helper
trigger1		= (!Time) && (NumHelper(3010) = 0) && (NumHelper(8000) = 0)
helpertype		= Normal
name			= "Misc"
id			= 8000
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11020
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 8000:	ChangeState]
type			= ChangeState
trigger1		= ((Command != "holdc") || (Command != "holdz")) && (Var(2) <= 0)
value			= 8001

;---------------------------------------------------------------------------
;Ki Charge: End
[Statedef 8001]
type 			= S
movetype		= I
physics		= S
anim			= 8001
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 8001:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 8001:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 8001:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 0

[State 8001:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 1

[State 8001:	StopSnd]
type			= StopSnd
trigger1		= (!AnimTime)
channel		= 2

[State 8001:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 3

[State 8001:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 9880

[State 8001:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Var(20) = 1,8021,0)
ctrl			= 1

;---------------------------------------------------------------------------
;Zanzouken
[Statedef 8010]
type 			= S
movetype		= I
physics		= N
anim			= 8010
;velset		= 0,0
ctrl			= 0
poweradd		= (IfElse((PrevStateNo = [150,153]),-250,IfElse((P2Dist X >= 100),-100,0)))
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 8010:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 8010:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time)
value			= 8010
elem			= IfElse(PrevStateNo = 100,2,1)

[State 8010:	ChangeAnim]
type			= ChangeAnim
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (P2Dist X <= -50)
value			= 8010
elem			= 3

[State 8010:	PosSet]
type			= PosSet
trigger1		= (Pos Y > 0)
y			= 0

[State 8010:	CtrlSet]
type			= CtrlSet
trigger1		= (AnimElem = 3, > 0)
value			= 1

[State 8010:	AssertSpecial]
type			= AssertSpecial
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%2) = 0)
flag			= Invisible
flag2			= NoShadow
ignorehitpause	= 1

[State 8010:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoWalk

[State 8010:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 3, > 0)
value			= 2

[State 8010:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value			= -2

[State 8010: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= 0

[State 8010:	NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 2, <= 0)
value			= SCA
time			= 1

[State 8010:	NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 5)
value			= SCA
time			= 30

[State 8010: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 8010:	Turn]
type			= Turn
trigger1		= (P2Dist X < 0) && (!AnimTime)

[State 8010:	Pause]
type			= Pause
trigger1		= (P2MoveType = H) && (P2StateType = A) && ((GameTime%2) = 0) && (NumHelper(11040) = 0)
time			= 1
movetime		= 1

[State 8010:	Null]
type			= Null
trigger1		= (!Time) && (Var(20) = 1)
trigger1		= (FVar(0) := (P2Dist X * 25) / (Exp(0.5*ln((P2Dist X * P2Dist X) + (P2Dist Y * P2Dist Y)))))
trigger1		= (FVar(1) := (P2Dist Y * 25) / (Exp(0.5*ln((P2Dist X * P2Dist X) + (P2Dist Y * P2Dist Y)))))

[State 8010:	VelSet]
type			= VelSet
trigger1		= (Var(20) = 1) && (AnimElem = 2)
x			= FVar(0)
y			= FVar(1)

[State 8010:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Var(20) = 0)
y			= 0

[State 8010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2) && (Var(20) = 0)
x			= (IfElse(P2Dist X < 100,15,20))

[State 8010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 1
y			= 0

[State 8010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (Var(20) = 0)
value			= S(IfElse(P2Dist X < 100,0,1)),(IfElse(P2Dist X < 100,0,29))

[State 8010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (Var(20) = 1)
value			= S1,29

[State 8010: 	AfterImage]
type 			= AfterImage
trigger1		= (AnimElem = 2)
time 			= 15
framegap 		= 3
length 		= 5
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= 150,150,150
trans 		= add
ignorehitpause	= 1

[State 8010: 	AfterImageTime]
type 			= AfterImageTime
trigger1		= (AnimElem = 3)
time 			= 0

[State 8010: 	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) && ((P2Dist X >= 100) || (Var(20) = 1))
anim			= 9870
id			= 9870
pos			= 0,-50
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 1
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Pos Y >= 0,0,8021)
ctrl			= 1

;---------------------------------------------------------------------------
;Bukuu Jyutsu
[Statedef 8020]
type 			= S
movetype		= I
physics		= S
;anim			= 8020
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 8020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 8020)
value			= 8020

[State 8020: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 8020:	StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 2)
statetype		= A
physics		= N

[State 8020:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(20)		= 1

[State 8020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
y			= -6

[State 8020:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (Vel Y < -1)
y			= 0.40

[State 8020:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, = 5) && (PrevStateNo != 8030)
anim			= 9410
id			= 9410
pos			= -20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8020:	Explod]
type			= Explod
trigger1		= (AnimElem = 1, = 5) && (PrevStateNo != 8030)
anim			= 9410
id			= 9410
pos			= 20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 8021

;---------------------------------------------------------------------------
;Bukuu Jyutsu: Stance
[Statedef 8021]
type 			= A
movetype		= I
physics		= N
anim			= 8021
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 8021:	ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,1

[State 8021:	Turn]
type			= Turn
trigger1		= (P2Dist X < -1)

[State 8021: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0) && (Var(20) := 1)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 8021:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 8021:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 0

[State 8021:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 8021:	PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
value			= S1,4

[State 8021:	Explod]
type			= Explod
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-15
postype		= p1
facing		= IfElse(Random <= 499,1,-1)
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8021:	ChangeState]
type			= ChangeState
trigger1		= (BackEdgeBodyDist <= -10)
value			= 100

[State 8021:	ChangeState]
type			= ChangeState
trigger1		= (Command = "holdback") ^^ (Command = "holdfwd")
trigger2		= (BackEdgeBodyDist <= -5)
value			= 8022

;---------------------------------------------------------------------------
;Bukuu Jyutsu: Moving
[Statedef 8022]
type 			= A
movetype		= I
physics		= N
;anim			= 8022
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 8022: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 8022:	ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,1

[State 8022:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoAirGuard
ignorehitpause	= 1

[State 8022:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Command = "holdback") && (Command != "holdfwd")
trigger1		= (Anim != 8022) && (Anim != 8023) && (P2Dist Y <= 0)
value			= IfElse(P2Dist X > P2Dist Y * (-1),8023,8022)

[State 8022:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Command = "holdback") && (Command != "holdfwd")
trigger1		= (Anim != 8022) && (Anim != 8023) && (P2Dist Y > 0)
value			= IfElse(P2Dist X > P2Dist Y,8023,8022)

[State 8022:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Command = "holdfwd") && (Command != "holdback")
trigger1		= (Anim != 8022) && (Anim != 8024) && (P2Dist Y <= 0)
value			= IfElse(P2Dist X > P2Dist Y * (-1),8024,8022)

[State 8022:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Command = "holdfwd") && (Command != "holdback")
trigger1		= (Anim != 8022) && (Anim != 8024) && (P2Dist Y > 0)
value			= IfElse(P2Dist X > P2Dist Y,8024,8022)

[State 8022:	Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(20) := 1) && (FVar(0) := (P2Dist X * 12) / (Exp(0.5*ln((P2Dist X * P2Dist X) + (P2Dist Y * P2Dist Y)))))
trigger1		= (FVar(1) := (P2Dist Y * 12) / (Exp(0.5*ln((P2Dist X * P2Dist X) + (P2Dist Y * P2Dist Y)))))

[State 8022:	VelSet]
type			= VelSet
triggerall		= (Command = "holdfwd") && (Command != "holdback")
trigger1		= (Vel X <= 0) && (AnimElem = 2, > 0)
x			= FVar(0)
y			= FVar(1)

[State 8022:	VelSet]
type			= VelSet
triggerall		= (Command = "holdback") && (Command != "holdfwd")
trigger1		= (Vel X >= 0) && (AnimElem = 2, > 0)
x			= (FVar(0)*(-1))
y			= (FVar(1)*(-1))

[State 8022:	VelSet]
type			= VelSet
trigger1		= (Command != "holdfwd") && (Command != "holdback")
x			= 0
y			= 0

[State 8022:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,3

[State 8022:	Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && ((GameTime%3) = 0) && (Pos Y >= -10)
anim			= 9400
id			= 9400
pos			= (IfElse(Vel X > 0,-20,20)),Ceil(Pos Y * (-1))
postype		= p1
facing		= (IfElse(Vel X > 0,1,-1))
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8022: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2, > 5) && ((GameTime%5) = 0)
time 			= 5
timegap		= 2
framegap 		= 1
length 		= 4
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 80, 80, 80
trans 		= add

[State 8022:	ChangeState]
type			= ChangeState
triggerall		= (BackEdgeBodyDist > -5)
trigger1		= (Command != "holdfwd") && (Command != "holdback")
value			= 8021

;---------------------------------------------------------------------------
;Armor
[Statedef 8030]
type 			= U
movetype		= H
physics		= U
;anim			= 8030
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 8030: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Alive) && (Time < Floor(GetHitVar(HitTime)*0.5))
value 		= Anim
elem 			= AnimElemNo(0)

[State 8030: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Alive) && (Time < Floor(GetHitVar(HitTime)*0.5))
value 		= 5030

[State 8030:	HitVelSet]
type			= HitVelSet
trigger1		= (!Alive) && (Time >= Floor(GetHitVar(HitTime)*0.5))
x			= 1
y			= 1

[State 8030:	VelAdd]
type			= VelAdd
trigger1		= (!Alive) && (Time >= Floor(GetHitVar(HitTime)*0.5))
y			= -4

[State 8030:	VelAdd]
type			= VelAdd
trigger1		= (!Alive) && (Time >= Floor(GetHitVar(HitTime)*0.5))
y			= 0.35

[State 8030:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(16)		= (GetHitVar(Damage))

[State 8030:	VarAdd]
type			= VarAdd
trigger1		= (!Time)
var(25)		= 1

[State 8030:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 8030: 	PosFreeze]
type 			= PosFreeze
trigger1 		= 1
value 		= 1

[State 8030:	PalFX]
type			= PalFX
trigger1		= ((GameTime%2) = 0)
time			= 1
add			= 128,50,50
mul			= 256,256,256
sinadd		= 50,50,50,2
invertall		= 0
color			= 256

[State 8030: 	Helper]
type 			= Helper
trigger1 		= (P2Dist X > 0) && (NumHelper(8031) = 0)
helpertype 		= Normal
name 			= "Armor"
id 			= 8031
pos 			= 0,0
postype 		= p1
stateno 		= 8031
keyctrl		= 0
ownpal		= 1
ignorehitpause	= 1

[State 8030: 	ChangeState]
type 			= ChangeState
trigger1 		= (Alive) && (Time >= Floor(GetHitVar(HitTime)*0.5))
value 		= (Var(21))

[State 8030:	ChangeState]
type			= ChangeState
trigger1		= (!Alive) && (Time >= Floor(GetHitVar(HitTime)*0.5))
value			= 5050

;---------------------------------------------------------------------------
;Armor Helper
[Statedef 8031]
type 			= A
movetype		= A
physics		= N
anim			= 8031
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 8031:	ReversalDef]
type			= ReversalDef
trigger1		= 1
reversal.attr	= SCA,NA,SA,HA
pausetime		= 10,25
sparkno		= -1
p2stateno		= 8035
id			= 8035

[State 8031:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 8031:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != 8030)

;---------------------------------------------------------------------------
;Armor - Opponent
[Statedef 8035]
type			= U
movetype		= H
physics		= U

[State 8035:	PosFreeze]
type			= PosFreeze
trigger1		= 1

[State 8035:	DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper)

[State 8035:	SelfState]
type 			= SelfState
trigger1 		= (HitOver)
value 		= (IfElse((StateType = S),0,IfElse((StateType = C),11,IfElse((StateType = A),50,0))))
ctrl			= 1

;---------------------------------------------------------------------------
;Ki Shouheki
[Statedef 8040]
type 			= S
movetype		= I
physics		= S
;anim			= 8040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 8040:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 8040: 	Null]
type 			= Null
trigger1 		= (!Time)
trigger1 		= (Var(18) := 0)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 8040:	VarAdd]
type			= VarAdd
trigger1		= 1
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 8040:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 8040: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 8040)
value 		= 8040

[State 8040: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 8040:	NotHitBy]
type			= NotHitBy
trigger1		= ((PrevStateNo = [150,152]) && (AnimElem = 2, < 0)) || (PrevStateNo = 8030)
value			= SCA

[State 8040:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
statetype		= A
physics		= N

[State 8040:	PowerAdd]
type			= PowerAdd
trigger1		= (AnimElem = 2)
value			= (IfElse((PrevStateNo = [150,152]),-250,-100))

[State 8040: 	Null]
type 			= Null
trigger1 		= (!Time) && (Var(20) = 1)
trigger1 		= (Var(18) := 0) && (Var(20) := 1)
trigger2 		= (Var(18) = -10) || (Var(18) = 10)
trigger2		= (Var(19) := IfElse(Var(18) = -10,0,1))

[State 8040:	VarAdd]
type			= VarAdd
trigger1		= (Var(20) = 1)
var(18)		= IfElse(Var(19) = 0,1,-1)

[State 8040:	VelAdd]
type			= VelAdd
trigger1		= (Var(20) = 1)
y			= IfElse(Var(19) = 1,0.05,-0.05)

[State 8040:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (Random <= 499)
value			= S0,25

[State 8040:	EnvColor]
type			= EnvColor
trigger1		= (!Time) && (PrevStateNo = [150,152])
value			= 255,255,255
time			= 10

[State 8040:	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%3) = 0)
time			= 1
add			= 200,200,200
mul			= 256,256,256
sinadd		= 0,0,0,0
invertall		= 1
color			= 256

[State 8040:	Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8040:	Explod]
type			= Explod
trigger1		= (Time = 9) && (Pos Y >= 0)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 8040: 	Helper]
type 			= Helper
trigger1 		= (AnimElem = 2)
helpertype 		= Normal
name 			= "Ki Shouheki"
id 			= 9930
pos 			= 0,0
postype 		= p1
stateno 		= 9930
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 8040:	Helper]
type 			= Helper
trigger1 		= (AnimElem = 2) && (PrevStateNo = [150,152])
helpertype 		= Normal
name 			= "Pusher Effect"
id 			= 11000
pos 			= 10,0
postype 		= p1
stateno 		= 11000
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 8040:	Helper]
type 			= Helper
trigger1 		= (AnimElem = 2) && (PrevStateNo = [150,152])
helpertype 		= Normal
name 			= "Pusher Effect"
id 			= 11000
pos 			= -10,0
postype 		= p1
stateno 		= 11010
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 8040:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Var(20) = 1, 8021,0)
ctrl			= 1

;===========================================================================
;-| Effects |---------------------------------------------------------------

;---------------------------------------------------------------------------
;Portrait
;[Statedef 9000]

;---------------------------------------------------------------------------
;Flame1: Yellow
[Statedef 9200]
type 			= S
movetype		= I
physics		= N
anim			= 9200
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9200:	AssertSpecial]
type			= AssertSpecial
trigger1		= ((GameTime%2) = 0)
flag			= NoShadow
flag2			= Invisible

[State 9200:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= var(3),var(4)

[State 9200:	Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(0) := 150) && (Var(2) := (Parent, StateNo)) && (Var(3) := Ceil(ParentDist X)) && (Var(4) := Ceil(ParentDist Y))
trigger2		= (Var(0) = 150) || (Var(0) = 175)
trigger2		= (Var(1) := IfElse(Var(0) = 150,0,1))
trigger3		= (Var(0) = 175)
trigger3		= (Var(1) := 1)

[State 9200:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 9200: 	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 50, 50, 50
palmul 		= .30, .30, .30
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9200:	Trans]
type			= Trans
trigger1		= 1
trans			= addalpha
alpha			= 175,var(0)

[State 9200:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != Var(2)) && (Parent, StateNo != 8030) && (Parent, StateNo != [191,192])
trigger2		= ((Parent, StateNo = 3000) && (Parent, AnimElem = 4)) || ((Parent, StateNo = 3010) && (Parent, AnimElem = 7))
trigger3		= ((Parent, StateNo = 191) && (Parent, AnimElem = 7)) || ((Parent, StateNo = 192) && (Parent, AnimElem = 2))

;---------------------------------------------------------------------------
;Rock1
[Statedef 9500]
type 			= S
movetype		= I
physics		= N
anim			= 9500
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9500:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9500:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9500:	PlayerPush]
type			= PlayerPush
trigger1		= (Const(Size.XScale) > 1) && (P2Dist X < 0)
value			= 1

[State 9500:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 9500:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 9500:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= (Var(0))
y			= 0

[State 9500:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 9500:	VelSet]
type			= VelSet
triggerall		= (Pos Y >= -125)
trigger1		= ((Root, StateNo = 3000) && (Root, AnimElem = 4)) || ((Root, StateNo = 3010) && (Root, AnimElem = 7))
x			= 3
y			= 0

[State 9500:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 3)
x			= 0.75

[State 9500:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 9500:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value 		= S1,(IfElse(Const(Size.XScale) <= 1,22,0))

[State 9500:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,20

[State 9500:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9500:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Rock2
[Statedef 9510]
type 			= S
movetype		= I
physics		= N
anim			= 9510
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9510:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9510:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9510:	PlayerPush]
type			= PlayerPush
trigger1		= (Const(Size.XScale) > 1) && (P2Dist X < 0)
value			= 1

[State 9510:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 9510:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 9510:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= (Var(0))
y			= 0

[State 9510:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 9510:	VelSet]
type			= VelSet
triggerall		= (Pos Y >= -125)
trigger1		= ((Root, StateNo = 3000) && (Root, AnimElem = 4)) || ((Root, StateNo = 3010) && (Root, AnimElem = 7))
x			= 3
y			= 0

[State 9510:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 3)
x			= 0.75

[State 9510:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 9510:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value 		= S1,(IfElse(Const(Size.XScale) <= 1,22,0))

[State 9510:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,20

[State 9510:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9510:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Rock3
[Statedef 9520]
type 			= S
movetype		= I
physics		= N
anim			= 9520
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9520:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9520:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9510:	PlayerPush]
type			= PlayerPush
trigger1		= (Const(Size.XScale) > 1) && (P2Dist X < 0)
value			= 1

[State 9520:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 9520:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 9520:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= (Var(0))
y			= 0

[State 9520:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 9520:	VelSet]
type			= VelSet
triggerall		= (Pos Y >= -125)
trigger1		= ((Root, StateNo = 3000) && (Root, AnimElem = 4)) || ((Root, StateNo = 3010) && (Root, AnimElem = 7))
x			= 3
y			= 0

[State 9520:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 3)
x			= 0.75

[State 9520:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 9520:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value 		= S1,(IfElse(Const(Size.XScale) <= 1,22,0))

[State 9520:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,20

[State 9520:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9520:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Rock4
[Statedef 9530]
type 			= S
movetype		= I
physics		= N
anim			= 9530
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9530:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9530:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9530:	PlayerPush]
type			= PlayerPush
trigger1		= (Const(Size.XScale) > 1) && (P2Dist X < 0)
value			= 1

[State 9530:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 9530:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 9530:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= (Var(0))
y			= 0

[State 9530:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 9530:	VelSet]
type			= VelSet
triggerall		= (Pos Y >= -125)
trigger1		= ((Root, StateNo = 3000) && (Root, AnimElem = 4)) || ((Root, StateNo = 3010) && (Root, AnimElem = 7))
x			= 3
y			= 0

[State 9530:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 3)
x			= 0.75

[State 9530:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 9530:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value 		= S1,(IfElse(Const(Size.XScale) <= 1,22,0))

[State 9530:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,20

[State 9530:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9530:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Rock5
[Statedef 9540]
type 			= S
movetype		= I
physics		= N
anim			= 9540
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9540:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9540:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9540:	PlayerPush]
type			= PlayerPush
trigger1		= (Const(Size.XScale) > 1) && (P2Dist X < 0)
value			= 1

[State 9540:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 9540:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 9540:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= (Var(0))
y			= 0

[State 9540:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 9540:	VelSet]
type			= VelSet
triggerall		= (Pos Y >= -125)
trigger1		= ((Root, StateNo = 3000) && (Root, AnimElem = 4)) || ((Root, StateNo = 3010) && (Root, AnimElem = 7))
x			= 3
y			= 0

[State 9540:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 3)
x			= 0.75

[State 9540:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 9540:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value 		= S1,(IfElse(Const(Size.XScale) <= 1,22,0))

[State 9540:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,20

[State 9540:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9540:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Projectile1: Kikou Ha
[Statedef 9600]
type 			= A
movetype		= A
physics		= N
anim			= 9610
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9600:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9600:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9600:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9600:	ParentVarAdd]
type			= ParentVarAdd
trigger1		= (NumTarget(9600)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 9600:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -1,1

[State 9600:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= (Var(0))

[State 9600:	AfterImage]
type			= AfterImage
trigger1		= (!Time)
time 			= 15
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9600:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9300
id			= 9300
pos			= 15,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9600:	Explod]
type			= Explod
trigger1		= ((GameTime%6) = 0) && (Var(0) != -1) && (Parent, Pos Y >= 0)
anim			= 9400
id			= 9400
pos			= -10,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9600:	Explod]
type			= Explod
trigger1		= ((GameTime%4) = 0) && (NumExplod(9830) < 2) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -0.6,1
accel			= 0,0
random		= 5,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.15,0.15
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9600:	Helper]
type 			= Helper
trigger1 		= (NumTarget(9600)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= 15,0
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 9600:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, NP
hitflag		= MAFDP
guardflag		= MA
animtype		= Medium
priority		= 1, Hit
damage 		= (Ceil(IfElse((Parent,Var(15)) >= 2, IfElse((60*(24-(Parent,Var(15))+2)/32) > 0, 60*(24-(Parent,Var(15))+2)/32,20),60))),20
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S1,5
guardsound		= S2,7
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -10
guard.velocity	= -10
air.velocity	= -7.5,-4.7
airguard.velocity	= -4,-4.5
ground.cornerpush.veloff = 0
id			= 9600
getpower		= 0
givepower		= 13
persistent		= 0

[State 9600:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Projectile1: Kikou Ha (EX)
[Statedef 9601]
type 			= A
movetype		= A
physics		= N
anim			= 9610
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9601:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9601:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9601:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9601:	ParentVarAdd]
type			= ParentVarAdd
trigger1		= (NumTarget(9601)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 9601:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -1,1

[State 9601:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= (Var(0))

[State 9601:	VelAdd]
type 			= VelAdd
trigger1 		= (Time > 15) && (P2Dist X < 0) && (Vel X > -10)
x 			= -0.5

[State 9601:	VelAdd]
type 			= VelAdd
trigger1 		= (Time > 15) && (P2Dist X > 0) && (Vel X < 10)
x 			= 0.5

[State 9601:	VelAdd]
type 			= VelAdd
trigger1 		= (Time > 15) && (EnemyNear, Pos Y > Pos Y) && (Vel Y < 10)
y 			= 0.5

[State 9601:	VelAdd]
type 			= VelAdd
trigger1 		= (Time > 15) && (EnemyNear, Pos Y <= Pos Y) && (Vel Y > -10)
y 			= -0.5

[State 9601:	AfterImage]
type			= AfterImage
trigger1		= (!Time)
time 			= 15
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9601:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9310
id			= 9310
pos			= 15,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9601:	Explod]
type			= Explod
trigger1		= ((GameTime%4) = 0) && (NumExplod(9830) < 2) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -0.6,1
accel			= 0,0
random		= 5,5
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.15,0.15
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9601:	Helper]
type 			= Helper
trigger1 		= (NumTarget(9601)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= 15,0
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 9601:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, NP
hitflag		= MAFDP
guardflag		= MA
animtype		= Medium
priority		= 1, Hit
damage 		= (Ceil(IfElse((Parent,Var(15)) >= 2, IfElse((90*(24-(Parent,Var(15))+2)/32) > 0, 90*(24-(Parent,Var(15))+2)/32,20),90))),20
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S1,5
guardsound		= S2,7
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= ((Vel X*(-1)))-3
guard.velocity	= ((Vel X*(-1)))
air.velocity	= ((Vel X*(-1)))-3,((Vel Y))-3
airguard.velocity	= ((Vel X*(-1)))-3,((Vel Y))-3
ground.cornerpush.veloff = 0
fall			= 1
id			= 9601
getpower		= 0
givepower		= 15
persistent		= 0

[State 9601:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (Time > 200)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Projectile3: Minami Ginga Gouka
[Statedef 9620]
type 			= A
movetype		= A
physics		= N
anim			= 9620
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9620:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9620:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, Var(5) > 2)
flag			= UnGuardable

[State 9620:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9620:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9620:	Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(0) := 125)
trigger2		= (Var(0) = 125) || (Var(0) = 175)
trigger2		= (Var(1) := IfElse(Var(0) = 125,0,1))
trigger3		= (Var(0) = 175)
trigger3		= (Var(1) := 1)

[State 9620:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 9620:	ParentVarAdd]
type			= ParentVarAdd
trigger1		= (NumTarget(9620)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 9620:	ParentVarSet]
type			= ParentVarSet
trigger1		= (NumTarget(9620)) && (MoveHit)
var(17)		= 1
persistent		= 0
ignorehitpause	= 1

[State 9620:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 30

[State 9620:	AfterImage]
type			= AfterImage
trigger1		= (!Time)
time 			= 10
timegap		= 2
framegap 		= 2
length 		= 10
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9620:	Trans]
type			= Trans
trigger1		= 1
trans			= addalpha
alpha			= 250,var(0)

[State 9620:	EnvColor]
type			= EnvColor
trigger1		= ((GameTime%2) = 0)
value			= 255,255,255
time			= 1
ignorehitpause	= 1

[State 9620:	Explod]
type			= Explod
trigger1		= ((GameTime%3) = 0)
anim			= 9400
id			= 9400
pos			= -10,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9620:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9320
id			= 9320
pos			= 15,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9620:	Explod]
type			= Explod
trigger1		= ((GameTime%3) = 0)
anim			= 9110
id			= 9110
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -1,0
accel			= 0,0
random		= 20,20
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9620:	Explod]
type			= Explod
trigger1		= ((GameTime%5) = 0) && (NumExplod(9830) < 20)
anim			= 9830
id			= 9830
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -2,1
accel			= 0,0
random		= 20,15
removetime		= 40
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.25,0.25
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9620:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 10, Hit
damage 		= (Ceil(IfElse((Parent, Var(5) = 1),400,IfElse((Parent, Var(5) = 2),500,IfElse((Parent, Var(5) = 3),600,400))))),50
pausetime		= 5,12
guard.pausetime	= 5,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S1,5
guardsound		= S1,5
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 15
yaccel		= 0.45
ground.velocity 	= (Ceil(IfElse((Parent, Var(5) = 1),-12,IfElse((Parent, Var(5) = 2),-24,IfElse((Parent, Var(5) = 3),-32,-12))))),-5.7
guard.velocity	= -12
air.velocity	= (Ceil(IfElse((Parent, Var(5) = 1),-12,IfElse((Parent, Var(5) = 2),-24,IfElse((Parent, Var(5) = 3),-32,-12))))),-5.7
airguard.velocity	= -12,-5.7
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9620
getpower		= 0
givepower		= 15
persistent		= 0

[State 9620:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Projectile4: Bakuenha
[Statedef 9630]
type 			= A
movetype		= A
physics		= N
anim			= 9630
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9630:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9630:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9630:	ParentVarAdd]
type			= ParentVarAdd
trigger1		= (NumTarget(9630)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 9630:	EnvShake]
type			= EnvShake
trigger1 		= (!Time)
time			= 25
freq			= 120
ampl			= -6
phase			= 120

[State 9630:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,5

[State 9630:	PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%9) = 0)
value			= S1,7

[State 9630:	BGPalFX]
type			= BGPalFX
trigger1		= (!Time)
time			= 30
add			= 125,125,125
mul			= 256,256,256
sinadd		= 150,150,150,40
invertall		= 0
color			= 256

[State 9630:	Explod]
type			= Explod
trigger1		= ((GameTime%4) = 0) && (NumExplod(9830) < 6) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= 0,-200
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,1
accel			= 0,0
random		= 75,150
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.15,0.15
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9630:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9420
id			= 9420
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9630:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9890
id			= 9890
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9630:	Helper]
type 			= Helper
trigger1 		= (NumTarget(9630)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= 0,-30
postype 		= p2
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 9630:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, NP
hitflag		= MAFDP
guardflag		= H
animtype		= Up
priority		= 1, Hit
damage 		= (Ceil(IfElse((Parent,Var(15)) >= 2, IfElse((78*(24-(Parent,Var(15))+2)/32) > 0, 78*(24-(Parent,Var(15))+2)/32,10),78))),10
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= -1
guardsound		= -1
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -6,-6.7
guard.velocity	= -6
air.velocity	= -6,-6.7
airguard.velocity	= -6,-6.7
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9630
getpower		= 0
givepower		= 39
persistent		= 0

[State 9630:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Projectile4: Bakuenha (EX)
[Statedef 9631]
type 			= A
movetype		= A
physics		= N
anim			= 9631
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9631:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9631:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9631:	ParentVarAdd]
type			= ParentVarAdd
trigger1		= (NumTarget(9631)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 9631:	EnvShake]
type			= EnvShake
trigger1 		= (!Time)
time			= 25
freq			= 120
ampl			= -6
phase			= 120

[State 9631:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,5

[State 9631:	PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%9) = 0)
value			= S1,7

[State 9631:	BGPalFX]
type			= BGPalFX
trigger1		= (!Time)
time			= 30
add			= 125,125,125
mul			= 256,256,256
sinadd		= 150,150,150,40
invertall		= 0
color			= 256

[State 9631:	Explod]
type			= Explod
trigger1		= ((GameTime%4) = 0) && (NumExplod(9830) < 6) && (Random <= 499)
anim			= 9830
id			= 9830
pos			= 0,-200
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,1
accel			= 0,0
random		= 75,150
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.15,0.15
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9631:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9420
id			= 9420
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9631:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9890
id			= 9890
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9631:	Helper]
type 			= Helper
trigger1 		= (NumTarget(9631)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= 0,-30
postype 		= p2
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 9631:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, NP
hitflag		= MAFDP
guardflag		= H
animtype		= Up
priority		= 1, Hit
damage 		= (Ceil(IfElse((Parent,Var(15)) >= 2, IfElse((78*(24-(Parent,Var(15))+2)/32) > 0, 78*(24-(Parent,Var(15))+2)/32,10),78))),10
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= -1
guardsound		= -1
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3,-10
guard.velocity	= -3
air.velocity	= -3,-10
airguard.velocity	= -3,-10
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9631
getpower		= 0
givepower		= 59
persistent		= 0

[State 9631:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Particle1: Orange
[Statedef 9820]
type 			= A
movetype		= I
physics		= N
anim 			= 11020
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9820:	PosAdd]
type			= PosAdd
trigger1		= (!Time)
x			= P2Dist X

[State 9820:	Explod]
type 			= Explod
trigger1 		= (!Time)
anim 			= 9820
id 			= 9820
pos 			= 0,0
postype 		= p1
facing 		= 1
vfacing 		= 1
bindtime 		= 1
vel 			= (IfElse(Random <= 499,Random/100,Random/(-100))),(IfElse(Random <= 499,Random/100,Random/(-100)))
accel 		= 0,0
random 		= 0,0
removetime 		= 10
supermove 		= 0
supermovetime 	= 0
pausemovetime 	= 0
scale 		= 0.25,0.25
sprpriority 	= 3
ontop 		= 0
shadow 		= 0,0,0
ownpal 		= 1
removeongethit 	= 0

[State 9820:	Explod]
type 			= Explod
trigger1 		= (!Time)
anim 			= 9820
id 			= 9820
pos 			= 0,0
postype 		= p1
facing 		= 1
vfacing 		= 1
bindtime 		= 1
vel 			= (IfElse(Random <= 499,Random/100,Random/(-100))),(IfElse(Random <= 499,Random/100,Random/(-100)))
accel 		= 0,0
random 		= 0,0
removetime 		= 10
supermove 		= 0
supermovetime 	= 0
pausemovetime 	= 0
scale 		= 0.25,0.25
sprpriority 	= 3
ontop 		= 0
shadow 		= 0,0,0
ownpal 		= 1
removeongethit 	= 0

[State 9820:	Explod]
type 			= Explod
trigger1 		= (!Time)
anim 			= 9820
id 			= 9820
pos 			= 0,0
postype 		= p1
facing 		= 1
vfacing 		= 1
bindtime 		= 1
vel 			= (IfElse(Random <= 499,Random/100,Random/(-100))),(IfElse(Random <= 499,Random/100,Random/(-100)))
accel 		= 0,0
random 		= 0,0
removetime 		= 10
supermove 		= 0
supermovetime 	= 0
pausemovetime 	= 0
scale 		= 0.25,0.25
sprpriority 	= 3
ontop 		= 0
shadow 		= 0,0,0
ownpal 		= 1
removeongethit 	= 0

[State 9820:	Explod]
type 			= Explod
trigger1 		= (!Time)
anim 			= 9820
id 			= 9820
pos 			= 0,0
postype 		= p1
facing 		= 1
vfacing 		= 1
bindtime 		= 1
vel 			= (IfElse(Random <= 499,Random/100,Random/(-100))),(IfElse(Random <= 499,Random/100,Random/(-100)))
accel 		= 0,0
random 		= 0,0
removetime 		= 10
supermove 		= 0
supermovetime 	= 0
pausemovetime 	= 0
scale 		= 0.30,0.30
sprpriority 	= 3
ontop 		= 0
shadow 		= 0,0,0
ownpal 		= 1
removeongethit 	= 0

[State 9820:	Explod]
type 			= Explod
trigger1 		= (!Time)
anim 			= 9820
id 			= 9820
pos 			= 0,0
postype 		= p1
facing 		= 1
vfacing 		= 1
bindtime 		= 1
vel 			= (IfElse(Random <= 499,Random/100,Random/(-100))),(IfElse(Random <= 499,Random/100,Random/(-100)))
accel 		= 0,0
random 		= 0,0
removetime 		= 10
supermove 		= 0
supermovetime 	= 0
pausemovetime 	= 0
scale 		= 0.35,0.35
sprpriority 	= 3
ontop 		= 0
shadow 		= 0,0,0
ownpal 		= 1
removeongethit 	= 0

[State 9820: 	DestroySelf]
type 			= DestroySelf
trigger1 		= (Time > 20)

;---------------------------------------------------------------------------
;Kikou Ha Effect
[Statedef 9900]
type 			= A
movetype		= A
physics		= N
anim			= 9900
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9900: 	AssertSpecial]
type 			= AssertSpecial
trigger1 		= 1
flag 			= GlobalNoShadow

[State 9900:	HitBy]
type			= HitBy
trigger1		= 1
value			= SCA
ignorehitpause	= 1

[State 9900:	BindToParent]
type			= BindToParent
trigger1		= (Parent, StateNo = 3010)
time			= 1
pos			= -26,-65

[State 9900:	BindToParent]
type			= BindToParent
trigger1		= (Parent, StateNo = 3000)
time			= 1
pos			= 38,-74

[State 9900: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 999
timegap		= 1
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .70, .70, .70
palcontrast 	= 120,120,120
palbright		= 0, 0, 0
trans 		= add

[State 9900:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Ki Shouheki: Barrier
[Statedef 9930]
type 			= A
movetype		= A
physics		= N
;anim			= 9930
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9930:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 9860)
value			= 9930

[State 9930:	HitBy]
type			= HitBy
trigger1		= 1
value			= , NP, SP, HP
ignorehitpause	= 1

[State 9930:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= , NP, SP, HP
slot			= 0
stateno		= 9860
ignorehitpause	= 1

[State 9930: 	AssertSpecial]
type 			= AssertSpecial
trigger1 		= 1
flag 			= GlobalNoShadow

[State 9930:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Parent, StateNo = 192)
movetype		= I

[State 9930:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 9930:	ParentVarSet]
type			= ParentVarSet
trigger1		= (Parent, StateNo = 3010) && (MoveContact)
var(24)		= 1

[State 9930:	Null]
type			= Null
trigger1		= (!Time) && (PrevStateNo != 9860)
trigger1		= (Var(0) := 125) && (Var(2) := (Parent, StateNo)) && (Var(3) := Ceil(ParentDist X)) && (Var(4) := Ceil(ParentDist Y))
trigger2		= (Var(0) = 125) || (Var(0) = 150)
trigger2		= (Var(1) := IfElse(Var(0) = 125,0,1))
trigger3		= (Var(0) = 150)
trigger3		= (Var(1) := 1)

[State 9930:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 9930:	Trans]
type			= Trans
trigger1		= 1
trans			= addalpha
alpha			= 200,var(0)

[State 9930:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 9860)
value			= S1,10

[State 9930:	EnvColor]
type			= EnvColor
trigger1		= (MoveContact)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 9930: 	ParentVarAdd]
type			= ParentVarAdd
trigger1		= (NumTarget(9930)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 9930: 	HitDef]
type			= HitDef
trigger1		= (!MoveContact)
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 7, Hit
damage 		= (Ceil(IfElse((Parent,Var(15)) >= 2, IfElse((50*(24-(Parent,Var(15))+2)/32) > 0, 50*(24-(Parent,Var(15))+2)/32,2),50))),10
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S2,7
guardsound		= S2,7
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.40
ground.velocity	= (IfElse(P2Dist X > 0,-8,8)),(IfElse((Parent, StateNo = 3010),-12,-6.7))
guard.velocity	= (IfElse(P2Dist X > 0,-8,8))
air.velocity	= (IfElse(P2Dist X > 0,-8,8)),(IfElse((Parent, StateNo = 3010),-12,-6.7))
airguard.velocity	= (IfElse(P2Dist X > 0,-8,8)),(IfElse((Parent, StateNo = 3010),-12,-6.7))
ground.cornerpush.veloff = 0
fall			= 1
id			= 9930
getpower		= 0
givepower		= 10
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3
persistent		= 0

[State 9930:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || ((Parent, MoveType = H) && (Parent, StateNo != 8030))

;===========================================================================
;-| Helper |----------------------------------------------------------------

;---------------------------------------------------------------------------
;Pusher Effect (Forward)
[Statedef 11000]
type 			= S
movetype		= I
physics		= N
anim			= 11000
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11000:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 11000:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 11000:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 11000:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 20

[State 11000:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 25)

;---------------------------------------------------------------------------
;Pusher Effect (Backward)
[Statedef 11010]
type 			= S
movetype		= I
physics		= N
anim			= 11010
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11010:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 11010:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 11010:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 1

[State 11010:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 20

[State 11010:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 25)

;---------------------------------------------------------------------------
;Misc
[Statedef 11020]
type 			= A
movetype		= I
physics		= N
anim			= 11020
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11020:	PosSet]
type			= PosSet
trigger1		= 1
x			= (Parent, Pos X)
y			= 0

[State 11020:	Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(0) := (IfElse(Parent, StateNo = 8000,0,50)))
trigger2		= (Var(0) > 1000)
trigger2		= (Var(1) := 1)
trigger3		= (Var(0) < 100)
trigger3		= (Var(1) := 0)

[State 11020:	VarAdd]
type			= VarAdd
trigger1		= (Time > 75) && (((Parent, StateNo = 8000) && (Power >= 5000)) || (Parent, StateNo = 3010) || (Parent, StateNo = 182) || (Parent, StateNo = 191))
var(0)		= 1

[State 11020:	VarAdd]
type			= VarAdd
trigger1		= (Parent, StateNo != 3010) && (Parent, StateNo != 8000) && (Parent, StateNo != 182) && (Parent, StateNo != 191)
var(0)		= -1

[State 11020:	PlaySnd]
type			= PlaySnd
trigger1 		= (Time > 75) && (Var(0) > 50) && ((GameTime%16) = 0)
value			= S1,7
channel		= 3

[State 11020:	PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%100) = 0) && (NumExplod(9710) = 0) && (Random <= 249)
value			= S1,5

[State 11020:	PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%250) = 0)
value			= S1,27

[State 11020: 	EnvColor]
type			= EnvColor
trigger1		= ((GameTime%50) = 0) && (NumExplod(9710) = 0) && (Random <= 249)
value			= 255,255,255
time			= 5
under			= (IfElse(Random <= 499,1,0))
ignorehitpause	= 1

[State 11020:	EnvShake]
type			= EnvShake
trigger1		= (Time > 75) && (Var(0) > 75) && (Pos Y >= -30) && ((GameTime%7) = 0)
trigger2		= (Parent, StateNo = 191) && ((GameTime%7) = 0)
time			= 5
freq			= 140
ampl			= (IfElse(Var(0) = 0,-4,-6))
phase			= 120

[State 11020: 	BGPalFX]
type			= BGPalFX
trigger1		= (Var(0) > 0)
time			= 1
add			= (0-(Var(0)/15)),(0-(Var(0)/15)),(0-(Var(0)/15))
mul			= 256,256,256
invertall		= 0
color			= 256

[State 11020: 	Explod]
type			= Explod
trigger1		= ((Parent, StateNo = 3010) || (Parent, StateNo = 8000)) && ((GameTime%100) = 0) && (NumExplod(9710) = 0) && (Random <= 499)
anim			= (IfElse(Var(13) = 0,9710,9730))
id			= 9700
pos			= 0,-200
postype		= p1
facing		= IfElse(Random <= 499,1,-1)
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 200,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 3,4
sprpriority		= (IfElse(Random <= 499,-2,4))
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11020: 	Explod]
type			= Explod
trigger1		= (Time > 75) && ((GameTime%20) = 0) && (NumExplod(9820) < 30) && (Random <= 499)
anim			= 9820
id			= 9820
pos			= 0,-100
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,(IfElse(Random <= 499,-0.5,-0.7))
accel			= 0,0
random		= 300,50
removetime		= 70
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= (IfElse(Random <= 499,0.15,0.30)),(IfElse(Random <= 499,0.15,0.30))
sprpriority		= (IfElse(Random <= 499,3,-3))
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11020: 	Helper]
type			= Helper
trigger1		= (Time > 75) && (Var(0) > 75) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(9500) < 1)
helpertype		= Normal
name			= "Rock1"
id			= 9500
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9500
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 799,0.75,3))
size.yscale		= (IfElse(Random <= 799,0.75,3))

[State 11020: 	Helper]
type			= Helper
trigger1		= (Time > 75) && (Var(0) > 75) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(9510) < 1)
helpertype		= Normal
name			= "Rock2"
id			= 9510
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9510
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))

[State 11020: 	Helper]
type			= Helper
trigger1		= (Time > 75) && (Var(0) > 75) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(9520) < 1)
helpertype		= Normal
name			= "Rock3"
id			= 9520
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9520
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 11020: 	Helper]
type			= Helper
trigger1		= (Time > 75) && (Var(0) > 75) && ((GameTime%40) = 0) && (Random = [249,749]) && (NumHelper(9530) < 1)
helpertype		= Normal
name			= "Rock4"
id			= 9530
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9530
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 11020: 	Helper]
type			= Helper
trigger1		= (Time > 75) && (Var(0) > 75) && ((GameTime%50) = 0) && (Random = [249,749]) && (NumHelper(9540) < 1)
helpertype		= Normal
name			= "Rock5"
id			= 9540
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9540
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 11020:	DestroySelf]
type			= DestroySelf
trigger1		= (Var(0) < 0) || (Parent, StateNo = 192)

;---------------------------------------------------------------------------
;ScreenBound
[Statedef 11030]
type 			= A
movetype		= I
physics		= N
anim			= 11030
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11030:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= (Parent, StateNo)

[State 11030:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != Var(0)) || (Parent, AnimElem = 4)

;---------------------------------------------------------------------------
;WideScreen
[Statedef 11040]
type 			= A
movetype		= I
physics		= N
anim			= 11030
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 8

[State 11040:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= RoundNotOver
flag3			= NoBarDisplay
ignorehitpause	= 1

[State 11040:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoFG
flag2			= TimerFreeze
ignorehitpause	= 1

[State 11040:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, StateNo = [191,193])
flag			= NoMusic
ignorehitpause	= 1

[State 11040: 	AllPalFX]
type			= AllPalFX
trigger1		= (!Time) && (Parent, StateNo != 191)
time			= (IfElse((Parent, Var(23) = 8), 345,270))
add			= 0,0,0
mul			= 256,256,256
sinadd		= 0,0,0,0
invertall		= 0
color			= 100
ignorehitpause	= 1

[State 11040: 	Pause]
type			= Pause
trigger1		= (!Time) && (Parent, Anim != 191)
time			= (IfElse((Parent, Var(23) = 8), 350,275))
movetime		= (IfElse((Parent, Var(23) = 8), 350,275))
persistent		= 0
ignorehitpause	= 1

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, Var(23) = 1)
value			= S0,7

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, Var(23) = 2)
value			= S0,10

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, Var(23) = 3)
value			= S0,11

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, Var(23) = 4)
value			= S0,12

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 20) && (Parent, Var(23) = 5)
value			= S0,15

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, Var(23) = 6)
value			= S0,16

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, Var(23) = 7)
value			= S0,17

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 20) && (Parent, Var(23) = 8)
value			= S0,20

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 20) && (Parent, Var(23) = 9)
value			= S0,21

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 20) && (Parent, Var(23) = 10)
value			= S0,22

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 20) && (Parent, Var(23) = 11)
value			= S0,23

[State 11040: 	PlaySnd]
type			= PlaySnd
trigger1		= (Time = 20) && (Parent, Var(23) = 12)
value			= S0,(IfElse(Random <= 499,13,14))

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, StateNo != 191) && (Parent, Var(23) != 8)
anim			= 11040
id			= 11040
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 270
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 8)
anim			= 11055
id			= 11055
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 340
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 1)
anim			= 11041
id			= 11041
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 2)
anim			= 11042
id			= 11042
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 3)
anim			= 11043
id			= 11043
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 4)
anim			= 11044
id			= 11044
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 5)
anim			= 11045
id			= 11045
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 6)
anim			= 11046
id			= 11046
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 7)
anim			= 11047
id			= 11047
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 8)
anim			= 11048
id			= 11048
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 340
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 9)
anim			= 11049
id			= 11049
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 10)
anim			= 11050
id			= 11050
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 11)
anim			= 11051
id			= 11051
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040: 	Explod]
type			= Explod
trigger1		= (!Time) && (Parent, Var(23) = 12)
anim			= 11052
id			= 11052
pos			= 0,0
postype		= left
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 250
supermove		= 0
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 11040:	ParentVarSet]
type			= ParentVarSet
trigger1		= (Time = 21) && (Parent, StateNo != [191,192])
var(23)		= -1

[State 11040:	ParentVarSet]
type			= ParentVarSet
trigger1		= (Time = 21) && (Parent, StateNo = [180,182])
var(23)		= -2

[State 11040:	ParentVarSet]
type			= ParentVarSet
trigger1		= (Parent, StateNo = 192) && (Parent, AnimElem = 3, = 31)
var(23)		= 0

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11040

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11041

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11042

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11043

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11044

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11045

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11046

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11047

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 350)
id			= 11048

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11049

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11050

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11051

[State 11040:	RemoveExplod]
type			= RemoveExplod
trigger1		= (Time > 275)
id			= 11052

[State 11040:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > (IfElse((Parent, Var(23) = 8), 350,275)))

;---------------------------------------------------------------------------
;Intro Music
[Statedef 11050]
type 			= A
movetype		= I
physics		= N
anim			= 11020
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11050:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != [191,192])

;---------------------------------------------------------------------------
;WinKO Finish
[Statedef 11060]
type 			= S
movetype		= I
physics		= N
;anim			= 11060
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11060:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 11060:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 11060:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Time < 50) && (Parent, StateNo = [3000,4999])
flag			= NoMusic

[State 11060:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 11060:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 11060:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
value			= S1,28

[State 11060:	Pause]
type			= Pause
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
time			= 12
movetime		= 12

[State 11060:	EnvColor]
type			= EnvColor
trigger1		= (Time < 12) && (Parent, StateNo = [3000,4999])
value			= (Time*4),(Time*4),(Time*4)
time			= 1
under			= 1

[State 11060:	EnvShake]
type			= EnvShake
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
time			= 12
freq			= 120
ampl			= -3
phase			= 120

[State 11060:	AllPalFX]
type			= AllPalFX
trigger1		= (Time < 50)
time			= 1
add			= 0,0,0
mul			= 256,256,256
sinadd		= 0,0,0,1
invertall		= 0
color			= (Time*5)

;---------------------------------------------------------------------------
;AI Activation: Helper 1
[StateDef 9741]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9741, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9741, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = 2

[State 9741, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(3):=0
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)
trigger1 = !(var(4):=0)

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall = !(var(3) || var(9))
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = !(var(4):=1)
var(58) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = var(4):=0

[State 9741, ButtonTurnOnAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
var(58) = 1

[State 9741, ButtonTurnOffAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9741, UnPauseCheck]
type = VarSet
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(2) = 2
trigger8 = var(2):=0
var(2) = 2

[State 9741, Goodbye]
type = DestroySelf
triggerall = var(1):=1
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2

;---------------------------------------------------------------------------
;AI Activation: Helper 2
[StateDef 9742]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9742, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9742, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = var(3):=2

[State 9742, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(3):=0
var(2) = var(3):=1

[State 9742, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = var(6):=0
var(6) = 1

[State 9742, BufferCheck]
type = VarSet
trigger1 = var(3) || var(4) || var(10)
var(10) = var(6)

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(7):=0
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = Parent,command = "a"
trigger1 = Partner,command = "a"
trigger2 = Parent,command = "b"
trigger2 = Partner,command = "b"
trigger3 = Parent,command = "c"
trigger3 = Partner,command = "c"
trigger4 = Parent,command = "x"
trigger4 = Partner,command = "x"
trigger5 = Parent,command = "y"
trigger5 = Partner,command = "y"
trigger6 = Parent,command = "z"
trigger6 = Partner,command = "z"
trigger7 = Parent,command = "start"
trigger7 = Partner,command = "start"
trigger8 = var(8):=0
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(6)
trigger1 = !(var(9) || var(10))
var(58) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5) && var(7)
trigger1 = !(var(2) || var(8))
var(58) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !(var(2) || var(8))
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = var(2) = 2
trigger2 = var(2):=0
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6) || var(7)
trigger2 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = var(1):=1
var(5) = !var(7)

;===========================================================================
;-| Common |----------------------------------------------------------------

;---------------------------------------------------------------------------
;Stand
[Statedef 0]
type 			= S
movetype		= I
physics		= S
;anim			= 0
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 0:		AssertSpecial]
type			= AssertSpecial
trigger1		= (IsHelper(11030))
flag			= Invisible

[State 0:		CtrlSet]
type			= CtrlSet
trigger1		= (PrevStateNo = 20) && (!Ctrl) && (RoundState = 2)
trigger2		= (PrevStateNo = 8030) && (!Ctrl) && (RoundState = 2)
value			= 1

[State 0:		ChangeAnim]
type 			= ChangeAnim
trigger1 		= ((Anim != [0,2]) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value			= 2

[State 0: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
y 			= 0

[State 0: 		VelSet] 
type 			= VelSet
trigger1 		= (Abs(Vel X) < 2) || (Time = 4)
x 			= 0

[State 0:		PlaySnd]
type			= PlaySnd
trigger1		= (Anim = 2) && ((GameTime%100) = 0) && (NumExplod(9700) = 0)
value			= S1,4

[State 0: 		Explod]
type			= Explod
trigger1		= (Anim = 2) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Random <= 499)
anim			= 9820
id			= 9820
pos			= -33,-58
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -0.1,IfElse(Random <= 499,-0.5,-0.7)
accel			= 0,0
random		= 5,5
removetime		= 40
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.15,0.15
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 0: 		Explod]
type			= Explod
trigger1		= (Anim = 2) && (NumExplod(9821) = 0)
anim			= 9820
id			= 9821
pos			= -33,-58
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.3,0.3
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0: 		Explod]
type			= Explod
trigger1		= (Anim = 2) && ((GameTime%20) = 0) && (NumExplod(9820) < 6) && (Random <= 499)
anim			= 9820
id			= 9820
pos			= 27,-57
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -0.1,IfElse(Random <= 499,-0.5,-0.7)
accel			= 0,0
random		= 5,5
removetime		= 40
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.15,0.15
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 0: 		Explod]
type			= Explod
trigger1		= (Anim = 2) && (NumExplod(9822) = 0)
anim			= 9820
id			= 9822
pos			= 27,-57
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.3,0.3
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0:		Explod]
type			= Explod
trigger1		= (Anim = 2) && ((GameTime%100) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-15
postype		= p1
facing		= IfElse(Random <= 499,1,-1)
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 0:		RemoveExplod]
type			= RemoveExplod
trigger1		= (Anim != 2)
id			= 9821

[State 0:		RemoveExplod]
type			= RemoveExplod
trigger1		= (Anim != 2)
id			= 9822

[State 0:		DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper(9630)) || (IsHelper(9631)) || (IsHelper(11000)) || (IsHelper(11030)) || (IsHelper(9601))

;---------------------------------------------------------------------------
;Stand to Crouch
[Statedef 10]
type 			= C
movetype		= I
physics		= C
anim			= 10
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 10: 		VelMul]
type 			= VelMul
trigger1 		= (!Time)
x 			= .75

[State 10: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 11

[State 10:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Crouching
[Statedef 11]
type 			= C
movetype		= I
physics		= C
anim			= 11
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11: 		ChangeAnim] 
type 			= ChangeAnim
trigger1 		= (Anim = 6) && (!AnimTime)
value 		= 11

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (RoundState != 2)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Crouch to Stand
[Statedef 12]
type 			= S
movetype		= I
physics		= S
anim			= 12
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 12: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

[State 12:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Walk
[Statedef 20]
type 			= S
movetype		= I
physics		= S
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdfwd")
x 			= Const(Velocity.Walk.Fwd.X)

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdback")
x 			= Const(Velocity.Walk.Back.X)

[State 20: 		PlaySnd]
type			= PlaySnd
trigger1		= ((TimeMod = 40, 1) && (Command = "holdfwd")) ^^ ((AnimElem = 4) && (Command = "holdback"))
value			= S1,26

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X > 0)
trigger1 		= ((Anim != 20) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 20

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X < 0)
trigger1 		= ((Anim != 21) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 21

[State 20:		PlaySnd]
type			= PlaySnd
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
value			= S1,4

[State 20:		Explod]
type			= Explod
trigger1		= ((GameTime%100) = 0) && (NumExplod(9700) = 0)
anim			= (IfElse(Var(13) = 0,9700,9710))
id			= 9700
pos			= 0,-15
postype		= p1
facing		= IfElse(Random <= 499,1,-1)
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 20,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 20:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Jump Start
[Statedef 40]
type 			= S
movetype		= I
physics		= S
anim			= 40
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (EnemyNear, Facing = Facing)
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback")
sysvar(1) 		= -1

[State 40:		Null]
type			= Null
trigger1		= (!Time)
trigger1		= (Var(0) := 0)
trigger2		= (Var(0) = 0) && (Command = "Long Jump")
trigger2		= (Var(0) := (IfElse((PrevStateNo = [0,40]),1,2)))
trigger3 		= (!AnimTime) && (Var(0) = 2)
trigger3 		= (Var(0) := 3)
trigger4		= (PrevStateNo = [100,106])
trigger4		= (Var(0) := 1)

[State 40:		Pause]
type			= Pause
trigger1		= (Var(0) = 2) && ((GameTime%3) = 0)
time			= 1
movetime		= 1

[State 40:		Explod]
type			= Explod
trigger1		= (!AnimTime)
anim			= 9400
id			= 9400
pos			= (IfElse(SysVar(1) = 1,-10,10)),10
postype		= p1
facing		= (IfElse(SysVar(1) = 1,1,-1))
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 40:		Explod]
type			= Explod
trigger1		= (!AnimTime) && (SysVar(1) = 0)
anim			= 9400
id			= 9400
pos			= -10,10
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 40:		PlaySnd]
type			= PlaySnd
trigger1		= (!AnimTime)
value			= S1,8

[State 40:		VelSet]
type			= VelSet
trigger1		= (Pos Y < 0)
x			= 0
y			= 0

[State 40: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= 0

[State 40: 		VelSet]
type 			= VelSet
trigger1 		= (!AnimTime)
x 			= IfElse(SysVar(1) = 0,Const(Velocity.Jump.Neu.X),IfElse(SysVar(1) = 1,Const(Velocity.Jump.Fwd.X),Const(Velocity.Jump.Back.X)))
y 			= IfElse(Var(0) < 2,(Const(Velocity.Jump.Y)),-6)

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;AirJump Start
[Statedef 45]
type 			= A
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(44))
value 		= 44

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!SelfAnimExist(44))
value 		= 41

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback")
sysvar(1) 		= -1

[State 45: 		VelSet]
type 			= VelSet
trigger1 		= (Time = 2)
x 			= IfElse(SysVar(1) = 0, Const(Velocity.AirJump.Neu.X), IfElse(SysVar(1) = 1, Const(Velocity.AirJump.Fwd.X), Const(Velocity.AirJump.Back.X)))
y 			= Const(Velocity.AirJump.Y)

[State 45: 		ChangeState]
type 			= ChangeState
trigger1 		= (Time = 2)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;Jump Up
[Statedef 50]
type 			= A
movetype		= I
physics		= A
;anim			= 50
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 50:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= IfElse((Vel X) = 0,41,IfElse((Vel X) > 0,42,43))

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (SelfAnimExist(Anim + 3))
value 		= (Anim + 3)
persistent 		= 0

[State 50: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 50:		Pause]
type			= Pause
trigger1		= (Var(0) = 3) && ((GameTime%3) = 0)
time			= 1
movetime		= 1

[State 50: 		VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0) = 1)
x 			= IfElse((Vel X) = 0,0,IfElse((Vel X) < 0,-5,5.5))

[State 50: 		VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0) = 3)
x 			= IfElse((Vel X) = 0,0,IfElse((Vel X) < 0,-4.5,5))

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (!Time) && (Var(0) = 1)
y			= -0.10

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (Var(0) = 3)
y			= 0.075

[State 50: 		AfterImage]
type 			= AfterImage
trigger1 		= ((!Time) && (Var(0) > 0) && (Vel X != 0))
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

;---------------------------------------------------------------------------
;Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
;Jump Land
[Statedef 52]
type 			= S
movetype		= I
physics		= S
;anim			= 47
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 52: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 47)
value 		= 47

[State 52: 		HitOverride]
type 			= Null ;HitOverride
trigger1 		= (PrevStateNo != 8030)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 52:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -15)
value			= 0
movecamera		= 0,0

[State 52:		CtrlSet]
type			= CtrlSet
trigger1		= (Time = 2) && (BackEdgeBodyDist > -15)
value			= 1

[State 52: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
x			= 0
y 			= 0

[State 52: 		PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 52:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (PrevStateNo != 8030)
value			= S1,15

[State 52:		Explod]
type			= Explod
trigger1		= (!Time) && (PrevStateNo != 8030)
anim			= 9430
id			= 9430
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= -2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 52: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= IfElse(BackEdgeBodyDist <= -15,100,0)

;---------------------------------------------------------------------------
;Run_Fwd
[Statedef 100]
type 			= S
movetype		= I
physics		= N
;anim			= 100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 100: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (Anim != 100)
value 		= 100

[State 100: 	HitOverride]
type 			= Null ;HitOverride
trigger1 		= (Var(25) < 2)
time 			= 1
slot 			= 1
attr 			= SCA, AA, AP
stateno 		= 8030

[State 100: 	AssertSpecial]
type 			= AssertSpecial
trigger1 		= 1
flag 			= NoWalk
flag2 		= NoAutoTurn

[State 100:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
statetype		= A

[State 100:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 100:		VelSet]
type			= VelSet
trigger1		= (!Time) && (PrevStateNo != 8030) && (Pos Y >= 0)
x			= 0
y			= 0

[State 100: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2)
x 			= Const(Velocity.Run.Fwd.X)

[State 100:		VelMul]
type			= VelMul
trigger1		= (!Time) && (PrevStateNo != 8030) && (Pos Y < 0)
y			= 0.25

[State 100:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,3

[State 100:		Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 100:		Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 100: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 15
timegap		= 2
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 100:		VarAdd]
type			= VarAdd
trigger1		= (NumTarget(100)) && (MoveHit)
var(15)		= 1
persistent		= 0
ignorehitpause	= 1

[State 100:		Helper]
type 			= Helper
trigger1 		= (NumTarget(100)) && (MoveContact)
helpertype 		= Normal
name 			= "Disperse Effect"
id 			= 9820
pos 			= Floor((P2Dist X)-(10)),-50
postype 		= p1
stateno 		= 9820
keyctrl		= 0
ownpal		= 1
persistent		= 0
ignorehitpause	= 1

[State 100:		EnvColor]
type			= EnvColor
trigger1 		= (NumTarget(100)) && (MoveHit)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 100:		PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && ((EnemyNear, Vel X > 5) || (P2StateNo = 100) || ((P2MoveType = H) && (P2StateType = A)))
value			= 0

[State 100:		StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 2, > 0) && ((EnemyNear, Vel X > 5) || (P2StateNo = 100))
movetype		= A

[State 100:		StateTypeSet]
type			= StateTypeSet
trigger1		= (AnimElem = 2, > 0) && (EnemyNear, Vel X <= 5) && (P2StateNo != 100)
movetype		= I

[State 100:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, > 0) && (EnemyNear, Facing != Facing) && ((EnemyNear, Vel X > 5) || (P2StateNo = 100))
attr			= S, NA
hitflag		= MAFD
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage 		= Ceil(IfElse(Var(15) >= 2, IfElse((52*(24-Var(15)+2)/32) > 0, 52*(24-Var(15)+2)/32,5),52))
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= S9120
guard.sparkno	= S9130
sparkxy		= 10,-50
hitsound		= S2,6
guardsound		= S2,7
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.6
ground.velocity	= 0
guard.velocity	= -8
air.velocity	= 0,-0.5
airguard.velocity	= 0,-0.5
ground.cornerpush.veloff = -8
id			= 100
getpower		= 26
givepower		= 26
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -3

[State 100:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 52

[State 100:		ChangeState]
type			= ChangeState
triggerall 		= (BackEdgeBodyDist > -5) && (Var(2) <= 0)
trigger1		= ((Pos Y >= 0) && (Time > 10) && (Command != "holdfwd")) || ((Pos Y < 0) && (Time > 20))
value			= 101

[State 100:		ChangeState]
type			= ChangeState
triggerall 		= (BackEdgeBodyDist > -5) && (Var(2) > 0)
trigger1		= ((P2Dist X <= 50) && (EnemyNear, Vel X <= 5)) || (P2Dist X <= -20)
value			= 101

;---------------------------------------------------------------------------
;Run_Fwd - Stop
[Statedef 101]
type 			= S
movetype		= I
physics		= N
anim			= 101
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 101:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 100:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
statetype		= A
physics		= A

[State 101:		VelSet]
type			= VelSet
trigger1		= (!Time) && (Pos Y >= 0)
x			= 1
y			= 0

[State 101:		Explod]
type			= Explod
trigger1		= (AnimElem = 1) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 101: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) && (Pos Y >= 0)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Run_Back
[Statedef 105]
type 			= S
movetype		= I
physics		= N
anim			= 105
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 105: 	AssertSpecial]
type 			= AssertSpecial
trigger1 		= 1
flag 			= NoWalk
flag2 		= NoAutoTurn

[State 105:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
statetype		= A

[State 105:		VelSet]
type			= VelSet
trigger1		= (!Time) && (Pos Y >= 0)
x			= 0
y			= 0

[State 105: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2)
x			= Const(Velocity.Run.Back.X)

[State 105:		VelMul]
type			= VelMul
trigger1		= (!Time) && (Pos Y < 0)
y			= 0.25

[State 105:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,3

[State 105:		Explod]
type			= Explod
trigger1		= (AnimElem = 2, > 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 105:		Explod]
type			= Explod
trigger1		= (AnimElem = 2) && (Pos Y > -30)
anim			= 9410
id			= 9410
pos			= 20,Ceil(Pos Y * (-1))
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 105: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 15
timegap		= 2
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 105:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 52

[State 105:		ChangeState]
type			= ChangeState
trigger1		= ((Pos Y >= 0) && (Time > 10) && (Command != "holdback")) || ((Pos Y < 0) && (Time > 20))
value			= 106

;---------------------------------------------------------------------------
;Run_Back - Stop
[Statedef 106]
type 			= S
movetype		= I
physics		= N
anim			= 106
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 106:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
statetype		= A
physics		= A

[State 106: 	VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Pos Y >= 0)
x 			= -1
y			= 0

[State 101:		Explod]
type			= Explod
trigger1		= (AnimElem = 1) && (Pos Y > -30)
anim			= 9400
id			= 9400
pos			= -20,Ceil(Pos Y * (-1))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 106: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) && (Pos Y >= 0)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
;Run_Up
[Statedef 110]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 110: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 110: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, NT, ST, HT
time 			= 30

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= -7

[State 110: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 110: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Run_Down
[Statedef 115]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 115: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 115: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, AT
time 			= 30

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= 7

[State 115: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 115: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Guard Start
[Statedef 120]
type 			= U 
physics 		= U

[State 120: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 120 + (StateType = C) + (StateType = A)*2

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

[State 120: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 130 + (StateType = C) + (StateType = A)*2

[State 120:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") || (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Stand Guard (Guarding)
[Statedef 130]
type 			= S
physics		= S

[State 130:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 130: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 130)
value 		= 130

[State 130:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 130:		ChangeState]
type 			= ChangeState
trigger1 		= (Command = "holddown")
value 		= 131

[State 130:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") || (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Crouch Guard (Guarding)
[Statedef 131]
type 			= C
physics		= C

[State 131:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 131: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 131)
value 		= 131

[State 131:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 131:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holddown")
value 		= 130

[State 131:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") || (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Air Guard (Guarding)
[Statedef 132]
type 			= A
physics		= N

[State 132: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 132: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 132: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 132: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 132:		ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command = "holdback") && (InGuardDist)
value 		= 130

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 52

[State 132:		ChangeState]
type 			= ChangeState
trigger1 		= (Command != "holdback") && (!InGuardDist)
value 		= 140

;---------------------------------------------------------------------------
;Guard End
[Statedef 140]
type 			= U
physics 		= U
ctrl 			= 1

[State 140: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 140 + (StateType = C) + (StateType = A)*2

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

[State 140:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 140:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 140:		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= (StateType = C)*11 + (StateType = A)*51

;---------------------------------------------------------------------------
;Stand GuardHit (Shaking)
[Statedef 150]
type 			= S
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 150: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 150

[State 150: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 151 + 2*(Command = "holddown")

[State 150:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 150:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 150:		PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 150: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 3

;---------------------------------------------------------------------------
;Stand GuardHit (Knocked Back)
[Statedef 151]
type 			= S
movetype		= H
physics		= S
anim			= 150
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 151: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 151: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 151: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 151:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 151:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 151: 	ChangeState]
type 			= ChangeState
trigger1 		= Time >= GetHitVar(hittime)
value 		= 130
ctrl 			= 1

;---------------------------------------------------------------------------
;Crouch GuardHit (Shaking)
[Statedef 152]
type 			= C
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 152: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 151

[State 152: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 151 + 2*(Command = "holddown")

[State 152:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 152:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 152:		PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 152: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Crouch GuardHit2 (Knocked Back)
[Statedef 153]
type 			= C
movetype		= H
physics		= C
anim			= 151
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 153: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 153: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 153: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 153:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = S) && (Command = "holddown")
statetype 		= C
physics 		= C

[State 153:		StateTypeSet]
type 			= StateTypeSet
trigger1 		= (StateType = C) && (Command != "holddown")
statetype 		= S
physics 		= S

[State 153: 	ChangeState]
type 			= ChangeState
trigger1 		= (Time >= GetHitVar(HitTime))
value 		= 131
ctrl 			= 1

;---------------------------------------------------------------------------
;Air GuardHit (Shaking)
[Statedef 154]
type 			= A
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 154: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 152

[State 154:		PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 154: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 155 

[State 154: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Air GuardHit2 (Knocked Away)
[Statedef 155]
type 			= A
movetype		= H
physics		= N
anim			= 152
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 155: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 155: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 155: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 155: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 155: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
trigger1 		= (Command != "holdback") && (InGuardDist)
value 		= 52

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Lose (Time Over)
[Statedef 170]
type 			= S
movetype		= I
physics		= N
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 170: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Draw Game (Time Over)
[Statedef 175]
type 			= S
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 175: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (!SelfAnimExist(175))
value 		= 170

[State 175: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 175

[State 175: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;HitGround_Shake
[Statedef 5000]
type 			= S
movetype		= H
physics		= N
;anim			= 5000
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= IfElse((GetHitVar(GroundType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType)))
value 		= 5047 + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Time > 0)
value 		= Anim

[State 5000: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (GetHitVar(YVel) != 0) && (GetHitVar(Fall)) || (Pos Y != 0)
type 			= A

[State 5000:	VarSet]
type			= VarSet
trigger1		= (!Time) && (PrevStateNo != [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5000:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo = [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5000:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 5000: 	PlaySnd]
type 			= PlaySnd
triggerall 		= (Random < 250) && (Time = 1)
trigger1 		= (Anim = 5000) || (Anim = 5001) || (Anim = 5002) || (Anim = 5010) || (Anim = 5011) || (Anim = 5012)
value 		= S0,(IfElse(Random <= 499,1,2))

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(YVel) = 0)
value 		= 5001

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5000) || (Anim = 5010)
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5001) || (Anim = 5011)
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030)
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    		= S
movetype		= H
physics 		= S

[State 5001:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
physics		= N

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y >= 0)
x 			= 1

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y < 0)
x 			= 1
y			= 1

[State 5001: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(slidetime)) && (Pos Y >= 0)
x 			= .6

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y >= 0)
x 			= 0

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y < 0)
x 			= 0
y			= 0

[State 5001: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= (HitOver)
value 		= 1

[State 5001: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitOver)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    		= C
movetype		= H
physics 		= N
velset 		= 0,0

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= 5020 + GetHitVar(AnimType)

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && ((GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype))))
value 		= 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= Time > 0
value 		= Anim

[State 5010:	VarSet]
type			= VarSet
trigger1		= (!Time) && (PrevStateNo != [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5010:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo = [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5010:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 5010: 	PlaySnd]
type 			= PlaySnd
trigger1		= (Random < 250) && (Time = 1)
value 		= S0,1

[State 5010: 	PlaySnd]
type 			= PlaySnd
trigger1		= (Random < 250) && (Time = 1)
value 		= S0,(IfElse(Random <= 499,1,2))

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(yvel) = 0)
value 		= 5011

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5010: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= Anim = 5020
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5010: 	FFB Medium]
type 			= ForceFeedback
trigger1 		= Anim = 5021
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5010: 	FFB Hard]
type 			= ForceFeedback
trigger1 		= Anim = 5022
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

[State 5010:	DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper(11000)) || (IsHelper(11030)) || (IsHelper(9601))

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    		= C
movetype		= H
physics 		= C

[State 5011: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 5011: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5025 + GetHitVar(AnimType)

[State 5011: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(SlideTime))
x 			= .6

[State 5011: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver)
x 			= 0

[State 5011: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= (HitOver)
value 		= 1

[State 5011: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitOver)
value 		= 11
ctrl 			= 1

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (GetHitVar(AnimType) != [3,5])
value			= IfElse((GetHitVar(AirType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (GetHitVar(AnimType) = [3,5])
value			= 5030

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) 
trigger1		= (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType)))
value			= 5047 + GetHitVar(AnimType)

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Time > 0)
value			= Anim

[State 5020:	VarSet]
type			= VarSet
trigger1		= (!Time) && (PrevStateNo != [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5020:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo = [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5020:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 5020:	ChangeState]
type			= ChangeState
trigger1		= (HitShakeOver)
value			= 5030

[State 5020:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5000) || (Anim = 5010)
time			= 6
waveform		= Square
persistent		= 0

[State 5020:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5001) || (Anim = 5011)
time			= 8
waveform		= SineSquare
ampl			= 110,-1,-.3
persistent 		= 0

[State 5020:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030) || (Anim = [5051,5059])
time			= 15
waveform		= SineSquare
ampl			= 140
persistent		= 0

[State 5020:	DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper(11000)) || (IsHelper(11030)) || (IsHelper(9601))

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    		= A
movetype		= H
physics 		= N
ctrl 			= 0

[State 5030:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5030:	HitVelSet]
type			= HitVelSet
trigger1		= (!Time)
x			= 1
y			= 1

[State 5030:	ChangeState]
type			= ChangeState
triggerall		= (!HitFall)
trigger1		= (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value			= IfElse(Var(20) = 0,5040,8021)

[State 5030:	ChangeState]
type			= ChangeState
triggerall		= HitFall
trigger1		= (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value			= 5050

[State 5030:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Var(20) = 0,5035,8021)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 5035]
type			= A
movetype		= H
physics		= N

[State 5035:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (SelfAnimExist(5035)) && (Anim != [5051,5059]) && (Anim != 5090)
value			= 5035

[State 5035:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5035:	ChangState]
type			= ChangeState
triggerall		= (!HitFall) || (HitFall)
trigger1		= (HitOver) || (!AnimTime) || ((Vel Y > 0) && (Pos Y >= 10)) || ((!Time) && (Anim != 5035))
value			= IfElse(!HitFall,5040,5050)

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 5040]
type			= A
movetype		= H
physics		= N

[State 5040:	ChangeState]
type			= ChangeState
trigger1		= (!Alive)
value			= 5050

[State 5040:	ChangeAnim]
type			= ChangeAnim
trigger1		= ((!AnimTime) && (Anim != 5040)) || ((!Time) && (Anim != 5035))
value			= 5040

[State 5040:	CtrlSet]
type			= CtrlSet
trigger1		= (HitOver)
value			= 1

[State 5040:	StateTypeSet]
type			= StateTypeSet
trigger1		= (HitOver)
movetype		= I

[State 5040:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5040:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 0) && (Var(20) = 0)
value			= 52

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    		= A
movetype		= H
physics		= N

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 5035)
trigger2		= (!Time) && (Anim != 5035) && (Anim != [5051, 5059]) && (Anim != [5061, 5069]) && (Anim != 5090)
value			= 5050

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = [5050,5059]) && (Vel Y >= IfElse(Anim = 5050,1,-2)) && (SelfAnimExist(Anim+10))
value			= (Anim+10)
persistent		= 0

[State 5050:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(YAccel)

[State 5050:	ChangeState]
type			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= IfElse((Anim = [5051,5059]) || (Anim = [5061,5069]),0,25))
value 		= 5100

;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 5070]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
trigger1 		= (PrevStateNo != 100) || (Vel X < 5)
value 		= 5070

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5071

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (!SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5070

[State 5070:	VarSet]
type			= VarSet
trigger1		= (!Time) && (PrevStateNo != [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5070:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo = [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5070:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 5070:	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= 5071

[State 5070:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
time			= 12
waveform		= sinesquare
ampl			= 140

[State 5070:	DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper(11000)) || (IsHelper(11030)) || (IsHelper(9601))

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    		= A
movetype		= H
physics 		= N

[State 5071: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 5071:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= GetHitVar(YAccel)

[State 5071: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 15)
value 		= 5110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 5080]
type			= L
movetype		= H
physics		= N
velset		= 0,0

[State 5080:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(2)		= IfElse(GetHitVar(YVel) = 0, 5080, 5090)

[State 5080:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && ((Anim = [5081,5089]) || (Anim = [5111,5119])) && (SelfAnimExist(SysVar(2) + (Anim%10)))
sysvar(2)		= (Anim%10)

[State 5080:	VarSet]
type			= VarSet
trigger1		= (!Time) && (SysVar(2) = 5090) && (!SelfAnimExist(5090))
sysvar(2)		= 5030

[State 5080:	ChangeAnim]
type			= ChangeAnim
trigger1		= 1
value			= SysVar(2)

[State 5080:	VarSet]
type			= VarSet
trigger1		= (!Time) && (PrevStateNo != [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5080:	VarAdd]
type			= VarAdd
trigger1		= (!Time) && (PrevStateNo = [5000,5110])
var(16)		= (GetHitVar(Damage))

[State 5080:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time)
value			= (GetHitVar(Damage)*2)

[State 5080:	ChangeState]
type			= ChangeState
trigger1		= (HitShakeOver)
value			= IfElse(GetHitVar(YVel) = 0,5081,5030)

[State 5080:	DestroySelf]
type			= DestroySelf
trigger1		= (IsHelper(11000)) || (IsHelper(11030)) || (IsHelper(9601))

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 5081]
type			= L
movetype		= H
physics		= C

[State 5081:	HitVelSet]
type			= HitVelSet
trigger1		= (!Time)
x			= 1

[State 5081:	VelSet]
type			= VelSet
trigger1		= (HitOver)
x			= 0

[State 5081:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(0)		= 1

[State 5081:	ChangeState]
type			= ChangeState
trigger1		= (HitOver)
value			= 5110

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type			= L
movetype		= H
physics		= N

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0) && (Vel X > 1)
x			= 1

[State 5100:	EnvShake]
type			= null;FallEnvShake
trigger1		= (!Time)

[State 5100:	EnvShake]
type 			= EnvShake
trigger1 		= (PrevStateNo != [5080,5081])
time 			= 15
freq 			= 140
ampl 			= -3
phase 		= 120
persistent 		= 0

[State 5100:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(1)		= Floor(Vel Y)

[State 5100:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= ((Anim != [5051,5059]) && (Anim != [5061,5069])) || (!SelfAnimExist(5100 + (Anim % 10)))
value			= 5100

[State 5100:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5051,5059]) || (Anim = [5061,5069])) && (SelfAnimExist(5100 + (Anim % 10)))
value			= 5100 + (Anim % 10)

[State 5100:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelMul]
type			= VelMul
trigger1		= (!Time)
x			= 0.75

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Random < 250) && (Time = 1)
value 		= S0,IfElse(Random <= 499,1,2)

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Time = 1)
value 		= S1,23

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0)
value			= 5110

[State 5100:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (Time = 1)
pos			= 0,0
under			= SysVar(1) <= 10
value			= (60 + (SysVar(1) > 5) + (SysVar(1) > 14))

[State 5100:	HitFallDamage]
type			= HitFallDamage
trigger1		= (Time = 3)

[State 5100:	PosFreeze]
type			= PosFreeze
trigger1		= 1

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 5101

[State 5100:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
waveform		= SineSquare
ampl			= 128,-3,-.2,.005
time			= 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type			= L
movetype		= H
physics		= N

[State 5101:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= (Anim != [5101,5109]) || (!SelfAnimExist(5160 + (Anim % 10)))
value			= 5160

[State 5101:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= (Anim = [5101,5109]) && (SelfAnimExist(5160 + (Anim % 10)))
value			= 5160 + (Anim % 10)

[State 5101:	HitFallVel]
type			= HitFallVel
trigger1		= (!Time)

[State 5101:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 20

[State 5101:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= 0.40

[State 5101:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= 12)
value			= 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type			= L
movetype		= H
physics		= N

[State 5110:	FallEnvShake]
type			= null;FallEnvShake
trigger1		= (!Time)

[State 5110:	EnvShake]
type 			= EnvShake
trigger1 		= (PrevStateNo != [5080,5081])
time 			= 15
freq 			= 140
ampl 			= -3
phase 		= 120
persistent 		= 0

[State 5110:	ChangeAnim]
type			= ChangeAnim
trigger1		= (SelfAnimExist(5110 + (Anim % 10))) && (Anim = [5081,5089])
value			= 5110 + (Anim % 10)
persistent		= 0

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (Anim != [5110,5119])
trigger1		= (Anim != [5161,5169]) || (!SelfAnimExist(5170 + (Anim % 10)))
value			= 5170

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (Anim != [5110,5119])
trigger1		= (Anim = [5161,5169]) && (SelfAnimExist(5170 + (Anim % 10)))
value			= 5170 + (Anim % 10)

[State 5110:	HitFallDamage]
type			= HitFallDamage
trigger1		= (!Time)

[State 5110:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5110:	VarSet]
type			= VarSet
trigger1		= (!Time) && (GetHitVar(fall.YVel) != 0)
sysvar(1)		= Floor(Vel Y)

[State 5110: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time) && (!SysVar(0))
value 		= S1,23

[State 5110:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (!Time) && (!SysVar(0))
pos			= 0,0
under			= SysVar(1) <= 10
value			= 60 + (SysVar(1) > 5) + (SysVar(1) > 14)

[State 5110:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Anim = [5171,5179]) && (SelfAnimExist(5110 + (Anim % 10)))
trigger1		= (!AnimTime) || (SysVar(0))
value			= 5110 + (Anim % 10)
persistent		= 0

[State 5110:	ChangeAnim]
type			= ChangeAnim
triggerall		= (Anim != [5111,5119])
trigger1		= (!AnimTime) || (SysVar(0))
value			= 5110
persistent		= 0

[State 5110:	ChangeState]
type			= ChangeState
triggerall		= (!Alive)
trigger1		= (!AnimTime) || (SysVar(0)) || (Anim = [5110,5119])
value			= 5150

[State 5110:	VarSet]
type			= VarSet
trigger1		= (SysVar(0)) && (!Time)
sysvar(0)		= 0

[State 5110:	VelMul]
type			= VelMul
trigger1		= 1
x			= 0.85

[State 5110:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (Alive) && (!Time)
time			= 8
ampl			= 240
waveform		= Sine

[State 5110:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Alive) && (!Time)
ampl			= 200,7,-.467
time			= 30
waveform		= Sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type			= L
movetype		= I
physics		= N

[State 5120:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim != [5111,5119]) || (!SelfAnimExist(5120 + (Anim % 10))))
value			= 5120

[State 5120:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim = [5111,5119]) && (SelfAnimExist(5120 + (Anim % 10)))
value			= 5120 + (Anim % 10)

[State 5120: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= 0

[State 5120:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA
time			= 10

[State 5120:	HitFallSet]
type			= HitFallSet
trigger1		= (!AnimTime)
value			= 1

[State 5120:	NotHitBy]
type			= NotHitBy
trigger1		= (!AnimTime)
value			= , NT,ST,HT
time			= 12

[State 5120:	NotHitBy]
type			= NotHitBy
trigger1		= (!AnimTime)
value2		= SCA
time			= 3

[State 5120:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type			= L
movetype		= H
physics		= N
sprpriority		= -3

[State 5150:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time) && (SelfAnimExist(5140))
trigger1		= ((Anim != [5111,5119]) && (Anim != [5171,5179])) || (!SelfAnimExist(5140 + (Anim % 10)))
value			= 5140

[State 5150:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5111,5119]) || (Anim = [5171,5179])) && (SelfAnimExist(5140 + (Anim % 10)))
value			= 5140 + (Anim % 10)

[State 5150:	ChangeAnim]
type			= ChangeAnim
trigger1		= (MatchOver = 1) && (Anim = [5140,5149]) && (SelfAnimExist(Anim + 10))
value			= Anim + 10
persistent		= 0

[State 5150:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != [5140,5159]) && (Anim != [5110,5119])
value			= 5110

[State 5150:	VelMul]
type			= VelMul
trigger1		= 1
x			= 0.85

[State 5150:	VelSet]
type			= VelSet
trigger1		= (Vel X < .05)
x			= 0
persistent		= 0

[State 5150:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA
time			= 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type			= A
movetype		= H
physics 		= N

[State 5200:	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim = 5035) && (!AnimTime)
value 		= 5050

[State 5200:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= 0.35

[State 5200:	SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= 10)
value 		= 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type			= A
movetype		= H
physics		= A
anim			= 5200

[State 5201: 	Turn]
type 			= Turn
trigger1 		= (!Time) && (P2Dist X < -5)

[State 5201: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= -.15
y 			= -3.5

[State 5201: 	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 5201: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 5201: 	PalFX]
type 			= PalFX
trigger1 		= (!Time)
time 			= 5
add 			= 128,128,128

[State 5201:	Explod]
type			= Explod
trigger1 		= (Time = 1)
anim			= F60
id			= 60
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type			= A
movetype		= I
physics		= N
anim			= 5210
ctrl			= 0

[State 5210:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 5
add			= 128,128,128

[State 5210:	PosFreeze]
type			= PosFreeze
trigger1		= (!Time)
value			= 4

[State 5210:	Turn]
type			= Turn
trigger1		= (!Time) && (P2Dist X < -20)

[State 5210:	VelMul]
type			= VelMul
trigger1		= (Time = 4)
x			= .8
y			= .8

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4)
y			= -8

[State 5210:	VelMul] 
type			= VelMul
trigger1		= (Time = 4) && (Vel Y > 0)
y			= .5

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Vel Y > -3)
y			= -2

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Vel Y > -2)
y			= -1

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Command = "holdup")
y			= -2

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Command = "holddown")
y			= 1.5

[State 5210:	VelMul]
type			= VelMul
trigger1		= (Time = 4) && (Command = "holdfwd")
x			= 1

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time = 4) && (Command = "holdback")
x			= -1

[State 5210:	NotHitBy]
type			= NotHitBy
trigger1		= (!Time)
value			= SCA
time			= 15

[State 5210:	CtrlSet]
type			= CtrlSet
trigger1		= (Time = 20)
value			= 1

[State 5210:	VelAdd]
type			= VelAdd
trigger1		= (Time >= 4)
y			= 0.35

[State 5210: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 0)
value 		= 52
ctrl 			= 1

;---------------------------------------------------------------------------
;Dizzy State
[Statedef 5300]
type 			= S
movetype		= I
physics 		= S
anim 			= 5300
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5300: 	SelfState]
type 			= SelfState
trigger1 		= (Time > 200)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
;Continue?
[Statedef 5500]
type 			= S
anim 			= 5300
velset 		= 0,0
ctrl 			= 0

[State 5500: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (SelfAnimExist(5500))
value 		= 5500

;---------------------------------------------------------------------------
;Initialize
[Statedef 5900]
type 			= S
anim			= 190

[State 5900:	VarSet]
type			= VarSet
trigger1		= (!RoundsExisted)
var(58)		= 0

[State 5900:	AssertSpecial]
type			= AssertSpecial
trigger1		= (RoundNo = 1)
flag			= Intro
flag2			= NoMusic

[State 5900:	ChangeState] 
type 			= ChangeState
trigger1		= (!Time) && (RoundNo = 1) && ((P2Name = "[Necromancer's] Gohan") || (P4Name = "[Necromancer's] Gohan") || (P2Name = "Gohan") || (P4Name = "Gohan"))
value 		= 193

[State 5900:	ChangeState] 
type 			= ChangeState
triggerall		= (!Time) && (RoundNo = 1)
trigger1		= (P2Name = "[FlowaGirl's] Piccolo") || (P4Name = "[FlowaGirl's] Piccolo") || (P2Name = "[Necromancer's] Piccolo") || (P4Name = "[Necromancer's] Piccolo") || (P2Name = "Piccolo") || (P4Name = "Piccolo")
trigger2		= (P2Name = "[Necromancer's] Vegeta") || (P4Name = "[Necromancer's] Vegeta") || (P2Name = "Vegeta") || (P4Name = "Vegeta")
trigger3		= (P2Name = "[Necromancer's] Trunks") || (P4Name = "[Necromancer's] Trunks") || (P2Name = "Trunks") || (P4Name = "Trunks")
trigger4		= (P2Name = "[Necromancer's] Krillen") || (P4Name = "[Necromancer's] Krillen") || (P2Name = "Krillen") || (P4Name = "Krillen")
trigger5		= (P2Name = "[Necromancer's] Roshi") || (P4Name = "[Necromancer's] Roshi") || (P2Name = "Roshi") || (P4Name = "Roshi")
trigger6		= (P2Name = "[Necromancer's] Videl") || (P4Name = "[Necromancer's] Videl") || (P2Name = "Videl") || (P4Name = "Videl")
trigger7		= (P2Name = "[Necromancer's] Goten") || (P4Name = "[Necromancer's] Goten") || (P2Name = "Goten") || (P4Name = "Goten")
trigger8		= (P2Name = "[Necromancer's] Poring") || (P4Name = "[Necromancer's] Poring") || (P2Name = "Poring") || (P4Name = "Poring")
value 		= 193

[State 5900:	ChangeState] 
type 			= ChangeState
triggerall		= (!Time) && (RoundNo = 1) && (Random <= 499)
trigger1		= (P2Name != "[Necromancer's] Goku") && (P4Name != "[Necromancer's] Goku") && (P2Name != "Goku") && (P4Name != "Goku")
value 		= 193

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (RoundNo = 1) && (IsHomeTeam) && (P2Name != "[Necromancer's] Broli") && (P4Name != "[Necromancer's] Broli")
value 		= 191

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (RoundNo = 1) && (IsHomeTeam) && ((P2Name = "[Necromancer's] Broli") || (P4Name = "[Necromancer's] Broli"))
value 		= 193

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (RoundNo = 1) && (!IsHomeTeam) && (P2Name != "[Necromancer's] Broli") && (P4Name != "[Necromancer's] Broli")
value 		= (IfElse(MatchNo = 1,191,193))

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (RoundNo = 1) && (!IsHomeTeam) && ((P2Name = "[Necromancer's] Broli") || (P4Name = "[Necromancer's] Broli"))
value 		= (IfElse(TeamSide = 1,191,193))

;===========================================================================

[Statedef -2]

;---------------------------------------------------------------------------
;Artificial Intelligence

;[State -2, StopAI]
;type = VarSet
;triggerall = var(58) > 0 && !IsHelper
;trigger1 = RoundState != 2
;trigger2 = !Alive
;var(58) = -2
;IgnoreHitPause = 1

;[State -2, Simplifier]
;type = VarSet
;triggerall = !IsHelper
;trigger1 = var(58) = 1
;trigger2 = var(2):=0
;var(2) = 1
;IgnoreHitPause = 1

;---------------------------------------------------------------------------
;Miscellaneous

[State -2:		DisplayToClipBoard]
type			= DisplayToClipBoard
trigger1		= 1
text			= "Var(2)[AI]: %d | P2Dist X: %f | Var(23)[Quote]: %d"
params		= var(2),P2Dist X,var(23)
ignorehitpause	= 1

[State -2:		AfterImageTime]
type			= AfterImageTime
trigger1		= (StateNo = [200,450])
time			= 0
ignorehitpause	= 1

[State -2:		RemoveExplod]
type			= RemoveExplod
trigger1		= (StateNo != 0) && (NumExplod(9821) > 0)
id			= 9821
ignorehitpause	= 1

[State -2:		RemoveExplod]
type			= RemoveExplod
trigger1		= (StateNo != 0) && (NumExplod(9822) > 0)
id			= 9822
ignorehitpause	= 1

[State -2: 		RemoveExplod]
type			= RemoveExplod
trigger1		= (StateNo != [3000,3010]) && (NumExplod(9890) > 0)
id 			= 9890

[State -2: 		ChangeState]
type			= ChangeState
trigger1		= (!Life) && (MoveType != H)
value			= 5050

[State -2: 		PlayerPush]
type			= PlayerPush
trigger1		= (WinKO) || (RoundState = 3)
value			= 0
ignorehitpause	= 1

[State -2:		DestroySelf]
type			= DestroySelf
triggerall		= (MoveType = H)
trigger1		= (IsHelper(9630)) || (IsHelper(9631)) || (IsHelper(11000)) || (IsHelper(11030)) || (IsHelper(9601))

;---------------------------------------------------------------------------
;Corner Juggle Limit

[State -2:		AssertSpecial]
type			= AssertSpecial
trigger1		= ((Var(9) = 0) && (Var(10) = 0)) || (Var(10) = 1)
flag			= NoJuggleCheck

[State -2:		Null]
type			= Null
trigger1		= (Var(9) := (IfElse((EnemyNear, BackEdgeBodyDist < 20) || (EnemyNear, FrontEdgeBodyDist < 20),1,0)))

;---------------------------------------------------------------------------
;Combo Detection

[State -2:		Null]
type			= Null
trigger1		= (Var(3) := 0)
trigger2		= (MoveContact) && ((StateNo = [200,250]) || (StateNo = [400,440]) || ((StateNo = [600,620]) && (Var(20) = 1)))
trigger2		= (Var(3) := 1)
trigger3		= (MoveContact) && (StateNo = [600,620])
trigger3		= (Var(3) := 2)
trigger4		= (Var(15) > 0) || (P2StateNo = [120,155])
trigger4		= ((StateNo = 1000) && (AnimElem = 3, > 5)) || ((StateNo = 1010) && (AnimElem = 3, > 5)) || ((StateNo = 1021) && (AnimElem = 1, > 5)) || ((StateNo = 1030) && (AnimElem = 3, > 5)) 
trigger4		= (Var(3) := 3)
trigger5		= (StateNo = 8030)
trigger5		= ((Anim = 1000) && (AnimElem = 3, > 5)) || ((Anim = 1010) && (AnimElem = 3, > 5)) || ((Anim = 1021) && (AnimElem = 1, > 5)) || ((Anim = 1030) && (AnimElem = 3, > 5)) 
trigger5		= (Var(3) := 3)
trigger6		= (Var(15) > 0) || (P2StateNo = [120,155])
trigger6		= ((StateNo = 2000) && (AnimElem = 3, > 5)) || ((StateNo = 2010) && (AnimElem = 3, > 5)) || ((StateNo = 2021) && (AnimElem = 1, > 5)) || ((StateNo = 2030) && (AnimElem = 3, > 5) && (BackEdgeBodyDist > -5))
trigger6		= (Var(3) := 3)
trigger7		= (StateNo = 8030)
trigger7		= ((Anim = 2000) && (AnimElem = 3, > 5)) || ((Anim = 2010) && (AnimElem = 3, > 5)) || ((Anim = 2021) && (AnimElem = 1, > 5)) || ((Anim = 2030) && (AnimElem = 3, > 5) && (BackEdgeBodyDist > -5))
trigger7		= (Var(3) := 3)
trigger8		= (Var(15) > 0) || (P2StateNo = [120,155])
trigger8		= ((StateNo = 1090) && (AnimElem = 10, > 2)) || ((StateNo = 1060) && (AnimElem = 4, > 0)) || ((StateNo = 1005) && (AnimElem = 4, > 0)) 
trigger8		= (Var(3) := 3)
trigger9		= (StateNo = 8030)
trigger9		= ((Anim = 1090) && (AnimElem = 10, > 2)) || ((Anim = 1060) && (AnimElem = 4, > 0)) || ((Anim = 1005) && (AnimElem = 4, > 0)) 
trigger9		= (Var(3) := 3)
trigger10		= (Var(15) > 0) || (P2StateNo = [120,155])
trigger10		= ((StateNo = 2090) && (AnimElem = 10, > 2)) || ((StateNo = 2060) && (AnimElem = 4, > 0))
trigger10		= (Var(3) := 3)
trigger11		= (StateNo = 8030)
trigger11		= ((Anim = 2090) && (AnimElem = 10, > 2)) || ((Anim = 2060) && (AnimElem = 4, > 0))
trigger11		= (Var(3) := 3)
trigger12		= ((StateNo = 1000) && (AnimElem = 3, > 5)) || ((StateNo = 1010) && (AnimElem = 3, > 5)) || ((StateNo = 1021) && (AnimElem = 1, > 5)) || ((StateNo = 1030) && (AnimElem = 3, > 5))
trigger12		= (Var(3) := 4)
trigger13		= ((StateNo = 2000) && (AnimElem = 3, > 5)) || ((StateNo = 2010) && (AnimElem = 3, > 5)) || ((StateNo = 2021) && (AnimElem = 1, > 5)) || ((StateNo = 2030) && (AnimElem = 3, > 5))
trigger13		= (Var(3) := 4)
trigger14		= ((StateNo = 1040) && (AnimElem = 3, > 5)) || ((StateNo = 1051) && (AnimElem = 3, > 5)) || ((StateNo = 1060) && (AnimElem = 4, > 5))
trigger14		= (Var(3) := 4)
trigger15		= ((StateNo = 2040) && (AnimElem = 3, > 5)) || ((StateNo = 2051) && (AnimElem = 3, > 5)) || ((StateNo = 2060) && (AnimElem = 4, > 5))
trigger15		= (Var(3) := 4)
trigger16		= ((StateNo = 1090) && (AnimElem = 2, > 5)) || ((StateNo = 3000) && (AnimElem = 4, > 0)) || ((StateNo = 8040) && (AnimElem = 2, > 5))
trigger16		= (Var(3) := 4)
trigger17		= ((StateNo = 2090) && (AnimElem = 2, > 5))
trigger17		= (Var(3) := 4)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Air Combo

[State -2:		StateTypeSet]
type			= StateTypeSet
triggerall		= (Var(10) = 0) && (Pos Y < 0)
trigger1		= (StateNo = 50) || (StateNo = [600,650])
physics		= A

[State -2:		StateTypeSet]
type			= StateTypeSet
triggerall		= (Var(10) = 1) && (Pos Y < 0)
trigger1		= (StateNo = 50) || (StateNo = [600,650])
physics		= N

[State -2:		VelAdd]
type			= VelAdd
trigger1		= (Var(10) = 1) && (Vel Y > 2)
y			= 0.10

[State -2:		VarSet]
type			= VarSet
trigger1		= (Pos Y >= 0) || (EnemyNear, Pos Y >= 0)
trigger2		= (StateNo = [600,650]) && ((P2BodyDist Y > 50) || (P2BodyDist Y < -50) || (P2BodyDist X < -5))
var(10)		= 0

;---------------------------------------------------------------------------
;Air Combo Timer

[State -2:		VarAdd]
type			= VarAdd
trigger1		= (Var(11) > 0) && (Pos Y >= 0)
var(11)		= -1

;---------------------------------------------------------------------------
;Move Repeat Limit Reset

[State -2:		VarSet]
type			= VarSet
trigger1		= (StateNo != [1000,1010]) && (StateNo != 1060)
trigger1		= (StateNo != [2000,2010]) && (StateNo != 2060)
var(12)		= 0

;---------------------------------------------------------------------------
;Combo Count and Damage Modifiers

[State -2:		VarSet]
type			= VarSet
trigger1		= (P2MoveType != H) && (Var(15) > 0)
var(15)		= 0

;[State -2:		DefenceMulSet]
;type			= DefenceMulSet
;trigger1		= ((MoveType = H) && (StateNo = [5000,5120]) && (GetHitVar(HitCount) > 10))
;value		= 0.40

;[State -2:		DefenceMulSet]
;type			= DefenceMulSet
;trigger1		= (MoveType = H) && (StateNo = [5000,5120]) && (GetHitVar(HitCount) <= 10) || ((StateNo = [120,155]) && (StateNo != 140))
;value		= 0.60

;[State -2:		DefenceMulSet]
;type			= DefenceMulSet
;trigger1		= (StateNo = 140)
;value		= 0.80
	
;---------------------------------------------------------------------------
;Long Jump Limit

[State -2:		VarSet]
type			= VarSet
trigger1		= (Var(0) = 3) && (P2MoveType != H)
var(0)		= 0

;---------------------------------------------------------------------------
;Regen

[State -2:		VarAdd]
type			= VarAdd
trigger1		= ((GameTime%10) = 0) && (Var(16) > 0) && (MoveType != H)
var(16)		= -1

[State -2:		PowerAdd]
type			= PowerAdd
trigger1		= (((GameTime%10) = 0) && (RoundState = 2)) || (((GameTime%3) = 0) && (Var(16) > 0) && (MoveType != H))
value			= 2

;---------------------------------------------------------------------------
;ScreenBound

[State -2:		VarSet]
type			= VarSet
trigger1		= (Var(17) = 1) && (BackEdgeBodyDist > -5) && (Ctrl)
var(17)		= 0

[State -2:		ScreenBound]
type			= ScreenBound
trigger1		= (Var(17) = 1) && (FrontEdgeBodyDist > 25) && (MoveType != H) && ((NumTarget > 0) || (!Ctrl))
value			= 0
movecamera		= 0,0
ignorehitpause	= 1

[State -2: 		ChangeState]
type			= ChangeState
triggerall 		= (Var(17) = 1) && (BackEdgeBodyDist <= -5)
trigger1		= ((StateType != A) && (Ctrl)) || (StateNo = 40) || (StateNo = 52)
value			= 100

;---------------------------------------------------------------------------
;Bukuu Jyutsu

[State -2:		VarSet]
type			= VarSet
triggerall 		= (Var(20) = 1) && (StateNo != [8020,8030])
trigger1		= (StateNo = [50,52]) || ((MoveType = H) && (StateNo != [5000,5040])) || (StateNo = 7080)
trigger2		= (!Alive) || (Pos Y >= 0)
var(20)		= 0
ignorehitpause	= 1

[State -2:		StateTypeSet]
type			= StateTypeSet
trigger1		= (Var(20) = 1)
physics		= N
ignorehitpause	= 1

[State -2:		PosSet]
type			= PosSet
trigger1		= (Var(20) = 1) && (Pos Y > -5)
y			= -5
ignorehitpause	= 1

[State -2:		VelSet]
type			= VelSet
trigger1		= (Var(20) = 1) && (StateType = A) && (MoveType = A) && (PrevStateNo = 8021)
trigger2		= (Var(20) = 1) && (StateNo = [600,620]) && (Pos Y > -5)
y			= 0
ignorehitpause	= 1

[State -2:		VelSet]
type			= VelSet
triggerall		= (Var(20) = 1) && (StateType = A) && (MoveType = A)
trigger1		= ((Vel X > 0.5) && (Vel X < 2)) || ((Vel X < -0.5) && (Vel X > -2))
x			= 0
ignorehitpause	= 1

[State -2:		VelAdd]
type			= VelAdd
triggerall		= (Var(20) = 1) && (StateType = A) && (MoveType = A)
trigger1		= (Vel X >= 2) || (Vel X <= -2)
x			= IfElse(Vel X > 0,-0.3,0.3)
ignorehitpause	= 1

[State -2:		VelSet]
type			= VelSet
triggerall		= (Var(20) = 1) && (StateType = A) && (MoveType = A)
trigger1		= ((Vel Y > 0.5) && (Vel Y < 2)) || ((Vel Y < -0.5) && (Vel Y > -2))
y			= 0
ignorehitpause	= 1

[State -2:		VelAdd]
type			= VelAdd
triggerall		= (Var(20) = 1) && (StateType = A) && (MoveType = A)
trigger1		= (Vel Y >= 2) || (Vel Y <= -2)
y			= IfElse(Vel Y > 0,-0.3,0.3)
ignorehitpause	= 1

[State -2:		ChangeState]
type			= ChangeState
trigger1		= (Var(20) = 1) && (StateType = A) && (Ctrl) && (((Command = "holda") && (Command = "holdb")) || (RoundState != 2))
value			= 50
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Armor

[State -2: 		VarSet]
type 			= VarSet
trigger1 		= (MoveType != H)
var(21) 		= StateNo 

[State -2: 		VarSet]
type 			= VarSet
triggerall		= (Var(25) > 0)
trigger1		= (Ctrl) || ((MoveType = H) && (StateNo != 8030))
var(25)		= 0

;---------------------------------------------------------------------------
;Quote

[State -2:		VarSet]
type			= VarSet
trigger1		= (StateNo = 5900)
var(23)		= 0

[State -2:		AssertSpecial]
type			= AssertSpecial
trigger1		= (NumHelper(11040))
flag			= NoKOSlow
ignorehitpause	= 1

[State -2:		Helper]
type			= Helper
trigger1 		= (NumHelper(11040) = 0) && (Var(23) > 0)
helpertype		= Normal
name			= "Quote"
id			= 11040
pos			= 0,0
postype		= Left
facing		= 0
stateno		= 11040
keyctrl		= 0
ownpal		= 1
supermovetime	= 9999
pausemovetime	= 9999

[State -2:		Null]
type			= Null
triggerall		= (Var(23) = 0) ^^ ((StateNo = 181) && (Var(23) = -1))
trigger1		= ((StateNo = [1020,1103]) || (StateNo = [2020,2090])) && (Random <= 499) && (NumTarget > 0) && ((Life-P2Life) > 600) && (Var(2) > 0)
trigger1		= (Var(23) := IfElse(Random <= 499,1,5))
trigger2		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Gohan") || (P4Name = "[Necromancer's] Gohan") || (P2Name = "Gohan") || (P4Name = "Gohan"))
trigger2		= (Var(23) := 2)
trigger3		= (StateNo = 193) && (Time = 40) && ((P2Name = "[FlowaGirl's] Piccolo") || (P4Name = "[FlowaGirl's] Piccolo") || (P2Name = "[Necromancer's] Piccolo") || (P4Name = "[Necromancer's] Piccolo") || (P2Name = "Piccolo") || (P4Name = "Piccolo"))
trigger3		= (Var(23) := 3)
trigger4		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Vegeta") || (P4Name = "[Necromancer's] Vegeta") || (P2Name = "Vegeta") || (P4Name = "Vegeta"))
trigger4		= (Var(23) := 3)
trigger5		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Trunks") || (P4Name = "[Necromancer's] Trunks") || (P2Name = "Trunks") || (P4Name = "Trunks"))
trigger5		= (Var(23) := 3)
trigger6		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Krillen") || (P4Name = "[Necromancer's] Krillen") || (P2Name = "Krillen") || (P4Name = "Krillen"))
trigger6		= (Var(23) := 3)
trigger7		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Roshi") || (P4Name = "[Necromancer's] Roshi") || (P2Name = "Roshi") || (P4Name = "Roshi"))
trigger7		= (Var(23) := 3)
trigger8		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Videl") || (P4Name = "[Necromancer's] Videl") || (P2Name = "Videl") || (P4Name = "Videl"))
trigger8		= (Var(23) := 3)
trigger9		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Goten") || (P4Name = "[Necromancer's] Goten") || (P2Name = "Goten") || (P4Name = "Goten"))
trigger9		= (Var(23) := 3)
trigger10		= TeamMode = Turns
trigger10		= (RoundNo > 1) && (RoundsExisted > 0) && (StateNo = 192) && (AnimElem = 3)
trigger10		= (Var(23) := 3)
trigger11		= (((StateNo = 1103) && (Pos Y >= -50) && (Var(2) > 0)) || ((StateNo = 3021) && (P2StateNo = 3023) && (!WinKO) && (Var(2) > 0))) && ((Life-P2Life) > 700) 
trigger11		= (Var(23) := 4)
trigger12		= ((StateNo = 181) && (Life = [500,749]) && (Var(23) = -1)) || (((Life-P2Life) > 400) && (StateNo = 801) && (P2Life <= 250) && (Var(2) > 0)) || ((StateNo = [3000,3010]) && (AnimElem = 2, > 0) && (WinKO) && (Var(2) > 0))
trigger12		= (Var(23) := 5)
trigger13		= ((StateNo = 181) && (Life = [250,499]) && (Var(23) = -1)) || ((StateNo = 3021) && (WinKO) && (Var(2) > 0))
trigger13		= (Var(23) := 6)
trigger14		= ((P2Name = "[Necromancer's] Goku") || (P4Name = "[Necromancer's] Goku") || (P2Name = "Goku") || (P4Name = "Goku")) && (StateNo = 192) && (AnimElem = 3, = 30)
trigger14		= (Var(23) := 7)
trigger15		= (StateNo = 8030) && (P2Life < 750) && ((Life-P2Life) > 500) && (Random <= 249) && (Var(2) > 0)
trigger15		= (Var(23) := 8)
trigger16		= (((P2StateNo = 100) || (EnemyNear, Vel X > 5)) && (MoveType = A) && (Vel X > 0) && (EnemyNear, Facing != Facing)) && (P2MoveType = I) && (P2StateType != L) && ((Life-P2Life) > 600) && (MoveType != H) && (Var(2) > 0)
trigger16		= (Var(23) := IfElse(Random <= 499,8,12))
trigger17		= ((StateNo = 182) && (AnimElem = 2) && (RoundsExisted > 0)) || ((StateNo = 8040) && (P2StateNo = 5070) && (Var(2) > 0) && ((Life-P2Life) > 750)) || ((StateNo = 3010) && (AnimElem = 2) && (Random <= 499) && (Var(2) > 0))
trigger17		= (Var(23) := 9)
trigger18		= (P2Dist X <= 100) && (StateNo = 8030) && ((Life-P2Life) > 300) && (Random <= 249) && (Var(2) > 0)
trigger18		= (Var(23) := (IfElse(Random <= 249,8,10)))
trigger19		= (StateNo = 193) && (Time = 40) && ((P2Name = "[Necromancer's] Poring") || (P4Name = "[Necromancer's] Poring") || (P2Name = "Poring") || (P4Name = "Poring"))
trigger19		= (Var(23) := 10)
trigger20		= (EnemyNear, StateNo = 5120) && ((Life-P2Life) > 400) && (P2Life <= 200) && (Var(2) > 0)
trigger20		= (Var(23) := 11)

;---------------------------------------------------------------------------
;WinKO Finish

[State -2:		Helper]
type			= Helper
trigger1		= (WinKO) && (NumHelper(11060) = 0)
helpertype		= Normal
name			= "WinKO"
id			= 11060
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11060
keyctrl		= 0
ownpal		= 1
supermovetime	= 1000
pausemovetime	= 1000
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Minami Ginga Gouka Hit Check

[State -2:		VarSet]
type			= VarSet
trigger1		= (Var(24) = 1) && (StateNo != 3010)
var(24)		= 0

;===========================================================================

[Statedef -3]

;---------------------------------------------------------------------------
;Artificial Intelligence

;[State -3, SetAI]
;type = VarSet
;triggerall = Alive && !IsHelper
;triggerall = IsHomeTeam
;trigger1 = TeamSide = 2
;trigger2 = MatchNo > 1
;var(58) = 1

;[State -3, AI Helper - Compatibly Partnered Version]
;type = Helper
;trigger1 = !var(58) && !IsHelper
;trigger1 = !NumHelper(9742)
;trigger1 = Alive && RoundState = 2
;trigger1 = NumPartner
;trigger1 = Partner,SelfAnimExist(9741)
;HelperType = normal
;name = "AI Helper (Simul Version)"
;ID = 9742
;pos = 9999999,99999
;StateNo = 9742
;KeyCtrl = 1
;PauseMoveTime = 2147483647
;SuperMoveTime = 2147483647

;[State -3, AI Helper]
;type = Helper
;triggerall = !var(58) && !IsHelper
;triggerall = !NumHelper(9741)
;triggerall = Alive && RoundState = 2
;trigger1 = !NumPartner
;trigger2 = !(Partner,SelfAnimExist(9741))
;HelperType = normal
;name = "AI Helper"
;ID = 9741
;pos = 9999999,99999
;StateNo = 9741
;KeyCtrl = 1
;PauseMoveTime = 2147483647
;SuperMoveTime = 2147483647

;[State -3, TurnBackOnAI]
;type = VarSet
;trigger1 = var(58) = -2 && !IsHelper
;trigger1 = Alive && RoundState = 2
;var(58) = 1

;[State -3, XOR]
;type = VarSet
;triggerall = var(58)!=1 && !IsHelper
;triggerall = !var(56)
;triggerall = var(57) = GameTime-1
;trigger1 = command = "a" ^^ command = "a2"
;trigger2 = command = "b" ^^ command = "b2"
;trigger3 = command = "c" ^^ command = "c2"
;trigger4 = command = "x" ^^ command = "x2"
;trigger5 = command = "y" ^^ command = "y2"
;trigger6 = command = "z" ^^ command = "z2"
;trigger7 = command = "start" ^^ command = "start2"
;trigger8 = command = "holda" ^^ command = "holda2"
;trigger9 = command = "holdb" ^^ command = "holdb2"
;trigger10 = command = "holdc" ^^ command = "holdc2"
;trigger11 = command = "holdx" ^^ command = "holdx2"
;trigger12 = command = "holdy" ^^ command = "holdy2"
;trigger13 = command = "holdz" ^^ command = "holdz2"
;trigger14 = command = "holdstart" ^^ command = "holdstart2"
;trigger15 = command = "holdfwd" ^^ command = "holdfwd2"
;trigger16 = command = "holdback" ^^ command = "holdback2"
;trigger17 = command = "holdup" ^^ command = "holdup2"
;trigger18 = command = "holddown" ^^ command = "holddown2"
;trigger19 = command = "recovery" ^^ command = "recovery2"
;var(58) = 1

;[State -3, fiXOR]
;type = VarAdd
;trigger1 = var(56) > 0 && !IsHelper
;var(56) = -1

;[State -3, fuXOR]
;type = VarSet
;trigger1 = var(57) < GameTime-1 && !IsHelper
;var(56) = 31
;IgnoreHitPause = 1

;[State -3, GameTimeVar]
;type = VarSet
;trigger1 = !IsHelper
;var(57) = GameTime
;IgnoreHitPause = 1

;---------------------------------------------------------------------------
;Misc

[State -3:		PosSet]
type			= PosSet
trigger1 		= (Pos Y > 0) && ((StateNo = [120,155]) || (StateNo = [200,450]) || (StateNo = [700,800]) || (StateNo = [1000,3020]) || (StateNo = 8030) || ((StateType != A) && (Ctrl)))
trigger2 		= ((Pos Y < 0) && (Var(20) = 0) && (StateType != A)) && ((StateNo = [120,155]) || (StateNo = [200,450]) || (StateNo = [700,800]) || (StateNo = [1000,3020]) || (StateNo = 8030) || ((StateType != A) && (Ctrl)))
y			= 0

[State -3:		ChangeState]
type			= ChangeState
trigger1 		= (Pos Y > 0) && (StateNo = [600,620])
value 		= 52

[State -3:		PowerAdd]
type			= PowerAdd
trigger1		= (((GameTime%10) = 0) && (RoundState = 2))
value			= 3

[State -3:		NotHitBy]
type			= NotHitBy
trigger1		= (MoveType = A)
value			= , NT,ST,HT

[State -3:		NotHitBy]
type			= NotHitBy
trigger1		= (Time < 20) && (StateNo = [1000,2999]) && (PrevStateNo = [120,155])
value			= SCA
ignorehitpause	= 1

[State -3: 		StopSnd]
type			= StopSnd
trigger1		= (NumHelper(11050) = 0)
channel		= 5

[State -3: 		StopSnd]
type			= StopSnd
trigger1		= (NumHelper(11050) = 0)
channel		= 6
